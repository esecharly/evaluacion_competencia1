/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{0:function(t,e,n){"use strict";n.d(e,"a",(function(){return M})),n.d(e,"b",(function(){return zu})),n.d(e,"c",(function(){return hn})),n.d(e,"d",(function(){return uu})),n.d(e,"e",(function(){return pe})),n.d(e,"f",(function(){return E})),n.d(e,"g",(function(){return O})),n.d(e,"h",(function(){return Si})),n.d(e,"i",(function(){return $s})),n.d(e,"j",(function(){return qs})),n.d(e,"k",(function(){return T})),n.d(e,"l",(function(){return x})),n.d(e,"m",(function(){return nn})),n.d(e,"n",(function(){return ve})),n.d(e,"o",(function(){return Ns})),n.d(e,"p",(function(){return pn})),n.d(e,"q",(function(){return wn})),n.d(e,"r",(function(){return V})),n.d(e,"s",(function(){return D})),n.d(e,"t",(function(){return S})),n.d(e,"u",(function(){return ki})),n.d(e,"v",(function(){return ln})),n.d(e,"w",(function(){return ct})),n.d(e,"x",(function(){return Au})),n.d(e,"y",(function(){return w})),n.d(e,"z",(function(){return as})),n.d(e,"A",(function(){return Mu})),n.d(e,"B",(function(){return cn})),n.d(e,"C",(function(){return j})),n.d(e,"D",(function(){return z})),n.d(e,"E",(function(){return F})),n.d(e,"F",(function(){return B})),n.d(e,"G",(function(){return Ci}));n(34),n(24),n(122),n(18),n(75),n(102),n(80),n(278),n(60),n(72),n(133),n(280),n(282),n(151),n(457),n(40),n(300),n(459),n(460),n(77),n(462),n(463),n(465),n(466),n(35),n(29),n(467),n(148),n(48),n(68),n(50),n(104),n(181),n(61),n(273),n(67),n(185),n(303),n(186),n(472),n(473),n(474),n(475),n(307),n(476),n(477),n(478),n(187),n(188),n(189),n(190),n(191),n(192),n(193),n(194),n(195),n(196),n(197),n(198),n(199),n(200),n(201),n(202),n(203),n(204),n(205),n(206),n(207),n(208),n(209),n(480),n(19),n(54),n(66),n(482);var r,o=n(33),c=n(76),l=n(14),h=n(88),d=n(7),f=n(239),m=n(56),v=n(5),y=n(13);function _(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(m.a)(t);if(e){var o=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(f.a)(this,n)}}var x={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},w={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},E=2,M=2,S=1e3,T=1006,D=1023;function O(){}Object.assign(O.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)},removeEventListener:function(t,e){if(void 0!==this._listeners){var n=this._listeners[t];if(void 0!==n){var r=n.indexOf(e);-1!==r&&n.splice(r,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners[t.type];if(void 0!==e){t.target=this;for(var n=e.slice(0),i=0,r=n.length;i<r;i++)n[i].call(this,t)}}}});for(var C=[],i=0;i<256;i++)C[i]=(i<16?"0":"")+i.toString(16);var A,k=1234567,P={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(C[255&t]+C[t>>8&255]+C[t>>16&255]+C[t>>24&255]+"-"+C[255&e]+C[e>>8&255]+"-"+C[e>>16&15|64]+C[e>>24&255]+"-"+C[63&n|128]+C[n>>8&255]+"-"+C[n>>16&255]+C[n>>24&255]+C[255&r]+C[r>>8&255]+C[r>>16&255]+C[r>>24&255]).toUpperCase()},clamp:function(t,e,n){return Math.max(e,Math.min(n,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,n,r,o){return r+(t-e)*(o-r)/(n-e)},lerp:function(t,e,n){return(1-n)*t+n*e},smoothstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*(3-2*t)},smootherstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},seededRandom:function(s){return void 0!==s&&(k=s%2147483647),((k=16807*k%2147483647)-1)/2147483646},degToRad:function(t){return t*P.DEG2RAD},radToDeg:function(t){return t*P.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},setQuaternionFromProperEuler:function(q,a,b,t,e){var n=Math.cos,r=Math.sin,o=n(b/2),c=r(b/2),l=n((a+t)/2),h=r((a+t)/2),d=n((a-t)/2),f=r((a-t)/2),m=n((t-a)/2),v=r((t-a)/2);switch(e){case"XYX":q.set(o*h,c*d,c*f,o*l);break;case"YZY":q.set(c*f,o*h,c*d,o*l);break;case"ZXZ":q.set(c*d,c*f,o*h,o*l);break;case"XZX":q.set(o*h,c*v,c*m,o*l);break;case"YXY":q.set(c*m,o*h,c*v,o*l);break;case"ZYZ":q.set(c*v,c*m,o*h,o*l);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+e)}}},j=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(v.a)(this,t),Object.defineProperty(this,"isVector2",{value:!0}),this.x=e,this.y=n}return Object(y.a)(t,[{key:"set",value:function(t,e){return this.x=t,this.y=e,this}},{key:"setScalar",value:function(t){return this.x=t,this.y=t,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"setComponent",value:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}},{key:"getComponent",value:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this}},{key:"add",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)}},{key:"addScalar",value:function(s){return this.x+=s,this.y+=s,this}},{key:"addVectors",value:function(a,b){return this.x=a.x+b.x,this.y=a.y+b.y,this}},{key:"addScaledVector",value:function(t,s){return this.x+=t.x*s,this.y+=t.y*s,this}},{key:"sub",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)}},{key:"subScalar",value:function(s){return this.x-=s,this.y-=s,this}},{key:"subVectors",value:function(a,b){return this.x=a.x-b.x,this.y=a.y-b.y,this}},{key:"multiply",value:function(t){return this.x*=t.x,this.y*=t.y,this}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this}},{key:"divide",value:function(t){return this.x/=t.x,this.y/=t.y,this}},{key:"divideScalar",value:function(t){return this.multiplyScalar(1/t)}},{key:"applyMatrix3",value:function(t){var e=this.x,n=this.y,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6],this.y=r[1]*e+r[4]*n+r[7],this}},{key:"min",value:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}},{key:"max",value:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}},{key:"clamp",value:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}},{key:"clampScalar",value:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}},{key:"clampLength",value:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y}},{key:"cross",value:function(t){return this.x*t.y-this.y*t.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){var t=Math.atan2(-this.y,-this.x)+Math.PI;return t}},{key:"distanceTo",value:function(t){return Math.sqrt(this.distanceToSquared(t))}},{key:"distanceToSquared",value:function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n}},{key:"manhattanDistanceTo",value:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}},{key:"setLength",value:function(t){return this.normalize().multiplyScalar(t)}},{key:"lerp",value:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}},{key:"lerpVectors",value:function(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y}},{key:"fromArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=t[e],this.y=t[e+1],this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.x,t[e+1]=this.y,t}},{key:"fromBufferAttribute",value:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this}},{key:"rotateAround",value:function(t,e){var n=Math.cos(e),s=Math.sin(e),r=this.x-t.x,o=this.y-t.y;return this.x=r*n-o*s+t.x,this.y=r*s+o*n+t.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}},{key:"width",get:function(){return this.x},set:function(t){this.x=t}},{key:"height",get:function(){return this.y},set:function(t){this.y=t}}]),t}(),L=function(){function t(){Object(v.a)(this,t),Object.defineProperty(this,"isMatrix3",{value:!0}),this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}return Object(y.a)(t,[{key:"set",value:function(t,e,n,r,o,c,l,h,d){var f=this.elements;return f[0]=t,f[1]=r,f[2]=l,f[3]=e,f[4]=o,f[5]=h,f[6]=n,f[7]=c,f[8]=d,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}},{key:"copy",value:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this}},{key:"extractBasis",value:function(t,e,n){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}},{key:"multiply",value:function(t){return this.multiplyMatrices(this,t)}},{key:"premultiply",value:function(t){return this.multiplyMatrices(t,this)}},{key:"multiplyMatrices",value:function(a,b){var t=a.elements,e=b.elements,n=this.elements,r=t[0],o=t[3],c=t[6],l=t[1],h=t[4],d=t[7],f=t[2],m=t[5],v=t[8],y=e[0],_=e[3],x=e[6],w=e[1],E=e[4],M=e[7],S=e[2],T=e[5],D=e[8];return n[0]=r*y+o*w+c*S,n[3]=r*_+o*E+c*T,n[6]=r*x+o*M+c*D,n[1]=l*y+h*w+d*S,n[4]=l*_+h*E+d*T,n[7]=l*x+h*M+d*D,n[2]=f*y+m*w+v*S,n[5]=f*_+m*E+v*T,n[8]=f*x+m*M+v*D,this}},{key:"multiplyScalar",value:function(s){var t=this.elements;return t[0]*=s,t[3]*=s,t[6]*=s,t[1]*=s,t[4]*=s,t[7]*=s,t[2]*=s,t[5]*=s,t[8]*=s,this}},{key:"determinant",value:function(){var t=this.elements,a=t[0],b=t[1],e=t[2],n=t[3],r=t[4],o=t[5],g=t[6],c=t[7],i=t[8];return a*r*i-a*o*c-b*n*i+b*o*g+e*n*c-e*r*g}},{key:"getInverse",value:function(t,e){void 0!==e&&console.warn("THREE.Matrix3: .getInverse() can no longer be configured to throw on degenerate.");var n=t.elements,r=this.elements,o=n[0],c=n[1],l=n[2],h=n[3],d=n[4],f=n[5],m=n[6],v=n[7],y=n[8],_=y*d-f*v,x=f*m-y*h,w=v*h-d*m,E=o*_+c*x+l*w;if(0===E)return this.set(0,0,0,0,0,0,0,0,0);var M=1/E;return r[0]=_*M,r[1]=(l*v-y*c)*M,r[2]=(f*c-l*d)*M,r[3]=x*M,r[4]=(y*o-l*m)*M,r[5]=(l*h-f*o)*M,r[6]=w*M,r[7]=(c*m-v*o)*M,r[8]=(d*o-c*h)*M,this}},{key:"transpose",value:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}},{key:"getNormalMatrix",value:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()}},{key:"transposeIntoArray",value:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}},{key:"setUvTransform",value:function(t,e,n,r,o,c,l){var h=Math.cos(o),s=Math.sin(o);this.set(n*h,n*s,-n*(h*c+s*l)+c+t,-r*s,r*h,-r*(-s*c+h*l)+l+e,0,0,1)}},{key:"scale",value:function(t,e){var n=this.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=e,n[4]*=e,n[7]*=e,this}},{key:"rotate",value:function(t){var e=Math.cos(t),s=Math.sin(t),n=this.elements,r=n[0],o=n[3],c=n[6],l=n[1],h=n[4],d=n[7];return n[0]=e*r+s*l,n[3]=e*o+s*h,n[6]=e*c+s*d,n[1]=-s*r+e*l,n[4]=-s*o+e*h,n[7]=-s*c+e*d,this}},{key:"translate",value:function(t,e){var n=this.elements;return n[0]+=t*n[2],n[3]+=t*n[5],n[6]+=t*n[8],n[1]+=e*n[2],n[4]+=e*n[5],n[7]+=e*n[8],this}},{key:"equals",value:function(t){for(var e=this.elements,n=t.elements,r=0;r<9;r++)if(e[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=t[n+e];return this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}}]),t}(),I={getDataURL:function(image){if(/^data:/i.test(image.src))return image.src;if("undefined"==typeof HTMLCanvasElement)return image.src;var canvas;if(image instanceof HTMLCanvasElement)canvas=image;else{void 0===A&&(A=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),A.width=image.width,A.height=image.height;var t=A.getContext("2d");image instanceof ImageData?t.putImageData(image,0,0):t.drawImage(image,0,0,image.width,image.height),canvas=A}return canvas.width>2048||canvas.height>2048?canvas.toDataURL("image/jpeg",.6):canvas.toDataURL("image/png")}},R=0;function N(image,t,e,n,r,o,c,l,h,d){Object.defineProperty(this,"id",{value:R++}),this.uuid=P.generateUUID(),this.name="",this.image=void 0!==image?image:N.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:N.DEFAULT_MAPPING,this.wrapS=void 0!==e?e:1001,this.wrapT=void 0!==n?n:1001,this.magFilter=void 0!==r?r:T,this.minFilter=void 0!==o?o:1008,this.anisotropy=void 0!==h?h:1,this.format=void 0!==c?c:D,this.internalFormat=null,this.type=void 0!==l?l:1009,this.offset=new j(0,0),this.repeat=new j(1,1),this.center=new j(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new L,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==d?d:3e3,this.version=0,this.onUpdate=null}N.DEFAULT_IMAGE=void 0,N.DEFAULT_MAPPING=300,N.prototype=Object.assign(Object.create(O.prototype),{constructor:N,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(source){return this.name=source.name,this.image=source.image,this.mipmaps=source.mipmaps.slice(0),this.mapping=source.mapping,this.wrapS=source.wrapS,this.wrapT=source.wrapT,this.magFilter=source.magFilter,this.minFilter=source.minFilter,this.anisotropy=source.anisotropy,this.format=source.format,this.internalFormat=source.internalFormat,this.type=source.type,this.offset.copy(source.offset),this.repeat.copy(source.repeat),this.center.copy(source.center),this.rotation=source.rotation,this.matrixAutoUpdate=source.matrixAutoUpdate,this.matrix.copy(source.matrix),this.generateMipmaps=source.generateMipmaps,this.premultiplyAlpha=source.premultiplyAlpha,this.flipY=source.flipY,this.unpackAlignment=source.unpackAlignment,this.encoding=source.encoding,this},toJSON:function(meta){var t=void 0===meta||"string"==typeof meta;if(!t&&void 0!==meta.textures[this.uuid])return meta.textures[this.uuid];var output={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var image=this.image;if(void 0===image.uuid&&(image.uuid=P.generateUUID()),!t&&void 0===meta.images[image.uuid]){var e;if(Array.isArray(image)){e=[];for(var n=0,r=image.length;n<r;n++)e.push(I.getDataURL(image[n]))}else e=I.getDataURL(image);meta.images[image.uuid]={uuid:image.uuid,url:e}}output.image=image.uuid}return t||(meta.textures[this.uuid]=output),output},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case S:t.x=t.x-Math.floor(t.x);break;case 1001:t.x=t.x<0?0:1;break;case 1002:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case S:t.y=t.y-Math.floor(t.y);break;case 1001:t.y=t.y<0?0:1;break;case 1002:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}}),Object.defineProperty(N.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}});var F=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Object(v.a)(this,t),Object.defineProperty(this,"isVector4",{value:!0}),this.x=e,this.y=n,this.z=r,this.w=o}return Object(y.a)(t,[{key:"set",value:function(t,e,n,r){return this.x=t,this.y=e,this.z=n,this.w=r,this}},{key:"setScalar",value:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"setZ",value:function(t){return this.z=t,this}},{key:"setW",value:function(t){return this.w=t,this}},{key:"setComponent",value:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}},{key:"getComponent",value:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this}},{key:"add",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)}},{key:"addScalar",value:function(s){return this.x+=s,this.y+=s,this.z+=s,this.w+=s,this}},{key:"addVectors",value:function(a,b){return this.x=a.x+b.x,this.y=a.y+b.y,this.z=a.z+b.z,this.w=a.w+b.w,this}},{key:"addScaledVector",value:function(t,s){return this.x+=t.x*s,this.y+=t.y*s,this.z+=t.z*s,this.w+=t.w*s,this}},{key:"sub",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)}},{key:"subScalar",value:function(s){return this.x-=s,this.y-=s,this.z-=s,this.w-=s,this}},{key:"subVectors",value:function(a,b){return this.x=a.x-b.x,this.y=a.y-b.y,this.z=a.z-b.z,this.w=a.w-b.w,this}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}},{key:"applyMatrix4",value:function(t){var e=this.x,n=this.y,r=this.z,o=this.w,c=t.elements;return this.x=c[0]*e+c[4]*n+c[8]*r+c[12]*o,this.y=c[1]*e+c[5]*n+c[9]*r+c[13]*o,this.z=c[2]*e+c[6]*n+c[10]*r+c[14]*o,this.w=c[3]*e+c[7]*n+c[11]*r+c[15]*o,this}},{key:"divideScalar",value:function(t){return this.multiplyScalar(1/t)}},{key:"setAxisAngleFromQuaternion",value:function(q){this.w=2*Math.acos(q.w);var s=Math.sqrt(1-q.w*q.w);return s<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=q.x/s,this.y=q.y/s,this.z=q.z/s),this}},{key:"setAxisAngleFromRotationMatrix",value:function(t){var e,n,r,o,c=t.elements,l=c[0],h=c[4],d=c[8],f=c[1],m=c[5],v=c[9],y=c[2],_=c[6],x=c[10];if(Math.abs(h-f)<.01&&Math.abs(d-y)<.01&&Math.abs(v-_)<.01){if(Math.abs(h+f)<.1&&Math.abs(d+y)<.1&&Math.abs(v+_)<.1&&Math.abs(l+m+x-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;var w=(l+1)/2,E=(m+1)/2,M=(x+1)/2,S=(h+f)/4,T=(d+y)/4,D=(v+_)/4;return w>E&&w>M?w<.01?(n=0,r=.707106781,o=.707106781):(r=S/(n=Math.sqrt(w)),o=T/n):E>M?E<.01?(n=.707106781,r=0,o=.707106781):(n=S/(r=Math.sqrt(E)),o=D/r):M<.01?(n=.707106781,r=.707106781,o=0):(n=T/(o=Math.sqrt(M)),r=D/o),this.set(n,r,o,e),this}var s=Math.sqrt((_-v)*(_-v)+(d-y)*(d-y)+(f-h)*(f-h));return Math.abs(s)<.001&&(s=1),this.x=(_-v)/s,this.y=(d-y)/s,this.z=(f-h)/s,this.w=Math.acos((l+m+x-1)/2),this}},{key:"min",value:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}},{key:"max",value:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}},{key:"clamp",value:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}},{key:"clampScalar",value:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this}},{key:"clampLength",value:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(t){return this.normalize().multiplyScalar(t)}},{key:"lerp",value:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}},{key:"lerpVectors",value:function(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this.w=t.w+(e.w-t.w)*n,this}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}},{key:"fromArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}},{key:"fromBufferAttribute",value:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}},{key:"width",get:function(){return this.z},set:function(t){this.z=t}},{key:"height",get:function(){return this.w},set:function(t){this.w=t}}]),t}();function B(t,e,n){this.width=t,this.height=e,this.scissor=new F(0,0,t,e),this.scissorTest=!1,this.viewport=new F(0,0,t,e),n=n||{},this.texture=new N(void 0,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.image={},this.texture.image.width=t,this.texture.image.height=e,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:T,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0!==n.stencilBuffer&&n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function U(t,e,n){B.call(this,t,e,n),this.samples=4}B.prototype=Object.assign(Object.create(O.prototype),{constructor:B,isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.texture.image.width=t,this.texture.image.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(source){return this.width=source.width,this.height=source.height,this.viewport.copy(source.viewport),this.texture=source.texture.clone(),this.depthBuffer=source.depthBuffer,this.stencilBuffer=source.stencilBuffer,this.depthTexture=source.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),U.prototype=Object.assign(Object.create(B.prototype),{constructor:U,isWebGLMultisampleRenderTarget:!0,copy:function(source){return B.prototype.copy.call(this,source),this.samples=source.samples,this}});var V=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Object(v.a)(this,t),Object.defineProperty(this,"isQuaternion",{value:!0}),this._x=e,this._y=n,this._z=r,this._w=o}return Object(y.a)(t,[{key:"set",value:function(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._w=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=t._x,r=t._y,o=t._z,c=t._order,l=Math.cos,h=Math.sin,d=l(n/2),f=l(r/2),m=l(o/2),v=h(n/2),y=h(r/2),_=h(o/2);switch(c){case"XYZ":this._x=v*f*m+d*y*_,this._y=d*y*m-v*f*_,this._z=d*f*_+v*y*m,this._w=d*f*m-v*y*_;break;case"YXZ":this._x=v*f*m+d*y*_,this._y=d*y*m-v*f*_,this._z=d*f*_-v*y*m,this._w=d*f*m+v*y*_;break;case"ZXY":this._x=v*f*m-d*y*_,this._y=d*y*m+v*f*_,this._z=d*f*_+v*y*m,this._w=d*f*m-v*y*_;break;case"ZYX":this._x=v*f*m-d*y*_,this._y=d*y*m+v*f*_,this._z=d*f*_-v*y*m,this._w=d*f*m+v*y*_;break;case"YZX":this._x=v*f*m+d*y*_,this._y=d*y*m+v*f*_,this._z=d*f*_-v*y*m,this._w=d*f*m-v*y*_;break;case"XZY":this._x=v*f*m-d*y*_,this._y=d*y*m-v*f*_,this._z=d*f*_+v*y*m,this._w=d*f*m+v*y*_;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+c)}return!1!==e&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(t,e){var n=e/2,s=Math.sin(n);return this._x=t.x*s,this._y=t.y*s,this._z=t.z*s,this._w=Math.cos(n),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(t){var e=t.elements,n=e[0],r=e[4],o=e[8],c=e[1],l=e[5],h=e[9],d=e[2],f=e[6],m=e[10],v=n+l+m;if(v>0){var s=.5/Math.sqrt(v+1);this._w=.25/s,this._x=(f-h)*s,this._y=(o-d)*s,this._z=(c-r)*s}else if(n>l&&n>m){var y=2*Math.sqrt(1+n-l-m);this._w=(f-h)/y,this._x=.25*y,this._y=(r+c)/y,this._z=(o+d)/y}else if(l>m){var _=2*Math.sqrt(1+l-n-m);this._w=(o-d)/_,this._x=(r+c)/_,this._y=.25*_,this._z=(h+f)/_}else{var x=2*Math.sqrt(1+m-n-l);this._w=(c-r)/x,this._x=(o+d)/x,this._y=(h+f)/x,this._z=.25*x}return this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(t,e){var n=t.dot(e)+1;return n<1e-6?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=n):(this._x=0,this._y=-t.z,this._z=t.y,this._w=n)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=n),this.normalize()}},{key:"angleTo",value:function(q){return 2*Math.acos(Math.abs(P.clamp(this.dot(q),-1,1)))}},{key:"rotateTowards",value:function(q,t){var e=this.angleTo(q);if(0===e)return this;var n=Math.min(1,t/e);return this.slerp(q,n),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"inverse",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}},{key:"multiply",value:function(q,p){return void 0!==p?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(q,p)):this.multiplyQuaternions(this,q)}},{key:"premultiply",value:function(q){return this.multiplyQuaternions(q,this)}},{key:"multiplyQuaternions",value:function(a,b){var t=a._x,e=a._y,n=a._z,r=a._w,o=b._x,c=b._y,l=b._z,h=b._w;return this._x=t*h+r*o+e*l-n*c,this._y=e*h+r*c+n*o-t*l,this._z=n*h+r*l+t*c-e*o,this._w=r*h-t*o-e*c-n*l,this._onChangeCallback(),this}},{key:"slerp",value:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var n=this._x,r=this._y,o=this._z,c=this._w,l=c*t._w+n*t._x+r*t._y+o*t._z;if(l<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,l=-l):this.copy(t),l>=1)return this._w=c,this._x=n,this._y=r,this._z=o,this;var h=1-l*l;if(h<=Number.EPSILON){var s=1-e;return this._w=s*c+e*this._w,this._x=s*n+e*this._x,this._y=s*r+e*this._y,this._z=s*o+e*this._z,this.normalize(),this._onChangeCallback(),this}var d=Math.sqrt(h),f=Math.atan2(d,l),m=Math.sin((1-e)*f)/d,v=Math.sin(e*f)/d;return this._w=c*m+this._w*v,this._x=n*m+this._x*v,this._y=r*m+this._y*v,this._z=o*m+this._z*v,this._onChangeCallback(),this}},{key:"equals",value:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}},{key:"fromArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}},{key:"fromBufferAttribute",value:function(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}},{key:"_onChange",value:function(t){return this._onChangeCallback=t,this}},{key:"_onChangeCallback",value:function(){}},{key:"x",get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(t){this._w=t,this._onChangeCallback()}}],[{key:"slerp",value:function(t,e,n,r){return n.copy(t).slerp(e,r)}},{key:"slerpFlat",value:function(t,e,n,r,o,c,l){var h=n[r+0],d=n[r+1],f=n[r+2],m=n[r+3],v=o[c+0],y=o[c+1],_=o[c+2],x=o[c+3];if(m!==x||h!==v||d!==y||f!==_){var s=1-l,w=h*v+d*y+f*_+m*x,E=w>=0?1:-1,M=1-w*w;if(M>Number.EPSILON){var S=Math.sqrt(M),T=Math.atan2(S,w*E);s=Math.sin(s*T)/S,l=Math.sin(l*T)/S}var D=l*E;if(h=h*s+v*D,d=d*s+y*D,f=f*s+_*D,m=m*s+x*D,s===1-l){var O=1/Math.sqrt(h*h+d*d+f*f+m*m);h*=O,d*=O,f*=O,m*=O}}t[e]=h,t[e+1]=d,t[e+2]=f,t[e+3]=m}},{key:"multiplyQuaternionsFlat",value:function(t,e,n,r,o,c){var l=n[r],h=n[r+1],d=n[r+2],f=n[r+3],m=o[c],v=o[c+1],y=o[c+2],_=o[c+3];return t[e]=l*_+f*m+h*y-d*v,t[e+1]=h*_+f*v+d*m-l*y,t[e+2]=d*_+f*y+l*v-h*m,t[e+3]=f*_-l*m-h*v-d*y,t}}]),t}(),z=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Object(v.a)(this,t),Object.defineProperty(this,"isVector3",{value:!0}),this.x=e,this.y=n,this.z=r}return Object(y.a)(t,[{key:"set",value:function(t,e,n){return void 0===n&&(n=this.z),this.x=t,this.y=e,this.z=n,this}},{key:"setScalar",value:function(t){return this.x=t,this.y=t,this.z=t,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"setZ",value:function(t){return this.z=t,this}},{key:"setComponent",value:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}},{key:"getComponent",value:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}},{key:"add",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}},{key:"addScalar",value:function(s){return this.x+=s,this.y+=s,this.z+=s,this}},{key:"addVectors",value:function(a,b){return this.x=a.x+b.x,this.y=a.y+b.y,this.z=a.z+b.z,this}},{key:"addScaledVector",value:function(t,s){return this.x+=t.x*s,this.y+=t.y*s,this.z+=t.z*s,this}},{key:"sub",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}},{key:"subScalar",value:function(s){return this.x-=s,this.y-=s,this.z-=s,this}},{key:"subVectors",value:function(a,b){return this.x=a.x-b.x,this.y=a.y-b.y,this.z=a.z-b.z,this}},{key:"multiply",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this.z*=t,this}},{key:"multiplyVectors",value:function(a,b){return this.x=a.x*b.x,this.y=a.y*b.y,this.z=a.z*b.z,this}},{key:"applyEuler",value:function(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(G.setFromEuler(t))}},{key:"applyAxisAngle",value:function(t,e){return this.applyQuaternion(G.setFromAxisAngle(t,e))}},{key:"applyMatrix3",value:function(t){var e=this.x,n=this.y,r=this.z,o=t.elements;return this.x=o[0]*e+o[3]*n+o[6]*r,this.y=o[1]*e+o[4]*n+o[7]*r,this.z=o[2]*e+o[5]*n+o[8]*r,this}},{key:"applyNormalMatrix",value:function(t){return this.applyMatrix3(t).normalize()}},{key:"applyMatrix4",value:function(t){var e=this.x,n=this.y,r=this.z,o=t.elements,c=1/(o[3]*e+o[7]*n+o[11]*r+o[15]);return this.x=(o[0]*e+o[4]*n+o[8]*r+o[12])*c,this.y=(o[1]*e+o[5]*n+o[9]*r+o[13])*c,this.z=(o[2]*e+o[6]*n+o[10]*r+o[14])*c,this}},{key:"applyQuaternion",value:function(q){var t=this.x,e=this.y,n=this.z,r=q.x,o=q.y,c=q.z,l=q.w,h=l*t+o*n-c*e,d=l*e+c*t-r*n,f=l*n+r*e-o*t,m=-r*t-o*e-c*n;return this.x=h*l+m*-r+d*-c-f*-o,this.y=d*l+m*-o+f*-r-h*-c,this.z=f*l+m*-c+h*-o-d*-r,this}},{key:"project",value:function(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}},{key:"unproject",value:function(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}},{key:"transformDirection",value:function(t){var e=this.x,n=this.y,r=this.z,o=t.elements;return this.x=o[0]*e+o[4]*n+o[8]*r,this.y=o[1]*e+o[5]*n+o[9]*r,this.z=o[2]*e+o[6]*n+o[10]*r,this.normalize()}},{key:"divide",value:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}},{key:"divideScalar",value:function(t){return this.multiplyScalar(1/t)}},{key:"min",value:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}},{key:"max",value:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}},{key:"clamp",value:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}},{key:"clampScalar",value:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}},{key:"clampLength",value:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y+this.z*t.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(t){return this.normalize().multiplyScalar(t)}},{key:"lerp",value:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}},{key:"lerpVectors",value:function(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this}},{key:"cross",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)}},{key:"crossVectors",value:function(a,b){var t=a.x,e=a.y,n=a.z,r=b.x,o=b.y,c=b.z;return this.x=e*c-n*o,this.y=n*r-t*c,this.z=t*o-e*r,this}},{key:"projectOnVector",value:function(t){var e=t.lengthSq();if(0===e)return this.set(0,0,0);var n=t.dot(this)/e;return this.copy(t).multiplyScalar(n)}},{key:"projectOnPlane",value:function(t){return H.copy(this).projectOnVector(t),this.sub(H)}},{key:"reflect",value:function(t){return this.sub(H.copy(t).multiplyScalar(2*this.dot(t)))}},{key:"angleTo",value:function(t){var e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;var n=this.dot(t)/e;return Math.acos(P.clamp(n,-1,1))}},{key:"distanceTo",value:function(t){return Math.sqrt(this.distanceToSquared(t))}},{key:"distanceToSquared",value:function(t){var e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return e*e+n*n+r*r}},{key:"manhattanDistanceTo",value:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}},{key:"setFromSpherical",value:function(s){return this.setFromSphericalCoords(s.radius,s.phi,s.theta)}},{key:"setFromSphericalCoords",value:function(t,e,n){var r=Math.sin(e)*t;return this.x=r*Math.sin(n),this.y=Math.cos(e)*t,this.z=r*Math.cos(n),this}},{key:"setFromCylindrical",value:function(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}},{key:"setFromCylindricalCoords",value:function(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this}},{key:"setFromMatrixPosition",value:function(t){var e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}},{key:"setFromMatrixScale",value:function(t){var e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=r,this}},{key:"setFromMatrixColumn",value:function(t,e){return this.fromArray(t.elements,4*e)}},{key:"setFromMatrix3Column",value:function(t,e){return this.fromArray(t.elements,3*e)}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}},{key:"fromArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}},{key:"fromBufferAttribute",value:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}]),t}(),H=new z,G=new V,W=function(){function t(e,n){Object(v.a)(this,t),Object.defineProperty(this,"isBox3",{value:!0}),this.min=void 0!==e?e:new z(1/0,1/0,1/0),this.max=void 0!==n?n:new z(-1/0,-1/0,-1/0)}return Object(y.a)(t,[{key:"set",value:function(t,e){return this.min.copy(t),this.max.copy(e),this}},{key:"setFromArray",value:function(t){for(var e=1/0,n=1/0,r=1/0,o=-1/0,c=-1/0,l=-1/0,h=0,d=t.length;h<d;h+=3){var f=t[h],m=t[h+1],v=t[h+2];f<e&&(e=f),m<n&&(n=m),v<r&&(r=v),f>o&&(o=f),m>c&&(c=m),v>l&&(l=v)}return this.min.set(e,n,r),this.max.set(o,c,l),this}},{key:"setFromBufferAttribute",value:function(t){for(var e=1/0,n=1/0,r=1/0,o=-1/0,c=-1/0,l=-1/0,h=0,d=t.count;h<d;h++){var f=t.getX(h),m=t.getY(h),v=t.getZ(h);f<e&&(e=f),m<n&&(n=m),v<r&&(r=v),f>o&&(o=f),m>c&&(c=m),v>l&&(l=v)}return this.min.set(e,n,r),this.max.set(o,c,l),this}},{key:"setFromPoints",value:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}},{key:"setFromCenterAndSize",value:function(t,e){var n=X.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}},{key:"setFromObject",value:function(object){return this.makeEmpty(),this.expandByObject(object)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.min.copy(t.min),this.max.copy(t.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(t){return void 0===t&&(console.warn("THREE.Box3: .getCenter() target is now required"),t=new z),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(t){return void 0===t&&(console.warn("THREE.Box3: .getSize() target is now required"),t=new z),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(t){return this.min.min(t),this.max.max(t),this}},{key:"expandByVector",value:function(t){return this.min.sub(t),this.max.add(t),this}},{key:"expandByScalar",value:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this}},{key:"expandByObject",value:function(object){object.updateWorldMatrix(!1,!1);var t=object.geometry;void 0!==t&&(null===t.boundingBox&&t.computeBoundingBox(),Y.copy(t.boundingBox),Y.applyMatrix4(object.matrixWorld),this.union(Y));for(var e=object.children,n=0,r=e.length;n<r;n++)this.expandByObject(e[n]);return this}},{key:"containsPoint",value:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}},{key:"containsBox",value:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}},{key:"getParameter",value:function(t,e){return void 0===e&&(console.warn("THREE.Box3: .getParameter() target is now required"),e=new z),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}},{key:"intersectsSphere",value:function(t){return this.clampPoint(t.center,X),X.distanceToSquared(t.center)<=t.radius*t.radius}},{key:"intersectsPlane",value:function(t){var e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=-t.constant&&n>=-t.constant}},{key:"intersectsTriangle",value:function(t){if(this.isEmpty())return!1;this.getCenter(it),ot.subVectors(this.max,it),K.subVectors(t.a,it),J.subVectors(t.b,it),Z.subVectors(t.c,it),tt.subVectors(J,K),et.subVectors(Z,J),nt.subVectors(K,Z);var e=[0,-tt.z,tt.y,0,-et.z,et.y,0,-nt.z,nt.y,tt.z,0,-tt.x,et.z,0,-et.x,nt.z,0,-nt.x,-tt.y,tt.x,0,-et.y,et.x,0,-nt.y,nt.x,0];return!!$(e,K,J,Z,ot)&&(!!$(e=[1,0,0,0,1,0,0,0,1],K,J,Z,ot)&&(at.crossVectors(tt,et),$(e=[at.x,at.y,at.z],K,J,Z,ot)))}},{key:"clampPoint",value:function(t,e){return void 0===e&&(console.warn("THREE.Box3: .clampPoint() target is now required"),e=new z),e.copy(t).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(t){return X.copy(t).clamp(this.min,this.max).sub(t).length()}},{key:"getBoundingSphere",value:function(t){return void 0===t&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(t.center),t.radius=.5*this.getSize(X).length(),t}},{key:"intersect",value:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(t){return this.min.min(t.min),this.max.max(t.max),this}},{key:"applyMatrix4",value:function(t){return this.isEmpty()||(Q[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),Q[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),Q[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),Q[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),Q[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),Q[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),Q[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),Q[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(Q)),this}},{key:"translate",value:function(t){return this.min.add(t),this.max.add(t),this}},{key:"equals",value:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}]),t}();function $(t,e,n,r,o){for(var c=0,l=t.length-3;c<=l;c+=3){st.fromArray(t,c);var h=o.x*Math.abs(st.x)+o.y*Math.abs(st.y)+o.z*Math.abs(st.z),d=e.dot(st),f=n.dot(st),m=r.dot(st);if(Math.max(-Math.max(d,f,m),Math.min(d,f,m))>h)return!1}return!0}var Q=[new z,new z,new z,new z,new z,new z,new z,new z],X=new z,Y=new W,K=new z,J=new z,Z=new z,tt=new z,et=new z,nt=new z,it=new z,ot=new z,at=new z,st=new z,ut=new W,ct=function(){function t(e,n){Object(v.a)(this,t),this.center=void 0!==e?e:new z,this.radius=void 0!==n?n:-1}return Object(y.a)(t,[{key:"set",value:function(t,e){return this.center.copy(t),this.radius=e,this}},{key:"setFromPoints",value:function(t,e){var n=this.center;void 0!==e?n.copy(e):ut.setFromPoints(t).getCenter(n);for(var r=0,o=0,c=t.length;o<c;o++)r=Math.max(r,n.distanceToSquared(t[o]));return this.radius=Math.sqrt(r),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.center.copy(t.center),this.radius=t.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(t){return t.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}},{key:"intersectsBox",value:function(t){return t.intersectsSphere(this)}},{key:"intersectsPlane",value:function(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(t,e){var n=this.center.distanceToSquared(t);return void 0===e&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),e=new z),e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}},{key:"getBoundingBox",value:function(t){return void 0===t&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),t=new W),this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}},{key:"applyMatrix4",value:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}},{key:"translate",value:function(t){return this.center.add(t),this}},{key:"equals",value:function(t){return t.center.equals(this.center)&&t.radius===this.radius}}]),t}(),lt=new z,ht=new z,pt=new z,ft=new z,mt=new z,vt=new z,gt=new z,yt=function(){function t(e,n){Object(v.a)(this,t),this.origin=void 0!==e?e:new z,this.direction=void 0!==n?n:new z(0,0,-1)}return Object(y.a)(t,[{key:"set",value:function(t,e){return this.origin.copy(t),this.direction.copy(e),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}},{key:"at",value:function(t,e){return void 0===e&&(console.warn("THREE.Ray: .at() target is now required"),e=new z),e.copy(this.direction).multiplyScalar(t).add(this.origin)}},{key:"lookAt",value:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this}},{key:"recast",value:function(t){return this.origin.copy(this.at(t,lt)),this}},{key:"closestPointToPoint",value:function(t,e){void 0===e&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),e=new z),e.subVectors(t,this.origin);var n=e.dot(this.direction);return n<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(n).add(this.origin)}},{key:"distanceToPoint",value:function(t){return Math.sqrt(this.distanceSqToPoint(t))}},{key:"distanceSqToPoint",value:function(t){var e=lt.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(lt.copy(this.direction).multiplyScalar(e).add(this.origin),lt.distanceToSquared(t))}},{key:"distanceSqToSegment",value:function(t,e,n,r){ht.copy(t).add(e).multiplyScalar(.5),pt.copy(e).sub(t).normalize(),ft.copy(this.origin).sub(ht);var o,c,l,h,d=.5*t.distanceTo(e),f=-this.direction.dot(pt),m=ft.dot(this.direction),v=-ft.dot(pt),y=ft.lengthSq(),_=Math.abs(1-f*f);if(_>0)if(c=f*m-v,h=d*_,(o=f*v-m)>=0)if(c>=-h)if(c<=h){var x=1/_;l=(o*=x)*(o+f*(c*=x)+2*m)+c*(f*o+c+2*v)+y}else c=d,l=-(o=Math.max(0,-(f*c+m)))*o+c*(c+2*v)+y;else c=-d,l=-(o=Math.max(0,-(f*c+m)))*o+c*(c+2*v)+y;else c<=-h?l=-(o=Math.max(0,-(-f*d+m)))*o+(c=o>0?-d:Math.min(Math.max(-d,-v),d))*(c+2*v)+y:c<=h?(o=0,l=(c=Math.min(Math.max(-d,-v),d))*(c+2*v)+y):l=-(o=Math.max(0,-(f*d+m)))*o+(c=o>0?d:Math.min(Math.max(-d,-v),d))*(c+2*v)+y;else c=f>0?-d:d,l=-(o=Math.max(0,-(f*c+m)))*o+c*(c+2*v)+y;return n&&n.copy(this.direction).multiplyScalar(o).add(this.origin),r&&r.copy(pt).multiplyScalar(c).add(ht),l}},{key:"intersectSphere",value:function(t,e){lt.subVectors(t.center,this.origin);var n=lt.dot(this.direction),r=lt.dot(lt)-n*n,o=t.radius*t.radius;if(r>o)return null;var c=Math.sqrt(o-r),l=n-c,h=n+c;return l<0&&h<0?null:l<0?this.at(h,e):this.at(l,e)}},{key:"intersectsSphere",value:function(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}},{key:"distanceToPlane",value:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null}},{key:"intersectPlane",value:function(t,e){var n=this.distanceToPlane(t);return null===n?null:this.at(n,e)}},{key:"intersectsPlane",value:function(t){var e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0}},{key:"intersectBox",value:function(t,e){var n,r,o,c,l,h,d=1/this.direction.x,f=1/this.direction.y,m=1/this.direction.z,v=this.origin;return d>=0?(n=(t.min.x-v.x)*d,r=(t.max.x-v.x)*d):(n=(t.max.x-v.x)*d,r=(t.min.x-v.x)*d),f>=0?(o=(t.min.y-v.y)*f,c=(t.max.y-v.y)*f):(o=(t.max.y-v.y)*f,c=(t.min.y-v.y)*f),n>c||o>r?null:((o>n||n!=n)&&(n=o),(c<r||r!=r)&&(r=c),m>=0?(l=(t.min.z-v.z)*m,h=(t.max.z-v.z)*m):(l=(t.max.z-v.z)*m,h=(t.min.z-v.z)*m),n>h||l>r?null:((l>n||n!=n)&&(n=l),(h<r||r!=r)&&(r=h),r<0?null:this.at(n>=0?n:r,e)))}},{key:"intersectsBox",value:function(t){return null!==this.intersectBox(t,lt)}},{key:"intersectTriangle",value:function(a,b,t,e,n){mt.subVectors(b,a),vt.subVectors(t,a),gt.crossVectors(mt,vt);var r,o=this.direction.dot(gt);if(o>0){if(e)return null;r=1}else{if(!(o<0))return null;r=-1,o=-o}ft.subVectors(this.origin,a);var c=r*this.direction.dot(vt.crossVectors(ft,vt));if(c<0)return null;var l=r*this.direction.dot(mt.cross(ft));if(l<0)return null;if(c+l>o)return null;var h=-r*ft.dot(gt);return h<0?null:this.at(h/o,n)}},{key:"applyMatrix4",value:function(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}},{key:"equals",value:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}}]),t}(),_t=function(){function t(){Object(v.a)(this,t),Object.defineProperty(this,"isMatrix4",{value:!0}),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}return Object(y.a)(t,[{key:"set",value:function(t,e,n,r,o,c,l,h,d,f,m,v,y,_,x,w){var E=this.elements;return E[0]=t,E[4]=e,E[8]=n,E[12]=r,E[1]=o,E[5]=c,E[9]=l,E[13]=h,E[2]=d,E[6]=f,E[10]=m,E[14]=v,E[3]=y,E[7]=_,E[11]=x,E[15]=w,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new t).fromArray(this.elements)}},{key:"copy",value:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this}},{key:"copyPosition",value:function(t){var e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this}},{key:"extractBasis",value:function(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(t){var e=this.elements,n=t.elements,r=1/bt.setFromMatrixColumn(t,0).length(),o=1/bt.setFromMatrixColumn(t,1).length(),c=1/bt.setFromMatrixColumn(t,2).length();return e[0]=n[0]*r,e[1]=n[1]*r,e[2]=n[2]*r,e[3]=0,e[4]=n[4]*o,e[5]=n[5]*o,e[6]=n[6]*o,e[7]=0,e[8]=n[8]*c,e[9]=n[9]*c,e[10]=n[10]*c,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}},{key:"makeRotationFromEuler",value:function(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var e=this.elements,n=t.x,r=t.y,o=t.z,a=Math.cos(n),b=Math.sin(n),c=Math.cos(r),l=Math.sin(r),h=Math.cos(o),d=Math.sin(o);if("XYZ"===t.order){var f=a*h,m=a*d,v=b*h,y=b*d;e[0]=c*h,e[4]=-c*d,e[8]=l,e[1]=m+v*l,e[5]=f-y*l,e[9]=-b*c,e[2]=y-f*l,e[6]=v+m*l,e[10]=a*c}else if("YXZ"===t.order){var _=c*h,x=c*d,w=l*h,E=l*d;e[0]=_+E*b,e[4]=w*b-x,e[8]=a*l,e[1]=a*d,e[5]=a*h,e[9]=-b,e[2]=x*b-w,e[6]=E+_*b,e[10]=a*c}else if("ZXY"===t.order){var M=c*h,S=c*d,T=l*h,D=l*d;e[0]=M-D*b,e[4]=-a*d,e[8]=T+S*b,e[1]=S+T*b,e[5]=a*h,e[9]=D-M*b,e[2]=-a*l,e[6]=b,e[10]=a*c}else if("ZYX"===t.order){var O=a*h,C=a*d,A=b*h,k=b*d;e[0]=c*h,e[4]=A*l-C,e[8]=O*l+k,e[1]=c*d,e[5]=k*l+O,e[9]=C*l-A,e[2]=-l,e[6]=b*c,e[10]=a*c}else if("YZX"===t.order){var P=a*c,j=a*l,L=b*c,I=b*l;e[0]=c*h,e[4]=I-P*d,e[8]=L*d+j,e[1]=d,e[5]=a*h,e[9]=-b*h,e[2]=-l*h,e[6]=j*d+L,e[10]=P-I*d}else if("XZY"===t.order){var R=a*c,N=a*l,F=b*c,B=b*l;e[0]=c*h,e[4]=-d,e[8]=l*h,e[1]=R*d+B,e[5]=a*h,e[9]=N*d-F,e[2]=F*d-N,e[6]=b*h,e[10]=B*d+R}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(q){return this.compose(wt,q,Et)}},{key:"lookAt",value:function(t,e,n){var r=this.elements;return Tt.subVectors(t,e),0===Tt.lengthSq()&&(Tt.z=1),Tt.normalize(),Mt.crossVectors(n,Tt),0===Mt.lengthSq()&&(1===Math.abs(n.z)?Tt.x+=1e-4:Tt.z+=1e-4,Tt.normalize(),Mt.crossVectors(n,Tt)),Mt.normalize(),St.crossVectors(Tt,Mt),r[0]=Mt.x,r[4]=St.x,r[8]=Tt.x,r[1]=Mt.y,r[5]=St.y,r[9]=Tt.y,r[2]=Mt.z,r[6]=St.z,r[10]=Tt.z,this}},{key:"multiply",value:function(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)}},{key:"premultiply",value:function(t){return this.multiplyMatrices(t,this)}},{key:"multiplyMatrices",value:function(a,b){var t=a.elements,e=b.elements,n=this.elements,r=t[0],o=t[4],c=t[8],l=t[12],h=t[1],d=t[5],f=t[9],m=t[13],v=t[2],y=t[6],_=t[10],x=t[14],w=t[3],E=t[7],M=t[11],S=t[15],T=e[0],D=e[4],O=e[8],C=e[12],A=e[1],k=e[5],P=e[9],j=e[13],L=e[2],I=e[6],R=e[10],N=e[14],F=e[3],B=e[7],U=e[11],V=e[15];return n[0]=r*T+o*A+c*L+l*F,n[4]=r*D+o*k+c*I+l*B,n[8]=r*O+o*P+c*R+l*U,n[12]=r*C+o*j+c*N+l*V,n[1]=h*T+d*A+f*L+m*F,n[5]=h*D+d*k+f*I+m*B,n[9]=h*O+d*P+f*R+m*U,n[13]=h*C+d*j+f*N+m*V,n[2]=v*T+y*A+_*L+x*F,n[6]=v*D+y*k+_*I+x*B,n[10]=v*O+y*P+_*R+x*U,n[14]=v*C+y*j+_*N+x*V,n[3]=w*T+E*A+M*L+S*F,n[7]=w*D+E*k+M*I+S*B,n[11]=w*O+E*P+M*R+S*U,n[15]=w*C+E*j+M*N+S*V,this}},{key:"multiplyScalar",value:function(s){var t=this.elements;return t[0]*=s,t[4]*=s,t[8]*=s,t[12]*=s,t[1]*=s,t[5]*=s,t[9]*=s,t[13]*=s,t[2]*=s,t[6]*=s,t[10]*=s,t[14]*=s,t[3]*=s,t[7]*=s,t[11]*=s,t[15]*=s,this}},{key:"determinant",value:function(){var t=this.elements,e=t[0],n=t[4],r=t[8],o=t[12],c=t[1],l=t[5],h=t[9],d=t[13],f=t[2],m=t[6],v=t[10],y=t[14];return t[3]*(+o*h*m-r*d*m-o*l*v+n*d*v+r*l*y-n*h*y)+t[7]*(+e*h*y-e*d*v+o*c*v-r*c*y+r*d*f-o*h*f)+t[11]*(+e*d*m-e*l*y-o*c*m+n*c*y+o*l*f-n*d*f)+t[15]*(-r*l*f-e*h*m+e*l*v+r*c*m-n*c*v+n*h*f)}},{key:"transpose",value:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}},{key:"setPosition",value:function(t,e,n){var r=this.elements;return t.isVector3?(r[12]=t.x,r[13]=t.y,r[14]=t.z):(r[12]=t,r[13]=e,r[14]=n),this}},{key:"getInverse",value:function(t,e){void 0!==e&&console.warn("THREE.Matrix4: .getInverse() can no longer be configured to throw on degenerate.");var n=this.elements,r=t.elements,o=r[0],c=r[1],l=r[2],h=r[3],d=r[4],f=r[5],m=r[6],v=r[7],y=r[8],_=r[9],x=r[10],w=r[11],E=r[12],M=r[13],S=r[14],T=r[15],D=_*S*v-M*x*v+M*m*w-f*S*w-_*m*T+f*x*T,O=E*x*v-y*S*v-E*m*w+d*S*w+y*m*T-d*x*T,C=y*M*v-E*_*v+E*f*w-d*M*w-y*f*T+d*_*T,A=E*_*m-y*M*m-E*f*x+d*M*x+y*f*S-d*_*S,k=o*D+c*O+l*C+h*A;if(0===k)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var P=1/k;return n[0]=D*P,n[1]=(M*x*h-_*S*h-M*l*w+c*S*w+_*l*T-c*x*T)*P,n[2]=(f*S*h-M*m*h+M*l*v-c*S*v-f*l*T+c*m*T)*P,n[3]=(_*m*h-f*x*h-_*l*v+c*x*v+f*l*w-c*m*w)*P,n[4]=O*P,n[5]=(y*S*h-E*x*h+E*l*w-o*S*w-y*l*T+o*x*T)*P,n[6]=(E*m*h-d*S*h-E*l*v+o*S*v+d*l*T-o*m*T)*P,n[7]=(d*x*h-y*m*h+y*l*v-o*x*v-d*l*w+o*m*w)*P,n[8]=C*P,n[9]=(E*_*h-y*M*h-E*c*w+o*M*w+y*c*T-o*_*T)*P,n[10]=(d*M*h-E*f*h+E*c*v-o*M*v-d*c*T+o*f*T)*P,n[11]=(y*f*h-d*_*h-y*c*v+o*_*v+d*c*w-o*f*w)*P,n[12]=A*P,n[13]=(y*M*l-E*_*l+E*c*x-o*M*x-y*c*S+o*_*S)*P,n[14]=(E*f*l-d*M*l-E*c*m+o*M*m+d*c*S-o*f*S)*P,n[15]=(d*_*l-y*f*l+y*c*m-o*_*m-d*c*x+o*f*x)*P,this}},{key:"scale",value:function(t){var e=this.elements,n=t.x,r=t.y,o=t.z;return e[0]*=n,e[4]*=r,e[8]*=o,e[1]*=n,e[5]*=r,e[9]*=o,e[2]*=n,e[6]*=r,e[10]*=o,e[3]*=n,e[7]*=r,e[11]*=o,this}},{key:"getMaxScaleOnAxis",value:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,r))}},{key:"makeTranslation",value:function(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(t){var e=Math.cos(t),s=Math.sin(t);return this.set(1,0,0,0,0,e,-s,0,0,s,e,0,0,0,0,1),this}},{key:"makeRotationY",value:function(t){var e=Math.cos(t),s=Math.sin(t);return this.set(e,0,s,0,0,1,0,0,-s,0,e,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(t){var e=Math.cos(t),s=Math.sin(t);return this.set(e,-s,0,0,s,e,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(t,e){var n=Math.cos(e),s=Math.sin(e),r=1-n,o=t.x,c=t.y,l=t.z,h=r*o,d=r*c;return this.set(h*o+n,h*c-s*l,h*l+s*c,0,h*c+s*l,d*c+n,d*l-s*o,0,h*l-s*c,d*l+s*o,r*l*l+n,0,0,0,0,1),this}},{key:"makeScale",value:function(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(t,e,n){return this.set(1,e,n,0,t,1,n,0,t,e,1,0,0,0,0,1),this}},{key:"compose",value:function(t,e,n){var r=this.elements,o=e._x,c=e._y,l=e._z,h=e._w,d=o+o,f=c+c,m=l+l,v=o*d,y=o*f,_=o*m,x=c*f,w=c*m,E=l*m,M=h*d,S=h*f,T=h*m,D=n.x,O=n.y,C=n.z;return r[0]=(1-(x+E))*D,r[1]=(y+T)*D,r[2]=(_-S)*D,r[3]=0,r[4]=(y-T)*O,r[5]=(1-(v+E))*O,r[6]=(w+M)*O,r[7]=0,r[8]=(_+S)*C,r[9]=(w-M)*C,r[10]=(1-(v+x))*C,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this}},{key:"decompose",value:function(t,e,n){var r=this.elements,o=bt.set(r[0],r[1],r[2]).length(),c=bt.set(r[4],r[5],r[6]).length(),l=bt.set(r[8],r[9],r[10]).length();this.determinant()<0&&(o=-o),t.x=r[12],t.y=r[13],t.z=r[14],xt.copy(this);var h=1/o,d=1/c,f=1/l;return xt.elements[0]*=h,xt.elements[1]*=h,xt.elements[2]*=h,xt.elements[4]*=d,xt.elements[5]*=d,xt.elements[6]*=d,xt.elements[8]*=f,xt.elements[9]*=f,xt.elements[10]*=f,e.setFromRotationMatrix(xt),n.x=o,n.y=c,n.z=l,this}},{key:"makePerspective",value:function(t,e,n,r,o,c){void 0===c&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var l=this.elements,h=2*o/(e-t),d=2*o/(n-r),a=(e+t)/(e-t),b=(n+r)/(n-r),f=-(c+o)/(c-o),m=-2*c*o/(c-o);return l[0]=h,l[4]=0,l[8]=a,l[12]=0,l[1]=0,l[5]=d,l[9]=b,l[13]=0,l[2]=0,l[6]=0,l[10]=f,l[14]=m,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}},{key:"makeOrthographic",value:function(t,e,n,r,o,c){var l=this.elements,h=1/(e-t),d=1/(n-r),p=1/(c-o),f=(e+t)*h,m=(n+r)*d,v=(c+o)*p;return l[0]=2*h,l[4]=0,l[8]=0,l[12]=-f,l[1]=0,l[5]=2*d,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=-2*p,l[14]=-v,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}},{key:"equals",value:function(t){for(var e=this.elements,n=t.elements,r=0;r<16;r++)if(e[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<16;n++)this.elements[n]=t[n+e];return this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}]),t}(),bt=new z,xt=new _t,wt=new z(0,0,0),Et=new z(1,1,1),Mt=new z,St=new z,Tt=new z,Dt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.DefaultOrder;Object(v.a)(this,t),Object.defineProperty(this,"isEuler",{value:!0}),this._x=e,this._y=n,this._z=r,this._order=o}return Object(y.a)(t,[{key:"set",value:function(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._order=r||this._order,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(t,e,n){var r=P.clamp,o=t.elements,c=o[0],l=o[4],h=o[8],d=o[1],f=o[5],m=o[9],v=o[2],y=o[6],_=o[10];switch(e=e||this._order){case"XYZ":this._y=Math.asin(r(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(-m,_),this._z=Math.atan2(-l,c)):(this._x=Math.atan2(y,f),this._z=0);break;case"YXZ":this._x=Math.asin(-r(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(h,_),this._z=Math.atan2(d,f)):(this._y=Math.atan2(-v,c),this._z=0);break;case"ZXY":this._x=Math.asin(r(y,-1,1)),Math.abs(y)<.9999999?(this._y=Math.atan2(-v,_),this._z=Math.atan2(-l,f)):(this._y=0,this._z=Math.atan2(d,c));break;case"ZYX":this._y=Math.asin(-r(v,-1,1)),Math.abs(v)<.9999999?(this._x=Math.atan2(y,_),this._z=Math.atan2(d,c)):(this._x=0,this._z=Math.atan2(-l,f));break;case"YZX":this._z=Math.asin(r(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(-m,f),this._y=Math.atan2(-v,c)):(this._x=0,this._y=Math.atan2(h,_));break;case"XZY":this._z=Math.asin(-r(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(y,f),this._y=Math.atan2(h,c)):(this._x=Math.atan2(-m,_),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,!1!==n&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(q,t,e){return Ot.makeRotationFromQuaternion(q),this.setFromRotationMatrix(Ot,t,e)}},{key:"setFromVector3",value:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)}},{key:"reorder",value:function(t){return Ct.setFromEuler(this),this.setFromQuaternion(Ct,t)}},{key:"equals",value:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}},{key:"fromArray",value:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}},{key:"toVector3",value:function(t){return t?t.set(this._x,this._y,this._z):new z(this._x,this._y,this._z)}},{key:"_onChange",value:function(t){return this._onChangeCallback=t,this}},{key:"_onChangeCallback",value:function(){}},{key:"x",get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(t){this._order=t,this._onChangeCallback()}}]),t}();Dt.DefaultOrder="XYZ",Dt.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];var Ot=new _t,Ct=new V,At=function(){function t(){Object(v.a)(this,t),this.mask=1}return Object(y.a)(t,[{key:"set",value:function(t){this.mask=1<<t|0}},{key:"enable",value:function(t){this.mask|=1<<t|0}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(t){this.mask^=1<<t|0}},{key:"disable",value:function(t){this.mask&=~(1<<t|0)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(t){return 0!=(this.mask&t.mask)}}]),t}(),kt=0,Pt=new z,jt=new V,Lt=new _t,It=new z,Rt=new z,Nt=new z,Ft=new V,Bt=new z(1,0,0),Ut=new z(0,1,0),Vt=new z(0,0,1),zt={type:"added"},Ht={type:"removed"};function Gt(){Object.defineProperty(this,"id",{value:kt++}),this.uuid=P.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Gt.DefaultUp.clone();var t=new z,e=new Dt,n=new V,r=new z(1,1,1);e._onChange((function(){n.setFromEuler(e,!1)})),n._onChange((function(){e.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new _t},normalMatrix:{value:new L}}),this.matrix=new _t,this.matrixWorld=new _t,this.matrixAutoUpdate=Gt.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new At,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}Gt.DefaultUp=new z(0,1,0),Gt.DefaultMatrixAutoUpdate=!0,Gt.prototype=Object.assign(Object.create(O.prototype),{constructor:Gt,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(q){return this.quaternion.premultiply(q),this},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(q){this.quaternion.copy(q)},rotateOnAxis:function(t,e){return jt.setFromAxisAngle(t,e),this.quaternion.multiply(jt),this},rotateOnWorldAxis:function(t,e){return jt.setFromAxisAngle(t,e),this.quaternion.premultiply(jt),this},rotateX:function(t){return this.rotateOnAxis(Bt,t)},rotateY:function(t){return this.rotateOnAxis(Ut,t)},rotateZ:function(t){return this.rotateOnAxis(Vt,t)},translateOnAxis:function(t,e){return Pt.copy(t).applyQuaternion(this.quaternion),this.position.add(Pt.multiplyScalar(e)),this},translateX:function(t){return this.translateOnAxis(Bt,t)},translateY:function(t){return this.translateOnAxis(Ut,t)},translateZ:function(t){return this.translateOnAxis(Vt,t)},localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(t){return t.applyMatrix4(Lt.getInverse(this.matrixWorld))},lookAt:function(t,e,n){t.isVector3?It.copy(t):It.set(t,e,n);var r=this.parent;this.updateWorldMatrix(!0,!1),Rt.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Lt.lookAt(Rt,It,this.up):Lt.lookAt(It,Rt,this.up),this.quaternion.setFromRotationMatrix(Lt),r&&(Lt.extractRotation(r.matrixWorld),jt.setFromRotationMatrix(Lt),this.quaternion.premultiply(jt.inverse()))},add:function(object){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return object===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",object),this):(object&&object.isObject3D?(null!==object.parent&&object.parent.remove(object),object.parent=this,this.children.push(object),object.dispatchEvent(zt)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",object),this)},remove:function(object){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var e=this.children.indexOf(object);return-1!==e&&(object.parent=null,this.children.splice(e,1),object.dispatchEvent(Ht)),this},clear:function(){for(var t=0;t<this.children.length;t++){var object=this.children[t];object.parent=null,object.dispatchEvent(Ht)}return this.children.length=0,this},attach:function(object){return this.updateWorldMatrix(!0,!1),Lt.getInverse(this.matrixWorld),null!==object.parent&&(object.parent.updateWorldMatrix(!0,!1),Lt.multiply(object.parent.matrixWorld)),object.applyMatrix4(Lt),object.updateWorldMatrix(!1,!1),this.add(object),this},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var n=0,r=this.children.length;n<r;n++){var object=this.children[n].getObjectByProperty(t,e);if(void 0!==object)return object}},getWorldPosition:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),t=new z),this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),t=new V),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Rt,t,Nt),t},getWorldScale:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),t=new z),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Rt,Ft,t),t},getWorldDirection:function(t){void 0===t&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),t=new z),this.updateWorldMatrix(!0,!1);var e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()},raycast:function(){},traverse:function(t){t(this);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].traverse(t)},traverseVisible:function(t){if(!1!==this.visible){t(this);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].updateMatrixWorld(t)},updateWorldMatrix:function(t,e){var n=this.parent;if(!0===t&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e)for(var r=this.children,o=0,c=r.length;o<c;o++)r[o].updateWorldMatrix(!1,!0)},toJSON:function(meta){var t=void 0===meta||"string"==typeof meta,output={};t&&(meta={geometries:{},materials:{},textures:{},images:{},shapes:{}},output.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var object={};function e(t,element){return void 0===t[element.uuid]&&(t[element.uuid]=element.toJSON(meta)),element.uuid}if(object.uuid=this.uuid,object.type=this.type,""!==this.name&&(object.name=this.name),!0===this.castShadow&&(object.castShadow=!0),!0===this.receiveShadow&&(object.receiveShadow=!0),!1===this.visible&&(object.visible=!1),!1===this.frustumCulled&&(object.frustumCulled=!1),0!==this.renderOrder&&(object.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(object.userData=this.userData),object.layers=this.layers.mask,object.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(object.matrixAutoUpdate=!1),this.isInstancedMesh&&(object.type="InstancedMesh",object.count=this.count,object.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){object.geometry=e(meta.geometries,this.geometry);var n=this.geometry.parameters;if(void 0!==n&&void 0!==n.shapes){var r=n.shapes;if(Array.isArray(r))for(var o=0,c=r.length;o<c;o++){var l=r[o];e(meta.shapes,l)}else e(meta.shapes,r)}}if(void 0!==this.material)if(Array.isArray(this.material)){for(var h=[],d=0,f=this.material.length;d<f;d++)h.push(e(meta.materials,this.material[d]));object.material=h}else object.material=e(meta.materials,this.material);if(this.children.length>0){object.children=[];for(var m=0;m<this.children.length;m++)object.children.push(this.children[m].toJSON(meta).object)}if(t){var v=E(meta.geometries),y=E(meta.materials),_=E(meta.textures),x=E(meta.images),w=E(meta.shapes);v.length>0&&(output.geometries=v),y.length>0&&(output.materials=y),_.length>0&&(output.textures=_),x.length>0&&(output.images=x),w.length>0&&(output.shapes=w)}return output.object=object,output;function E(t){var e=[];for(var n in t){var data=t[n];delete data.metadata,e.push(data)}return e}},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(source,t){if(void 0===t&&(t=!0),this.name=source.name,this.up.copy(source.up),this.position.copy(source.position),this.rotation.order=source.rotation.order,this.quaternion.copy(source.quaternion),this.scale.copy(source.scale),this.matrix.copy(source.matrix),this.matrixWorld.copy(source.matrixWorld),this.matrixAutoUpdate=source.matrixAutoUpdate,this.matrixWorldNeedsUpdate=source.matrixWorldNeedsUpdate,this.layers.mask=source.layers.mask,this.visible=source.visible,this.castShadow=source.castShadow,this.receiveShadow=source.receiveShadow,this.frustumCulled=source.frustumCulled,this.renderOrder=source.renderOrder,this.userData=JSON.parse(JSON.stringify(source.userData)),!0===t)for(var e=0;e<source.children.length;e++){var n=source.children[e];this.add(n.clone())}return this}});var Wt=new z,qt=new z,$t=new L,Qt=function(){function t(e,n){Object(v.a)(this,t),Object.defineProperty(this,"isPlane",{value:!0}),this.normal=void 0!==e?e:new z(1,0,0),this.constant=void 0!==n?n:0}return Object(y.a)(t,[{key:"set",value:function(t,e){return this.normal.copy(t),this.constant=e,this}},{key:"setComponents",value:function(t,e,n,r){return this.normal.set(t,e,n),this.constant=r,this}},{key:"setFromNormalAndCoplanarPoint",value:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(a,b,t){var e=Wt.subVectors(t,b).cross(qt.subVectors(a,b)).normalize();return this.setFromNormalAndCoplanarPoint(e,a),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this}},{key:"normalize",value:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(t){return this.normal.dot(t)+this.constant}},{key:"distanceToSphere",value:function(t){return this.distanceToPoint(t.center)-t.radius}},{key:"projectPoint",value:function(t,e){return void 0===e&&(console.warn("THREE.Plane: .projectPoint() target is now required"),e=new z),e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)}},{key:"intersectLine",value:function(line,t){void 0===t&&(console.warn("THREE.Plane: .intersectLine() target is now required"),t=new z);var e=line.delta(Wt),n=this.normal.dot(e);if(0===n)return 0===this.distanceToPoint(line.start)?t.copy(line.start):void 0;var r=-(line.start.dot(this.normal)+this.constant)/n;return r<0||r>1?void 0:t.copy(e).multiplyScalar(r).add(line.start)}},{key:"intersectsLine",value:function(line){var t=this.distanceToPoint(line.start),e=this.distanceToPoint(line.end);return t<0&&e>0||e<0&&t>0}},{key:"intersectsBox",value:function(t){return t.intersectsPlane(this)}},{key:"intersectsSphere",value:function(t){return t.intersectsPlane(this)}},{key:"coplanarPoint",value:function(t){return void 0===t&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),t=new z),t.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(t,e){var n=e||$t.getNormalMatrix(t),r=this.coplanarPoint(Wt).applyMatrix4(t),o=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(o),this}},{key:"translate",value:function(t){return this.constant-=t.dot(this.normal),this}},{key:"equals",value:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}}]),t}(),Xt=new z,Yt=new z,Kt=new z,Jt=new z,Zt=new z,te=new z,ee=new z,ne=new z,re=new z,ie=new z,oe=function(){function t(a,b,e){Object(v.a)(this,t),this.a=void 0!==a?a:new z,this.b=void 0!==b?b:new z,this.c=void 0!==e?e:new z}return Object(y.a)(t,[{key:"set",value:function(a,b,t){return this.a.copy(a),this.b.copy(b),this.c.copy(t),this}},{key:"setFromPointsAndIndices",value:function(t,e,n,r){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[r]),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}},{key:"getArea",value:function(){return Xt.subVectors(this.c,this.b),Yt.subVectors(this.a,this.b),.5*Xt.cross(Yt).length()}},{key:"getMidpoint",value:function(t){return void 0===t&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),t=new z),t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(e){return t.getNormal(this.a,this.b,this.c,e)}},{key:"getPlane",value:function(t){return void 0===t&&(console.warn("THREE.Triangle: .getPlane() target is now required"),t=new Qt),t.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(e,n){return t.getBarycoord(e,this.a,this.b,this.c,n)}},{key:"getUV",value:function(e,n,r,o,c){return t.getUV(e,this.a,this.b,this.c,n,r,o,c)}},{key:"containsPoint",value:function(e){return t.containsPoint(e,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(e){return t.isFrontFacing(this.a,this.b,this.c,e)}},{key:"intersectsBox",value:function(t){return t.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(p,t){void 0===t&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),t=new z);var e,n,a=this.a,b=this.b,r=this.c;Zt.subVectors(b,a),te.subVectors(r,a),ne.subVectors(p,a);var o=Zt.dot(ne),c=te.dot(ne);if(o<=0&&c<=0)return t.copy(a);re.subVectors(p,b);var l=Zt.dot(re),h=te.dot(re);if(l>=0&&h<=l)return t.copy(b);var d=o*h-l*c;if(d<=0&&o>=0&&l<=0)return e=o/(o-l),t.copy(a).addScaledVector(Zt,e);ie.subVectors(p,r);var f=Zt.dot(ie),m=te.dot(ie);if(m>=0&&f<=m)return t.copy(r);var v=f*c-o*m;if(v<=0&&c>=0&&m<=0)return n=c/(c-m),t.copy(a).addScaledVector(te,n);var y=l*m-f*h;if(y<=0&&h-l>=0&&f-m>=0)return ee.subVectors(r,b),n=(h-l)/(h-l+(f-m)),t.copy(b).addScaledVector(ee,n);var _=1/(y+v+d);return e=v*_,n=d*_,t.copy(a).addScaledVector(Zt,e).addScaledVector(te,n)}},{key:"equals",value:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}],[{key:"getNormal",value:function(a,b,t,e){void 0===e&&(console.warn("THREE.Triangle: .getNormal() target is now required"),e=new z),e.subVectors(t,b),Xt.subVectors(a,b),e.cross(Xt);var n=e.lengthSq();return n>0?e.multiplyScalar(1/Math.sqrt(n)):e.set(0,0,0)}},{key:"getBarycoord",value:function(t,a,b,e,n){Xt.subVectors(e,a),Yt.subVectors(b,a),Kt.subVectors(t,a);var r=Xt.dot(Xt),o=Xt.dot(Yt),c=Xt.dot(Kt),l=Yt.dot(Yt),h=Yt.dot(Kt),d=r*l-o*o;if(void 0===n&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),n=new z),0===d)return n.set(-2,-1,-1);var f=1/d,u=(l*c-o*h)*f,m=(r*h-o*c)*f;return n.set(1-u-m,m,u)}},{key:"containsPoint",value:function(t,a,b,e){return this.getBarycoord(t,a,b,e,Jt),Jt.x>=0&&Jt.y>=0&&Jt.x+Jt.y<=1}},{key:"getUV",value:function(t,e,n,r,o,c,l,h){return this.getBarycoord(t,e,n,r,Jt),h.set(0,0),h.addScaledVector(o,Jt.x),h.addScaledVector(c,Jt.y),h.addScaledVector(l,Jt.z),h}},{key:"isFrontFacing",value:function(a,b,t,e){return Xt.subVectors(t,b),Yt.subVectors(a,b),Xt.cross(Yt).dot(e)<0}}]),t}(),ae={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},se={h:0,s:0,l:0},ue={h:0,s:0,l:0};function ce(p,q,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?p+6*(q-p)*t:t<.5?q:t<2/3?p+6*(q-p)*(2/3-t):p}function le(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function he(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}var pe=function(){function t(e,g,b){return Object(v.a)(this,t),Object.defineProperty(this,"isColor",{value:!0}),void 0===g&&void 0===b?this.set(e):this.setRGB(e,g,b)}return Object(y.a)(t,[{key:"set",value:function(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this}},{key:"setScalar",value:function(t){return this.r=t,this.g=t,this.b=t,this}},{key:"setHex",value:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this}},{key:"setRGB",value:function(t,g,b){return this.r=t,this.g=g,this.b=b,this}},{key:"setHSL",value:function(t,s,e){if(t=P.euclideanModulo(t,1),s=P.clamp(s,0,1),e=P.clamp(e,0,1),0===s)this.r=this.g=this.b=e;else{var p=e<=.5?e*(1+s):e+s-e*s,q=2*e-p;this.r=ce(q,p,t+1/3),this.g=ce(q,p,t),this.b=ce(q,p,t-1/3)}return this}},{key:"setStyle",value:function(style){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+style+" will be ignored.")}var e;if(e=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(style)){var n,r=e[1],o=e[2];switch(r){case"rgb":case"rgba":if(n=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(n[1],10))/255,this.g=Math.min(255,parseInt(n[2],10))/255,this.b=Math.min(255,parseInt(n[3],10))/255,t(n[5]),this;if(n=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(n[1],10))/100,this.g=Math.min(100,parseInt(n[2],10))/100,this.b=Math.min(100,parseInt(n[3],10))/100,t(n[5]),this;break;case"hsl":case"hsla":if(n=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)){var c=parseFloat(n[1])/360,s=parseInt(n[2],10)/100,l=parseInt(n[3],10)/100;return t(n[5]),this.setHSL(c,s,l)}}}else if(e=/^\#([A-Fa-f0-9]+)$/.exec(style)){var h=e[1],d=h.length;if(3===d)return this.r=parseInt(h.charAt(0)+h.charAt(0),16)/255,this.g=parseInt(h.charAt(1)+h.charAt(1),16)/255,this.b=parseInt(h.charAt(2)+h.charAt(2),16)/255,this;if(6===d)return this.r=parseInt(h.charAt(0)+h.charAt(1),16)/255,this.g=parseInt(h.charAt(2)+h.charAt(3),16)/255,this.b=parseInt(h.charAt(4)+h.charAt(5),16)/255,this}return style&&style.length>0?this.setColorName(style):this}},{key:"setColorName",value:function(style){var t=ae[style];return void 0!==t?this.setHex(t):console.warn("THREE.Color: Unknown color "+style),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}},{key:"copyGammaToLinear",value:function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this}},{key:"copyLinearToGamma",value:function(t,e){void 0===e&&(e=2);var n=e>0?1/e:1;return this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this}},{key:"convertGammaToLinear",value:function(t){return this.copyGammaToLinear(this,t),this}},{key:"convertLinearToGamma",value:function(t){return this.copyLinearToGamma(this,t),this}},{key:"copySRGBToLinear",value:function(t){return this.r=le(t.r),this.g=le(t.g),this.b=le(t.b),this}},{key:"copyLinearToSRGB",value:function(t){return this.r=he(t.r),this.g=he(t.g),this.b=he(t.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}},{key:"getHexString",value:function(){return("000000"+this.getHex().toString(16)).slice(-6)}},{key:"getHSL",value:function(t){void 0===t&&(console.warn("THREE.Color: .getHSL() target is now required"),t={h:0,s:0,l:0});var e,n,r=this.r,g=this.g,b=this.b,o=Math.max(r,g,b),c=Math.min(r,g,b),l=(c+o)/2;if(c===o)e=0,n=0;else{var h=o-c;switch(n=l<=.5?h/(o+c):h/(2-o-c),o){case r:e=(g-b)/h+(g<b?6:0);break;case g:e=(b-r)/h+2;break;case b:e=(r-g)/h+4}e/=6}return t.h=e,t.s=n,t.l=l,t}},{key:"getStyle",value:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}},{key:"offsetHSL",value:function(t,s,e){return this.getHSL(se),se.h+=t,se.s+=s,se.l+=e,this.setHSL(se.h,se.s,se.l),this}},{key:"add",value:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}},{key:"addColors",value:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}},{key:"addScalar",value:function(s){return this.r+=s,this.g+=s,this.b+=s,this}},{key:"sub",value:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}},{key:"multiply",value:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}},{key:"multiplyScalar",value:function(s){return this.r*=s,this.g*=s,this.b*=s,this}},{key:"lerp",value:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}},{key:"lerpHSL",value:function(t,e){this.getHSL(se),t.getHSL(ue);var n=P.lerp(se.h,ue.h,e),s=P.lerp(se.s,ue.s,e),r=P.lerp(se.l,ue.l,e);return this.setHSL(n,s,r),this}},{key:"equals",value:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}},{key:"fromArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}},{key:"fromBufferAttribute",value:function(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),!0===t.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}},{key:"toJSON",value:function(){return this.getHex()}}]),t}();pe.NAMES=ae,pe.prototype.r=1,pe.prototype.g=1,pe.prototype.b=1;var de=function(){function t(a,b,e,n,r,o){Object(v.a)(this,t),this.a=a,this.b=b,this.c=e,this.normal=n&&n.isVector3?n:new z,this.vertexNormals=Array.isArray(n)?n:[],this.color=r&&r.isColor?r:new pe,this.vertexColors=Array.isArray(r)?r:[],this.materialIndex=void 0!==o?o:0}return Object(y.a)(t,[{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(source){this.a=source.a,this.b=source.b,this.c=source.c,this.normal.copy(source.normal),this.color.copy(source.color),this.materialIndex=source.materialIndex;for(var t=0,e=source.vertexNormals.length;t<e;t++)this.vertexNormals[t]=source.vertexNormals[t].clone();for(var n=0,r=source.vertexColors.length;n<r;n++)this.vertexColors[n]=source.vertexColors[n].clone();return this}}]),t}(),fe=0;function me(){Object.defineProperty(this,"id",{value:fe++}),this.uuid=P.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=1,this.side=0,this.flatShading=!1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}function ve(t){me.call(this),this.type="MeshBasicMaterial",this.color=new pe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(t)}me.prototype=Object.assign(Object.create(O.prototype),{constructor:me,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(t){if(void 0!==t)for(var e in t){var n=t[e];if(void 0!==n)if("shading"!==e){var r=this[e];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[e]=n:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n;else console.warn("THREE.Material: '"+e+"' parameter is undefined.")}},toJSON:function(meta){var t=void 0===meta||"string"==typeof meta;t&&(meta={textures:{},images:{}});var data={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function e(t){var e=[];for(var n in t){var r=t[n];delete r.metadata,e.push(r)}return e}if(data.uuid=this.uuid,data.type=this.type,""!==this.name&&(data.name=this.name),this.color&&this.color.isColor&&(data.color=this.color.getHex()),void 0!==this.roughness&&(data.roughness=this.roughness),void 0!==this.metalness&&(data.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(data.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(data.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(data.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(data.specular=this.specular.getHex()),void 0!==this.shininess&&(data.shininess=this.shininess),void 0!==this.clearcoat&&(data.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(data.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(data.clearcoatMap=this.clearcoatMap.toJSON(meta).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(data.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(meta).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(data.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(meta).uuid,data.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(data.map=this.map.toJSON(meta).uuid),this.matcap&&this.matcap.isTexture&&(data.matcap=this.matcap.toJSON(meta).uuid),this.alphaMap&&this.alphaMap.isTexture&&(data.alphaMap=this.alphaMap.toJSON(meta).uuid),this.lightMap&&this.lightMap.isTexture&&(data.lightMap=this.lightMap.toJSON(meta).uuid),this.aoMap&&this.aoMap.isTexture&&(data.aoMap=this.aoMap.toJSON(meta).uuid,data.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(data.bumpMap=this.bumpMap.toJSON(meta).uuid,data.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(data.normalMap=this.normalMap.toJSON(meta).uuid,data.normalMapType=this.normalMapType,data.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(data.displacementMap=this.displacementMap.toJSON(meta).uuid,data.displacementScale=this.displacementScale,data.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(data.roughnessMap=this.roughnessMap.toJSON(meta).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(data.metalnessMap=this.metalnessMap.toJSON(meta).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(data.emissiveMap=this.emissiveMap.toJSON(meta).uuid),this.specularMap&&this.specularMap.isTexture&&(data.specularMap=this.specularMap.toJSON(meta).uuid),this.envMap&&this.envMap.isTexture&&(data.envMap=this.envMap.toJSON(meta).uuid,data.reflectivity=this.reflectivity,data.refractionRatio=this.refractionRatio,void 0!==this.combine&&(data.combine=this.combine),void 0!==this.envMapIntensity&&(data.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(data.gradientMap=this.gradientMap.toJSON(meta).uuid),void 0!==this.size&&(data.size=this.size),void 0!==this.sizeAttenuation&&(data.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(data.blending=this.blending),!0===this.flatShading&&(data.flatShading=this.flatShading),0!==this.side&&(data.side=this.side),this.vertexColors&&(data.vertexColors=!0),this.opacity<1&&(data.opacity=this.opacity),!0===this.transparent&&(data.transparent=this.transparent),data.depthFunc=this.depthFunc,data.depthTest=this.depthTest,data.depthWrite=this.depthWrite,data.stencilWrite=this.stencilWrite,data.stencilWriteMask=this.stencilWriteMask,data.stencilFunc=this.stencilFunc,data.stencilRef=this.stencilRef,data.stencilFuncMask=this.stencilFuncMask,data.stencilFail=this.stencilFail,data.stencilZFail=this.stencilZFail,data.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(data.rotation=this.rotation),!0===this.polygonOffset&&(data.polygonOffset=!0),0!==this.polygonOffsetFactor&&(data.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(data.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(data.linewidth=this.linewidth),void 0!==this.dashSize&&(data.dashSize=this.dashSize),void 0!==this.gapSize&&(data.gapSize=this.gapSize),void 0!==this.scale&&(data.scale=this.scale),!0===this.dithering&&(data.dithering=!0),this.alphaTest>0&&(data.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(data.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(data.wireframe=this.wireframe),this.wireframeLinewidth>1&&(data.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(data.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(data.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(data.morphTargets=!0),!0===this.morphNormals&&(data.morphNormals=!0),!0===this.skinning&&(data.skinning=!0),!1===this.visible&&(data.visible=!1),!1===this.toneMapped&&(data.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(data.userData=this.userData),t){var n=e(meta.textures),r=e(meta.images);n.length>0&&(data.textures=n),r.length>0&&(data.images=r)}return data},clone:function(){return(new this.constructor).copy(this)},copy:function(source){this.name=source.name,this.fog=source.fog,this.blending=source.blending,this.side=source.side,this.flatShading=source.flatShading,this.vertexColors=source.vertexColors,this.opacity=source.opacity,this.transparent=source.transparent,this.blendSrc=source.blendSrc,this.blendDst=source.blendDst,this.blendEquation=source.blendEquation,this.blendSrcAlpha=source.blendSrcAlpha,this.blendDstAlpha=source.blendDstAlpha,this.blendEquationAlpha=source.blendEquationAlpha,this.depthFunc=source.depthFunc,this.depthTest=source.depthTest,this.depthWrite=source.depthWrite,this.stencilWriteMask=source.stencilWriteMask,this.stencilFunc=source.stencilFunc,this.stencilRef=source.stencilRef,this.stencilFuncMask=source.stencilFuncMask,this.stencilFail=source.stencilFail,this.stencilZFail=source.stencilZFail,this.stencilZPass=source.stencilZPass,this.stencilWrite=source.stencilWrite;var t=source.clippingPlanes,e=null;if(null!==t){var n=t.length;e=new Array(n);for(var r=0;r!==n;++r)e[r]=t[r].clone()}return this.clippingPlanes=e,this.clipIntersection=source.clipIntersection,this.clipShadows=source.clipShadows,this.shadowSide=source.shadowSide,this.colorWrite=source.colorWrite,this.precision=source.precision,this.polygonOffset=source.polygonOffset,this.polygonOffsetFactor=source.polygonOffsetFactor,this.polygonOffsetUnits=source.polygonOffsetUnits,this.dithering=source.dithering,this.alphaTest=source.alphaTest,this.premultipliedAlpha=source.premultipliedAlpha,this.visible=source.visible,this.toneMapped=source.toneMapped,this.userData=JSON.parse(JSON.stringify(source.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(me.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),ve.prototype=Object.create(me.prototype),ve.prototype.constructor=ve,ve.prototype.isMeshBasicMaterial=!0,ve.prototype.copy=function(source){return me.prototype.copy.call(this,source),this.color.copy(source.color),this.map=source.map,this.lightMap=source.lightMap,this.lightMapIntensity=source.lightMapIntensity,this.aoMap=source.aoMap,this.aoMapIntensity=source.aoMapIntensity,this.specularMap=source.specularMap,this.alphaMap=source.alphaMap,this.envMap=source.envMap,this.combine=source.combine,this.reflectivity=source.reflectivity,this.refractionRatio=source.refractionRatio,this.wireframe=source.wireframe,this.wireframeLinewidth=source.wireframeLinewidth,this.wireframeLinecap=source.wireframeLinecap,this.wireframeLinejoin=source.wireframeLinejoin,this.skinning=source.skinning,this.morphTargets=source.morphTargets,this};var ge=new z,ye=new j;function _e(t,e,n){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===n,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}function be(t,e,n){_e.call(this,new Int8Array(t),e,n)}function xe(t,e,n){_e.call(this,new Uint8Array(t),e,n)}function we(t,e,n){_e.call(this,new Uint8ClampedArray(t),e,n)}function Ee(t,e,n){_e.call(this,new Int16Array(t),e,n)}function Me(t,e,n){_e.call(this,new Uint16Array(t),e,n)}function Se(t,e,n){_e.call(this,new Int32Array(t),e,n)}function Te(t,e,n){_e.call(this,new Uint32Array(t),e,n)}function De(t,e,n){_e.call(this,new Float32Array(t),e,n)}function Oe(t,e,n){_e.call(this,new Float64Array(t),e,n)}Object.defineProperty(_e.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(_e.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(t){return this.usage=t,this},copy:function(source){return this.name=source.name,this.array=new source.array.constructor(source.array),this.itemSize=source.itemSize,this.count=source.count,this.normalized=source.normalized,this.usage=source.usage,this},copyAt:function(t,e,n){t*=this.itemSize,n*=e.itemSize;for(var r=0,o=this.itemSize;r<o;r++)this.array[t+r]=e.array[n+r];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,n=0,r=0,o=t.length;r<o;r++){var c=t[r];void 0===c&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),c=new pe),e[n++]=c.r,e[n++]=c.g,e[n++]=c.b}return this},copyVector2sArray:function(t){for(var e=this.array,n=0,r=0,o=t.length;r<o;r++){var c=t[r];void 0===c&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),c=new j),e[n++]=c.x,e[n++]=c.y}return this},copyVector3sArray:function(t){for(var e=this.array,n=0,r=0,o=t.length;r<o;r++){var c=t[r];void 0===c&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),c=new z),e[n++]=c.x,e[n++]=c.y,e[n++]=c.z}return this},copyVector4sArray:function(t){for(var e=this.array,n=0,r=0,o=t.length;r<o;r++){var c=t[r];void 0===c&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),c=new F),e[n++]=c.x,e[n++]=c.y,e[n++]=c.z,e[n++]=c.w}return this},applyMatrix3:function(t){if(2===this.itemSize)for(var e=0,n=this.count;e<n;e++)ye.fromBufferAttribute(this,e),ye.applyMatrix3(t),this.setXY(e,ye.x,ye.y);else if(3===this.itemSize)for(var r=0,o=this.count;r<o;r++)ge.fromBufferAttribute(this,r),ge.applyMatrix3(t),this.setXYZ(r,ge.x,ge.y,ge.z);return this},applyMatrix4:function(t){for(var e=0,n=this.count;e<n;e++)ge.x=this.getX(e),ge.y=this.getY(e),ge.z=this.getZ(e),ge.applyMatrix4(t),this.setXYZ(e,ge.x,ge.y,ge.z);return this},applyNormalMatrix:function(t){for(var e=0,n=this.count;e<n;e++)ge.x=this.getX(e),ge.y=this.getY(e),ge.z=this.getZ(e),ge.applyNormalMatrix(t),this.setXYZ(e,ge.x,ge.y,ge.z);return this},transformDirection:function(t){for(var e=0,n=this.count;e<n;e++)ge.x=this.getX(e),ge.y=this.getY(e),ge.z=this.getZ(e),ge.transformDirection(t),this.setXYZ(e,ge.x,ge.y,ge.z);return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this},setXYZ:function(t,e,n,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this},setXYZW:function(t,e,n,r,o){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this.array[t+3]=o,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),be.prototype=Object.create(_e.prototype),be.prototype.constructor=be,xe.prototype=Object.create(_e.prototype),xe.prototype.constructor=xe,we.prototype=Object.create(_e.prototype),we.prototype.constructor=we,Ee.prototype=Object.create(_e.prototype),Ee.prototype.constructor=Ee,Me.prototype=Object.create(_e.prototype),Me.prototype.constructor=Me,Se.prototype=Object.create(_e.prototype),Se.prototype.constructor=Se,Te.prototype=Object.create(_e.prototype),Te.prototype.constructor=Te,De.prototype=Object.create(_e.prototype),De.prototype.constructor=De,Oe.prototype=Object.create(_e.prototype),Oe.prototype.constructor=Oe;var Ce=function(){function t(){Object(v.a)(this,t),this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}return Object(y.a)(t,[{key:"computeGroups",value:function(t){var e,i,n=[],r=void 0,o=t.faces;for(i=0;i<o.length;i++){var c=o[i];c.materialIndex!==r&&(r=c.materialIndex,void 0!==e&&(e.count=3*i-e.start,n.push(e)),e={start:3*i,materialIndex:r})}void 0!==e&&(e.count=3*i-e.start,n.push(e)),this.groups=n}},{key:"fromGeometry",value:function(t){var e,n=t.faces,r=t.vertices,o=t.faceVertexUvs,c=o[0]&&o[0].length>0,l=o[1]&&o[1].length>0,h=t.morphTargets,d=h.length;if(d>0){e=[];for(var f=0;f<d;f++)e[f]={name:h[f].name,data:[]};this.morphTargets.position=e}var m,v=t.morphNormals,y=v.length;if(y>0){m=[];for(var _=0;_<y;_++)m[_]={name:v[_].name,data:[]};this.morphTargets.normal=m}var x=t.skinIndices,w=t.skinWeights,E=x.length===r.length,M=w.length===r.length;r.length>0&&0===n.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(var S=0;S<n.length;S++){var T=n[S];this.vertices.push(r[T.a],r[T.b],r[T.c]);var D=T.vertexNormals;if(3===D.length)this.normals.push(D[0],D[1],D[2]);else{var O=T.normal;this.normals.push(O,O,O)}var C=T.vertexColors;if(3===C.length)this.colors.push(C[0],C[1],C[2]);else{var A=T.color;this.colors.push(A,A,A)}if(!0===c){var k=o[0][S];void 0!==k?this.uvs.push(k[0],k[1],k[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",S),this.uvs.push(new j,new j,new j))}if(!0===l){var P=o[1][S];void 0!==P?this.uvs2.push(P[0],P[1],P[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",S),this.uvs2.push(new j,new j,new j))}for(var L=0;L<d;L++){var I=h[L].vertices;e[L].data.push(I[T.a],I[T.b],I[T.c])}for(var R=0;R<y;R++){var N=v[R].vertexNormals[S];m[R].data.push(N.a,N.b,N.c)}E&&this.skinIndices.push(x[T.a],x[T.b],x[T.c]),M&&this.skinWeights.push(w[T.a],w[T.b],w[T.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this}}]),t}();function Ae(t){if(0===t.length)return-1/0;for(var e=t[0],n=1,r=t.length;n<r;++n)t[n]>e&&(e=t[n]);return e}var ke=1,Pe=new _t,je=new Gt,Le=new z,Ie=new W,Re=new W,Ne=new z;function Fe(){Object.defineProperty(this,"id",{value:ke+=2}),this.uuid=P.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}Fe.prototype=Object.assign(Object.create(O.prototype),{constructor:Fe,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){return Array.isArray(t)?this.index=new(Ae(t)>65535?Te:Me)(t,1):this.index=t,this},getAttribute:function(t){return this.attributes[t]},setAttribute:function(t,e){return this.attributes[t]=e,this},deleteAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,e,n){this.groups.push({start:t,count:e,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix4:function(t){var e=this.attributes.position;void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var r=(new L).getNormalMatrix(t);n.applyNormalMatrix(r),n.needsUpdate=!0}var o=this.attributes.tangent;return void 0!==o&&(o.transformDirection(t),o.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(t){return Pe.makeRotationX(t),this.applyMatrix4(Pe),this},rotateY:function(t){return Pe.makeRotationY(t),this.applyMatrix4(Pe),this},rotateZ:function(t){return Pe.makeRotationZ(t),this.applyMatrix4(Pe),this},translate:function(t,e,n){return Pe.makeTranslation(t,e,n),this.applyMatrix4(Pe),this},scale:function(t,e,n){return Pe.makeScale(t,e,n),this.applyMatrix4(Pe),this},lookAt:function(t){return je.lookAt(t),je.updateMatrix(),this.applyMatrix4(je.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Le).negate(),this.translate(Le.x,Le.y,Le.z),this},setFromObject:function(object){var t=object.geometry;if(object.isPoints||object.isLine){var e=new De(3*t.vertices.length,3),n=new De(3*t.colors.length,3);if(this.setAttribute("position",e.copyVector3sArray(t.vertices)),this.setAttribute("color",n.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var r=new De(t.lineDistances.length,1);this.setAttribute("lineDistance",r.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else object.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(t){for(var e=[],n=0,r=t.length;n<r;n++){var o=t[n];e.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new De(e,3)),this},updateFromObject:function(object){var t=object.geometry;if(object.isMesh){var e=t.__directGeometry;if(!0===t.elementsNeedUpdate&&(e=void 0,t.elementsNeedUpdate=!1),void 0===e)return this.fromGeometry(t);e.verticesNeedUpdate=t.verticesNeedUpdate,e.normalsNeedUpdate=t.normalsNeedUpdate,e.colorsNeedUpdate=t.colorsNeedUpdate,e.uvsNeedUpdate=t.uvsNeedUpdate,e.groupsNeedUpdate=t.groupsNeedUpdate,t.verticesNeedUpdate=!1,t.normalsNeedUpdate=!1,t.colorsNeedUpdate=!1,t.uvsNeedUpdate=!1,t.groupsNeedUpdate=!1,t=e}if(!0===t.verticesNeedUpdate){var n=this.attributes.position;void 0!==n&&(n.copyVector3sArray(t.vertices),n.needsUpdate=!0),t.verticesNeedUpdate=!1}if(!0===t.normalsNeedUpdate){var r=this.attributes.normal;void 0!==r&&(r.copyVector3sArray(t.normals),r.needsUpdate=!0),t.normalsNeedUpdate=!1}if(!0===t.colorsNeedUpdate){var o=this.attributes.color;void 0!==o&&(o.copyColorsArray(t.colors),o.needsUpdate=!0),t.colorsNeedUpdate=!1}if(t.uvsNeedUpdate){var c=this.attributes.uv;void 0!==c&&(c.copyVector2sArray(t.uvs),c.needsUpdate=!0),t.uvsNeedUpdate=!1}if(t.lineDistancesNeedUpdate){var l=this.attributes.lineDistance;void 0!==l&&(l.copyArray(t.lineDistances),l.needsUpdate=!0),t.lineDistancesNeedUpdate=!1}return t.groupsNeedUpdate&&(t.computeGroups(object.geometry),this.groups=t.groups,t.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new Ce).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var e=new Float32Array(3*t.vertices.length);if(this.setAttribute("position",new _e(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){var n=new Float32Array(3*t.normals.length);this.setAttribute("normal",new _e(n,3).copyVector3sArray(t.normals))}if(t.colors.length>0){var r=new Float32Array(3*t.colors.length);this.setAttribute("color",new _e(r,3).copyColorsArray(t.colors))}if(t.uvs.length>0){var o=new Float32Array(2*t.uvs.length);this.setAttribute("uv",new _e(o,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){var c=new Float32Array(2*t.uvs2.length);this.setAttribute("uv2",new _e(c,2).copyVector2sArray(t.uvs2))}for(var l in this.groups=t.groups,t.morphTargets){for(var h=[],d=t.morphTargets[l],f=0,m=d.length;f<m;f++){var v=d[f],y=new De(3*v.data.length,3);y.name=v.name,h.push(y.copyVector3sArray(v.data))}this.morphAttributes[l]=h}if(t.skinIndices.length>0){var _=new De(4*t.skinIndices.length,4);this.setAttribute("skinIndex",_.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){var x=new De(4*t.skinWeights.length,4);this.setAttribute("skinWeight",x.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new W);var t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new z(-1/0,-1/0,-1/0),new z(1/0,1/0,1/0));if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(var n=0,r=e.length;n<r;n++){var o=e[n];Ie.setFromBufferAttribute(o),this.morphTargetsRelative?(Ne.addVectors(this.boundingBox.min,Ie.min),this.boundingBox.expandByPoint(Ne),Ne.addVectors(this.boundingBox.max,Ie.max),this.boundingBox.expandByPoint(Ne)):(this.boundingBox.expandByPoint(Ie.min),this.boundingBox.expandByPoint(Ie.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new ct);var t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new z,1/0);if(t){var n=this.boundingSphere.center;if(Ie.setFromBufferAttribute(t),e)for(var r=0,o=e.length;r<o;r++){var c=e[r];Re.setFromBufferAttribute(c),this.morphTargetsRelative?(Ne.addVectors(Ie.min,Re.min),Ie.expandByPoint(Ne),Ne.addVectors(Ie.max,Re.max),Ie.expandByPoint(Ne)):(Ie.expandByPoint(Re.min),Ie.expandByPoint(Re.max))}Ie.getCenter(n);for(var l=0,h=0,d=t.count;h<d;h++)Ne.fromBufferAttribute(t,h),l=Math.max(l,n.distanceToSquared(Ne));if(e)for(var f=0,m=e.length;f<m;f++)for(var v=e[f],y=this.morphTargetsRelative,_=0,x=v.count;_<x;_++)Ne.fromBufferAttribute(v,_),y&&(Le.fromBufferAttribute(t,_),Ne.add(Le)),l=Math.max(l,n.distanceToSquared(Ne));this.boundingSphere.radius=Math.sqrt(l),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,e=this.getAttribute("position");if(void 0!==e){var n=this.getAttribute("normal");if(void 0===n)n=new _e(new Float32Array(3*e.count),3),this.setAttribute("normal",n);else for(var r=0,o=n.count;r<o;r++)n.setXYZ(r,0,0,0);var c=new z,l=new z,h=new z,d=new z,f=new z,m=new z,v=new z,y=new z;if(t)for(var _=0,x=t.count;_<x;_+=3){var w=t.getX(_+0),E=t.getX(_+1),M=t.getX(_+2);c.fromBufferAttribute(e,w),l.fromBufferAttribute(e,E),h.fromBufferAttribute(e,M),v.subVectors(h,l),y.subVectors(c,l),v.cross(y),d.fromBufferAttribute(n,w),f.fromBufferAttribute(n,E),m.fromBufferAttribute(n,M),d.add(v),f.add(v),m.add(v),n.setXYZ(w,d.x,d.y,d.z),n.setXYZ(E,f.x,f.y,f.z),n.setXYZ(M,m.x,m.y,m.z)}else for(var S=0,T=e.count;S<T;S+=3)c.fromBufferAttribute(e,S+0),l.fromBufferAttribute(e,S+1),h.fromBufferAttribute(e,S+2),v.subVectors(h,l),y.subVectors(c,l),v.cross(y),n.setXYZ(S+0,v.x,v.y,v.z),n.setXYZ(S+1,v.x,v.y,v.z),n.setXYZ(S+2,v.x,v.y,v.z);this.normalizeNormals(),n.needsUpdate=!0}},merge:function(t,e){if(t&&t.isBufferGeometry){void 0===e&&(e=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n=this.attributes;for(var r in n)if(void 0!==t.attributes[r])for(var o=n[r].array,c=t.attributes[r],l=c.array,h=c.itemSize*e,d=Math.min(l.length,o.length-h),f=0,m=h;f<d;f++,m++)o[m]=l[f];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t)},normalizeNormals:function(){for(var t=this.attributes.normal,e=0,n=t.count;e<n;e++)Ne.fromBufferAttribute(t,e),Ne.normalize(),t.setXYZ(e,Ne.x,Ne.y,Ne.z)},toNonIndexed:function(){function t(t,e){for(var n=t.array,r=t.itemSize,o=t.normalized,c=new n.constructor(e.length*r),l=0,h=0,d=0,f=e.length;d<f;d++){l=e[d]*r;for(var m=0;m<r;m++)c[h++]=n[l++]}return new _e(c,r,o)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var e=new Fe,n=this.index.array,r=this.attributes;for(var o in r){var c=t(r[o],n);e.setAttribute(o,c)}var l=this.morphAttributes;for(var h in l){for(var d=[],f=l[h],m=0,v=f.length;m<v;m++){var y=t(f[m],n);d.push(y)}e.morphAttributes[h]=d}e.morphTargetsRelative=this.morphTargetsRelative;for(var _=this.groups,x=0,w=_.length;x<w;x++){var E=_[x];e.addGroup(E.start,E.count,E.materialIndex)}return e},toJSON:function(){var data={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(data.uuid=this.uuid,data.type=this.type,""!==this.name&&(data.name=this.name),Object.keys(this.userData).length>0&&(data.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var e in t)void 0!==t[e]&&(data[e]=t[e]);return data}data.data={attributes:{}};var n=this.index;null!==n&&(data.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});var r=this.attributes;for(var o in r){var c=r[o],l=c.toJSON(data.data);""!==c.name&&(l.name=c.name),data.data.attributes[o]=l}var h={},d=!1;for(var f in this.morphAttributes){for(var m=this.morphAttributes[f],v=[],y=0,_=m.length;y<_;y++){var x=m[y],w=x.toJSON(data.data);""!==x.name&&(w.name=x.name),v.push(w)}v.length>0&&(h[f]=v,d=!0)}d&&(data.data.morphAttributes=h,data.data.morphTargetsRelative=this.morphTargetsRelative);var E=this.groups;E.length>0&&(data.data.groups=JSON.parse(JSON.stringify(E)));var M=this.boundingSphere;return null!==M&&(data.data.boundingSphere={center:M.center.toArray(),radius:M.radius}),data},clone:function(){return(new Fe).copy(this)},copy:function(source){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var data={};this.name=source.name;var t=source.index;null!==t&&this.setIndex(t.clone(data));var e=source.attributes;for(var n in e){var r=e[n];this.setAttribute(n,r.clone(data))}var o=source.morphAttributes;for(var c in o){for(var l=[],h=o[c],d=0,f=h.length;d<f;d++)l.push(h[d].clone(data));this.morphAttributes[c]=l}this.morphTargetsRelative=source.morphTargetsRelative;for(var m=source.groups,v=0,y=m.length;v<y;v++){var _=m[v];this.addGroup(_.start,_.count,_.materialIndex)}var x=source.boundingBox;null!==x&&(this.boundingBox=x.clone());var w=source.boundingSphere;return null!==w&&(this.boundingSphere=w.clone()),this.drawRange.start=source.drawRange.start,this.drawRange.count=source.drawRange.count,this.userData=source.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var Be=new _t,Ue=new yt,Ve=new ct,ze=new z,He=new z,Ge=new z,We=new z,qe=new z,$e=new z,Qe=new z,Xe=new z,Ye=new z,Ke=new j,Je=new j,Ze=new j,tn=new z,en=new z;function nn(t,e){Gt.call(this),this.type="Mesh",this.geometry=void 0!==t?t:new Fe,this.material=void 0!==e?e:new ve,this.updateMorphTargets()}function rn(object,t,e,n,r,o,c,l){if(null===(1===t.side?n.intersectTriangle(c,o,r,!0,l):n.intersectTriangle(r,o,c,t.side!==E,l)))return null;en.copy(l),en.applyMatrix4(object.matrixWorld);var h=e.ray.origin.distanceTo(en);return h<e.near||h>e.far?null:{distance:h,point:en.clone(),object:object}}function on(object,t,e,n,r,o,c,l,h,a,b,d){ze.fromBufferAttribute(r,a),He.fromBufferAttribute(r,b),Ge.fromBufferAttribute(r,d);var f=object.morphTargetInfluences;if(t.morphTargets&&o&&f){Qe.set(0,0,0),Xe.set(0,0,0),Ye.set(0,0,0);for(var m=0,v=o.length;m<v;m++){var y=f[m],_=o[m];0!==y&&(We.fromBufferAttribute(_,a),qe.fromBufferAttribute(_,b),$e.fromBufferAttribute(_,d),c?(Qe.addScaledVector(We,y),Xe.addScaledVector(qe,y),Ye.addScaledVector($e,y)):(Qe.addScaledVector(We.sub(ze),y),Xe.addScaledVector(qe.sub(He),y),Ye.addScaledVector($e.sub(Ge),y)))}ze.add(Qe),He.add(Xe),Ge.add(Ye)}object.isSkinnedMesh&&(object.boneTransform(a,ze),object.boneTransform(b,He),object.boneTransform(d,Ge));var x=rn(object,t,e,n,ze,He,Ge,tn);if(x){l&&(Ke.fromBufferAttribute(l,a),Je.fromBufferAttribute(l,b),Ze.fromBufferAttribute(l,d),x.uv=oe.getUV(tn,ze,He,Ge,Ke,Je,Ze,new j)),h&&(Ke.fromBufferAttribute(h,a),Je.fromBufferAttribute(h,b),Ze.fromBufferAttribute(h,d),x.uv2=oe.getUV(tn,ze,He,Ge,Ke,Je,Ze,new j));var w=new de(a,b,d);oe.getNormal(ze,He,Ge,w.normal),x.face=w}return x}nn.prototype=Object.assign(Object.create(Gt.prototype),{constructor:nn,isMesh:!0,copy:function(source){return Gt.prototype.copy.call(this,source),void 0!==source.morphTargetInfluences&&(this.morphTargetInfluences=source.morphTargetInfluences.slice()),void 0!==source.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},source.morphTargetDictionary)),this.material=source.material,this.geometry=source.geometry,this},updateMorphTargets:function(){var t=this.geometry;if(t.isBufferGeometry){var e=t.morphAttributes,n=Object.keys(e);if(n.length>0){var r=e[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var o=0,c=r.length;o<c;o++){var l=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=o}}}}else{var h=t.morphTargets;void 0!==h&&h.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(t,e){var n,r=this.geometry,o=this.material,c=this.matrixWorld;if(void 0!==o&&(null===r.boundingSphere&&r.computeBoundingSphere(),Ve.copy(r.boundingSphere),Ve.applyMatrix4(c),!1!==t.ray.intersectsSphere(Ve)&&(Be.getInverse(c),Ue.copy(t.ray).applyMatrix4(Be),null===r.boundingBox||!1!==Ue.intersectsBox(r.boundingBox))))if(r.isBufferGeometry){var l=r.index,h=r.attributes.position,d=r.morphAttributes.position,f=r.morphTargetsRelative,m=r.attributes.uv,v=r.attributes.uv2,y=r.groups,_=r.drawRange;if(null!==l)if(Array.isArray(o))for(var x=0,w=y.length;x<w;x++)for(var E=y[x],M=o[E.materialIndex],S=Math.max(E.start,_.start),T=Math.min(E.start+E.count,_.start+_.count);S<T;S+=3){var a=l.getX(S),b=l.getX(S+1),D=l.getX(S+2);(n=on(this,M,t,Ue,h,d,f,m,v,a,b,D))&&(n.faceIndex=Math.floor(S/3),n.face.materialIndex=E.materialIndex,e.push(n))}else for(var O=Math.max(0,_.start),C=Math.min(l.count,_.start+_.count);O<C;O+=3){var A=l.getX(O),k=l.getX(O+1),P=l.getX(O+2);(n=on(this,o,t,Ue,h,d,f,m,v,A,k,P))&&(n.faceIndex=Math.floor(O/3),e.push(n))}else if(void 0!==h)if(Array.isArray(o))for(var L=0,I=y.length;L<I;L++)for(var R=y[L],N=o[R.materialIndex],F=Math.max(R.start,_.start),B=Math.min(R.start+R.count,_.start+_.count);F<B;F+=3){(n=on(this,N,t,Ue,h,d,f,m,v,F,F+1,F+2))&&(n.faceIndex=Math.floor(F/3),n.face.materialIndex=R.materialIndex,e.push(n))}else for(var U=Math.max(0,_.start),V=Math.min(h.count,_.start+_.count);U<V;U+=3){(n=on(this,o,t,Ue,h,d,f,m,v,U,U+1,U+2))&&(n.faceIndex=Math.floor(U/3),e.push(n))}}else if(r.isGeometry){var z,H=Array.isArray(o),G=r.vertices,W=r.faces,$=r.faceVertexUvs[0];$.length>0&&(z=$);for(var Q=0,X=W.length;Q<X;Q++){var Y=W[Q],K=H?o[Y.materialIndex]:o;if(void 0!==K){var J=G[Y.a],Z=G[Y.b],tt=G[Y.c];if(n=rn(this,K,t,Ue,J,Z,tt,tn)){if(z&&z[Q]){var et=z[Q];Ke.copy(et[0]),Je.copy(et[1]),Ze.copy(et[2]),n.uv=oe.getUV(tn,J,Z,tt,Ke,Je,Ze,new j)}n.face=Y,n.faceIndex=Q,e.push(n)}}}}}});var an=function(t){Object(d.a)(n,t);var e=_(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;Object(v.a)(this,n),(t=e.call(this)).type="BoxBufferGeometry",t.parameters={width:r,height:o,depth:c,widthSegments:l,heightSegments:d,depthSegments:f};var m=Object(h.a)(t);l=Math.floor(l),d=Math.floor(d),f=Math.floor(f);var y=[],_=[],x=[],w=[],E=0,M=0;function S(u,t,e,n,r,o,c,l,h,d,f){for(var v=o/h,S=c/d,T=o/2,D=c/2,O=l/2,C=h+1,A=d+1,k=0,P=0,j=new z,L=0;L<A;L++)for(var I=L*S-D,R=0;R<C;R++){var N=R*v-T;j[u]=N*n,j[t]=I*r,j[e]=O,_.push(j.x,j.y,j.z),j[u]=0,j[t]=0,j[e]=l>0?1:-1,x.push(j.x,j.y,j.z),w.push(R/h),w.push(1-L/d),k+=1}for(var F=0;F<d;F++)for(var B=0;B<h;B++){var a=E+B+C*F,b=E+B+C*(F+1),U=E+(B+1)+C*(F+1),V=E+(B+1)+C*F;y.push(a,b,V),y.push(b,U,V),P+=6}m.addGroup(M,P,f),M+=P,E+=k}return S("z","y","x",-1,-1,c,o,r,f,d,0),S("z","y","x",1,-1,c,o,-r,f,d,1),S("x","z","y",1,1,r,c,o,l,f,2),S("x","z","y",1,-1,r,c,-o,l,f,3),S("x","y","z",1,-1,r,o,c,l,d,4),S("x","y","z",-1,-1,r,o,-c,l,d,5),t.setIndex(y),t.setAttribute("position",new De(_,3)),t.setAttribute("normal",new De(x,3)),t.setAttribute("uv",new De(w,2)),t}return n}(Fe);function sn(t){var e={};for(var u in t)for(var p in e[u]={},t[u]){var n=t[u][p];n&&(n.isColor||n.isMatrix3||n.isMatrix4||n.isVector2||n.isVector3||n.isVector4||n.isTexture)?e[u][p]=n.clone():Array.isArray(n)?e[u][p]=n.slice():e[u][p]=n}return e}function un(t){for(var e={},u=0;u<t.length;u++){var n=sn(t[u]);for(var p in n)e[p]=n[p]}return e}var cn={clone:sn,merge:un};function ln(t){me.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}function hn(){Gt.call(this),this.type="Camera",this.matrixWorldInverse=new _t,this.projectionMatrix=new _t,this.projectionMatrixInverse=new _t}function pn(t,e,n,r){hn.call(this),this.type="PerspectiveCamera",this.fov=void 0!==t?t:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==e?e:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}ln.prototype=Object.create(me.prototype),ln.prototype.constructor=ln,ln.prototype.isShaderMaterial=!0,ln.prototype.copy=function(source){return me.prototype.copy.call(this,source),this.fragmentShader=source.fragmentShader,this.vertexShader=source.vertexShader,this.uniforms=sn(source.uniforms),this.defines=Object.assign({},source.defines),this.wireframe=source.wireframe,this.wireframeLinewidth=source.wireframeLinewidth,this.lights=source.lights,this.clipping=source.clipping,this.skinning=source.skinning,this.morphTargets=source.morphTargets,this.morphNormals=source.morphNormals,this.extensions=Object.assign({},source.extensions),this.glslVersion=source.glslVersion,this},ln.prototype.toJSON=function(meta){var data=me.prototype.toJSON.call(this,meta);for(var t in data.glslVersion=this.glslVersion,data.uniforms={},this.uniforms){var e=this.uniforms[t].value;e&&e.isTexture?data.uniforms[t]={type:"t",value:e.toJSON(meta).uuid}:e&&e.isColor?data.uniforms[t]={type:"c",value:e.getHex()}:e&&e.isVector2?data.uniforms[t]={type:"v2",value:e.toArray()}:e&&e.isVector3?data.uniforms[t]={type:"v3",value:e.toArray()}:e&&e.isVector4?data.uniforms[t]={type:"v4",value:e.toArray()}:e&&e.isMatrix3?data.uniforms[t]={type:"m3",value:e.toArray()}:e&&e.isMatrix4?data.uniforms[t]={type:"m4",value:e.toArray()}:data.uniforms[t]={value:e}}Object.keys(this.defines).length>0&&(data.defines=this.defines),data.vertexShader=this.vertexShader,data.fragmentShader=this.fragmentShader;var n={};for(var r in this.extensions)!0===this.extensions[r]&&(n[r]=!0);return Object.keys(n).length>0&&(data.extensions=n),data},hn.prototype=Object.assign(Object.create(Gt.prototype),{constructor:hn,isCamera:!0,copy:function(source,t){return Gt.prototype.copy.call(this,source,t),this.matrixWorldInverse.copy(source.matrixWorldInverse),this.projectionMatrix.copy(source.projectionMatrix),this.projectionMatrixInverse.copy(source.projectionMatrixInverse),this},getWorldDirection:function(t){void 0===t&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),t=new z),this.updateWorldMatrix(!0,!1);var e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()},updateMatrixWorld:function(t){Gt.prototype.updateMatrixWorld.call(this,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},updateWorldMatrix:function(t,e){Gt.prototype.updateWorldMatrix.call(this,t,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),pn.prototype=Object.assign(Object.create(hn.prototype),{constructor:pn,isPerspectiveCamera:!0,copy:function(source,t){return hn.prototype.copy.call(this,source,t),this.fov=source.fov,this.zoom=source.zoom,this.near=source.near,this.far=source.far,this.focus=source.focus,this.aspect=source.aspect,this.view=null===source.view?null:Object.assign({},source.view),this.filmGauge=source.filmGauge,this.filmOffset=source.filmOffset,this},setFocalLength:function(t){var e=.5*this.getFilmHeight()/t;this.fov=2*P.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var t=Math.tan(.5*P.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*P.RAD2DEG*Math.atan(Math.tan(.5*P.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,n,r,o,c){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=o,this.view.height=c,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=this.near,e=t*Math.tan(.5*P.DEG2RAD*this.fov)/this.zoom,n=2*e,r=this.aspect*n,o=-.5*r,view=this.view;if(null!==this.view&&this.view.enabled){var c=view.fullWidth,l=view.fullHeight;o+=view.offsetX*r/c,e-=view.offsetY*n/l,r*=view.width/c,n*=view.height/l}var h=this.filmOffset;0!==h&&(o+=t*h/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+r,e,e-n,t,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(meta){var data=Gt.prototype.toJSON.call(this,meta);return data.object.fov=this.fov,data.object.zoom=this.zoom,data.object.near=this.near,data.object.far=this.far,data.object.focus=this.focus,data.object.aspect=this.aspect,null!==this.view&&(data.object.view=Object.assign({},this.view)),data.object.filmGauge=this.filmGauge,data.object.filmOffset=this.filmOffset,data}});function dn(t,e,n){if(Gt.call(this),this.type="CubeCamera",!0===n.isWebGLCubeRenderTarget){this.renderTarget=n;var r=new pn(90,1,t,e);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new z(1,0,0)),this.add(r);var o=new pn(90,1,t,e);o.layers=this.layers,o.up.set(0,-1,0),o.lookAt(new z(-1,0,0)),this.add(o);var c=new pn(90,1,t,e);c.layers=this.layers,c.up.set(0,0,1),c.lookAt(new z(0,1,0)),this.add(c);var l=new pn(90,1,t,e);l.layers=this.layers,l.up.set(0,0,-1),l.lookAt(new z(0,-1,0)),this.add(l);var h=new pn(90,1,t,e);h.layers=this.layers,h.up.set(0,-1,0),h.lookAt(new z(0,0,1)),this.add(h);var d=new pn(90,1,t,e);d.layers=this.layers,d.up.set(0,-1,0),d.lookAt(new z(0,0,-1)),this.add(d),this.update=function(t,e){null===this.parent&&this.updateMatrixWorld();var f=t.xr.enabled,m=t.getRenderTarget();t.xr.enabled=!1;var v=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,t.setRenderTarget(n,0),t.render(e,r),t.setRenderTarget(n,1),t.render(e,o),t.setRenderTarget(n,2),t.render(e,c),t.setRenderTarget(n,3),t.render(e,l),t.setRenderTarget(n,4),t.render(e,h),n.texture.generateMipmaps=v,t.setRenderTarget(n,5),t.render(e,d),t.setRenderTarget(m),t.xr.enabled=f}}else console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.")}function fn(t,e,n,r,o,c,l,h,d,f){t=void 0!==t?t:[],e=void 0!==e?e:301,l=void 0!==l?l:1022,N.call(this,t,e,n,r,o,c,l,h,d,f),this.flipY=!1,this._needsFlipEnvMap=!0}function mn(t,e,n){Number.isInteger(e)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),e=n),B.call(this,t,t,e),e=e||{},this.texture=new fn(void 0,e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.encoding),this.texture._needsFlipEnvMap=!1}function vn(data,t,e,n,r,o,c,l,h,d,f,m){N.call(this,null,o,c,l,h,d,n,r,f,m),this.image={data:data||null,width:t||1,height:e||1},this.magFilter=void 0!==h?h:1003,this.minFilter=void 0!==d?d:1003,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}dn.prototype=Object.create(Gt.prototype),dn.prototype.constructor=dn,fn.prototype=Object.create(N.prototype),fn.prototype.constructor=fn,fn.prototype.isCubeTexture=!0,Object.defineProperty(fn.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}}),mn.prototype=Object.create(B.prototype),mn.prototype.constructor=mn,mn.prototype.isWebGLCubeRenderTarget=!0,mn.prototype.fromEquirectangularTexture=function(t,e){this.texture.type=e.type,this.texture.format=D,this.texture.encoding=e.encoding,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;var n={tEquirect:{value:null}},r="\n\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t#include <begin_vertex>\n\t\t\t\t#include <project_vertex>\n\n\t\t\t}\n\t\t",o="\n\n\t\t\tuniform sampler2D tEquirect;\n\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t}\n\t\t",c=new an(5,5,5),l=new ln({name:"CubemapFromEquirect",uniforms:sn(n),vertexShader:r,fragmentShader:o,side:1,blending:0});l.uniforms.tEquirect.value=e;var h=new nn(c,l),d=e.minFilter;return 1008===e.minFilter&&(e.minFilter=T),new dn(1,10,this).update(t,h),e.minFilter=d,h.geometry.dispose(),h.material.dispose(),this},mn.prototype.clear=function(t,e,n,r){for(var o=t.getRenderTarget(),c=0;c<6;c++)t.setRenderTarget(this,c),t.clear(e,n,r);t.setRenderTarget(o)},vn.prototype=Object.create(N.prototype),vn.prototype.constructor=vn,vn.prototype.isDataTexture=!0;var gn=new ct,yn=new z,_n=function(){function t(e,n,r,o,c,l){Object(v.a)(this,t),this.planes=[void 0!==e?e:new Qt,void 0!==n?n:new Qt,void 0!==r?r:new Qt,void 0!==o?o:new Qt,void 0!==c?c:new Qt,void 0!==l?l:new Qt]}return Object(y.a)(t,[{key:"set",value:function(t,e,n,r,o,c){var l=this.planes;return l[0].copy(t),l[1].copy(e),l[2].copy(n),l[3].copy(r),l[4].copy(o),l[5].copy(c),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){for(var e=this.planes,n=0;n<6;n++)e[n].copy(t.planes[n]);return this}},{key:"setFromProjectionMatrix",value:function(t){var e=this.planes,n=t.elements,r=n[0],o=n[1],c=n[2],l=n[3],h=n[4],d=n[5],f=n[6],m=n[7],v=n[8],y=n[9],_=n[10],x=n[11],w=n[12],E=n[13],M=n[14],S=n[15];return e[0].setComponents(l-r,m-h,x-v,S-w).normalize(),e[1].setComponents(l+r,m+h,x+v,S+w).normalize(),e[2].setComponents(l+o,m+d,x+y,S+E).normalize(),e[3].setComponents(l-o,m-d,x-y,S-E).normalize(),e[4].setComponents(l-c,m-f,x-_,S-M).normalize(),e[5].setComponents(l+c,m+f,x+_,S+M).normalize(),this}},{key:"intersectsObject",value:function(object){var t=object.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),gn.copy(t.boundingSphere).applyMatrix4(object.matrixWorld),this.intersectsSphere(gn)}},{key:"intersectsSprite",value:function(t){return gn.center.set(0,0,0),gn.radius=.7071067811865476,gn.applyMatrix4(t.matrixWorld),this.intersectsSphere(gn)}},{key:"intersectsSphere",value:function(t){for(var e=this.planes,n=t.center,r=-t.radius,o=0;o<6;o++){if(e[o].distanceToPoint(n)<r)return!1}return!0}},{key:"intersectsBox",value:function(t){for(var e=this.planes,n=0;n<6;n++){var r=e[n];if(yn.x=r.normal.x>0?t.max.x:t.min.x,yn.y=r.normal.y>0?t.max.y:t.min.y,yn.z=r.normal.z>0?t.max.z:t.min.z,r.distanceToPoint(yn)<0)return!1}return!0}},{key:"containsPoint",value:function(t){for(var e=this.planes,n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}}]),t}();function bn(){var t=null,e=!1,n=null,r=null;function o(time,e){n(time,e),r=t.requestAnimationFrame(o)}return{start:function(){!0!==e&&null!==n&&(r=t.requestAnimationFrame(o),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(t){n=t},setContext:function(e){t=e}}}function xn(t,e){var n=e.isWebGL2,r=new WeakMap;return{get:function(t){return t.isInterleavedBufferAttribute&&(t=t.data),r.get(t)},remove:function(e){e.isInterleavedBufferAttribute&&(e=e.data);var data=r.get(e);data&&(t.deleteBuffer(data.buffer),r.delete(e))},update:function(e,o){if(e.isGLBufferAttribute){var c=r.get(e);(!c||c.version<e.version)&&r.set(e,{buffer:e.buffer,type:e.type,bytesPerElement:e.elementSize,version:e.version})}else{e.isInterleavedBufferAttribute&&(e=e.data);var data=r.get(e);void 0===data?r.set(e,function(e,n){var r=e.array,o=e.usage,c=t.createBuffer();t.bindBuffer(n,c),t.bufferData(n,r,o),e.onUploadCallback();var l=5126;return r instanceof Float32Array?l=5126:r instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):r instanceof Uint16Array?l=5123:r instanceof Int16Array?l=5122:r instanceof Uint32Array?l=5125:r instanceof Int32Array?l=5124:r instanceof Int8Array?l=5120:r instanceof Uint8Array&&(l=5121),{buffer:c,type:l,bytesPerElement:r.BYTES_PER_ELEMENT,version:e.version}}(e,o)):data.version<e.version&&(!function(e,r,o){var c=r.array,l=r.updateRange;t.bindBuffer(o,e),-1===l.count?t.bufferSubData(o,0,c):(n?t.bufferSubData(o,l.offset*c.BYTES_PER_ELEMENT,c,l.offset,l.count):t.bufferSubData(o,l.offset*c.BYTES_PER_ELEMENT,c.subarray(l.offset,l.offset+l.count)),l.count=-1)}(data.buffer,e,o),data.version=e.version)}}}}var wn=function(t){Object(d.a)(n,t);var e=_(n);function n(t,r,o,c){var l;Object(v.a)(this,n),(l=e.call(this)).type="PlaneBufferGeometry",l.parameters={width:t,height:r,widthSegments:o,heightSegments:c};for(var h=(t=t||1)/2,d=(r=r||1)/2,f=Math.floor(o)||1,m=Math.floor(c)||1,y=f+1,_=m+1,x=t/f,w=r/m,E=[],M=[],S=[],T=[],D=0;D<_;D++)for(var O=D*w-d,C=0;C<y;C++){var A=C*x-h;M.push(A,-O,0),S.push(0,0,1),T.push(C/f),T.push(1-D/m)}for(var k=0;k<m;k++)for(var P=0;P<f;P++){var a=P+y*k,b=P+y*(k+1),j=P+1+y*(k+1),L=P+1+y*k;E.push(a,b,L),E.push(b,j,L)}return l.setIndex(E),l.setAttribute("position",new De(M,3)),l.setAttribute("normal",new De(S,3)),l.setAttribute("uv",new De(T,2)),l}return n}(Fe),En={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor.xyz *= color.xyz;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\n\t\tvec2 f = fract( uv );\n\t\tuv += 0.5 - f;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t}\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\tuv *= texelSize;\n\t\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x += texelSize;\n\t\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.y += texelSize;\n\t\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x -= texelSize;\n\t\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tvec3 tm = mix( tl, tr, f.x );\n\t\tvec3 bm = mix( bl, br, f.x );\n\t\treturn mix( tm, bm, f.y );\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value ) {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat specularRoughness;\n\tvec3 specularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\t\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\t\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\t\tmat3 tsn = mat3( S, T, N );\n\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmissionmap_fragment:"#ifdef USE_TRANSMISSIONMAP\n\ttotalTransmission *= texture2D( transmissionMap, vUv ).r;\n#endif",transmissionmap_pars_fragment:"#ifdef USE_TRANSMISSIONMAP\n\tuniform sampler2D transmissionMap;\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSMISSION\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSMISSION\n\tuniform float transmission;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <transmissionmap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#ifdef TRANSMISSION\n\t\tfloat totalTransmission = transmission;\n\t#endif\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <transmissionmap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSMISSION\n\t\tdiffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},Mn={common:{diffuse:{value:new pe(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new L},uv2Transform:{value:new L},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new j(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new pe(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new pe(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new L}},sprite:{diffuse:{value:new pe(15658734)},opacity:{value:1},center:{value:new j(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new L}}},Sn={basic:{uniforms:un([Mn.common,Mn.specularmap,Mn.envmap,Mn.aomap,Mn.lightmap,Mn.fog]),vertexShader:En.meshbasic_vert,fragmentShader:En.meshbasic_frag},lambert:{uniforms:un([Mn.common,Mn.specularmap,Mn.envmap,Mn.aomap,Mn.lightmap,Mn.emissivemap,Mn.fog,Mn.lights,{emissive:{value:new pe(0)}}]),vertexShader:En.meshlambert_vert,fragmentShader:En.meshlambert_frag},phong:{uniforms:un([Mn.common,Mn.specularmap,Mn.envmap,Mn.aomap,Mn.lightmap,Mn.emissivemap,Mn.bumpmap,Mn.normalmap,Mn.displacementmap,Mn.fog,Mn.lights,{emissive:{value:new pe(0)},specular:{value:new pe(1118481)},shininess:{value:30}}]),vertexShader:En.meshphong_vert,fragmentShader:En.meshphong_frag},standard:{uniforms:un([Mn.common,Mn.envmap,Mn.aomap,Mn.lightmap,Mn.emissivemap,Mn.bumpmap,Mn.normalmap,Mn.displacementmap,Mn.roughnessmap,Mn.metalnessmap,Mn.fog,Mn.lights,{emissive:{value:new pe(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:En.meshphysical_vert,fragmentShader:En.meshphysical_frag},toon:{uniforms:un([Mn.common,Mn.aomap,Mn.lightmap,Mn.emissivemap,Mn.bumpmap,Mn.normalmap,Mn.displacementmap,Mn.gradientmap,Mn.fog,Mn.lights,{emissive:{value:new pe(0)}}]),vertexShader:En.meshtoon_vert,fragmentShader:En.meshtoon_frag},matcap:{uniforms:un([Mn.common,Mn.bumpmap,Mn.normalmap,Mn.displacementmap,Mn.fog,{matcap:{value:null}}]),vertexShader:En.meshmatcap_vert,fragmentShader:En.meshmatcap_frag},points:{uniforms:un([Mn.points,Mn.fog]),vertexShader:En.points_vert,fragmentShader:En.points_frag},dashed:{uniforms:un([Mn.common,Mn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:En.linedashed_vert,fragmentShader:En.linedashed_frag},depth:{uniforms:un([Mn.common,Mn.displacementmap]),vertexShader:En.depth_vert,fragmentShader:En.depth_frag},normal:{uniforms:un([Mn.common,Mn.bumpmap,Mn.normalmap,Mn.displacementmap,{opacity:{value:1}}]),vertexShader:En.normal_vert,fragmentShader:En.normal_frag},sprite:{uniforms:un([Mn.sprite,Mn.fog]),vertexShader:En.sprite_vert,fragmentShader:En.sprite_frag},background:{uniforms:{uvTransform:{value:new L},t2D:{value:null}},vertexShader:En.background_vert,fragmentShader:En.background_frag},cube:{uniforms:un([Mn.envmap,{opacity:{value:1}}]),vertexShader:En.cube_vert,fragmentShader:En.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:En.equirect_vert,fragmentShader:En.equirect_frag},distanceRGBA:{uniforms:un([Mn.common,Mn.displacementmap,{referencePosition:{value:new z},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:En.distanceRGBA_vert,fragmentShader:En.distanceRGBA_frag},shadow:{uniforms:un([Mn.lights,Mn.fog,{color:{value:new pe(0)},opacity:{value:1}}]),vertexShader:En.shadow_vert,fragmentShader:En.shadow_frag}};function Tn(t,e,n,r,o){var c,l,h=new pe(0),d=0,f=null,m=0,v=null;function y(t,e){n.buffers.color.setClear(t.r,t.g,t.b,e,o)}return{getClearColor:function(){return h},setClearColor:function(t,e){h.set(t),y(h,d=void 0!==e?e:1)},getClearAlpha:function(){return d},setClearAlpha:function(t){y(h,d=t)},render:function(n,o,_,x){var w=!0===o.isScene?o.background:null;w&&w.isTexture&&(w=e.get(w));var E=t.xr,M=E.getSession&&E.getSession();M&&"additive"===M.environmentBlendMode&&(w=null),null===w?y(h,d):w&&w.isColor&&(y(w,1),x=!0),(t.autoClear||x)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),w&&(w.isCubeTexture||w.isWebGLCubeRenderTarget||306===w.mapping)?(void 0===l&&((l=new nn(new an(1,1,1),new ln({name:"BackgroundCubeMaterial",uniforms:sn(Sn.cube.uniforms),vertexShader:Sn.cube.vertexShader,fragmentShader:Sn.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),l.geometry.deleteAttribute("uv"),l.onBeforeRender=function(t,e,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(l.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(l)),w.isWebGLCubeRenderTarget&&(w=w.texture),l.material.uniforms.envMap.value=w,l.material.uniforms.flipEnvMap.value=w.isCubeTexture&&w._needsFlipEnvMap?-1:1,f===w&&m===w.version&&v===t.toneMapping||(l.material.needsUpdate=!0,f=w,m=w.version,v=t.toneMapping),n.unshift(l,l.geometry,l.material,0,0,null)):w&&w.isTexture&&(void 0===c&&((c=new nn(new wn(2,2),new ln({name:"BackgroundMaterial",uniforms:sn(Sn.background.uniforms),vertexShader:Sn.background.vertexShader,fragmentShader:Sn.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=w,!0===w.matrixAutoUpdate&&w.updateMatrix(),c.material.uniforms.uvTransform.value.copy(w.matrix),f===w&&m===w.version&&v===t.toneMapping||(c.material.needsUpdate=!0,f=w,m=w.version,v=t.toneMapping),n.unshift(c,c.geometry,c.material,0,0,null))}}}function Dn(t,e,n,r){var o=t.getParameter(34921),c=r.isWebGL2?null:e.get("OES_vertex_array_object"),l=r.isWebGL2||null!==c,h={},d=y(null),f=d;function m(e){return r.isWebGL2?t.bindVertexArray(e):c.bindVertexArrayOES(e)}function v(e){return r.isWebGL2?t.deleteVertexArray(e):c.deleteVertexArrayOES(e)}function y(t){for(var e=[],n=[],r=[],c=0;c<o;c++)e[c]=0,n[c]=0,r[c]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:e,enabledAttributes:n,attributeDivisors:r,object:t,attributes:{},index:null}}function _(){for(var t=f.newAttributes,e=0,n=t.length;e<n;e++)t[e]=0}function x(t){w(t,0)}function w(n,o){var c=f.newAttributes,l=f.enabledAttributes,h=f.attributeDivisors;(c[n]=1,0===l[n]&&(t.enableVertexAttribArray(n),l[n]=1),h[n]!==o)&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,o),h[n]=o)}function E(){for(var e=f.newAttributes,n=f.enabledAttributes,r=0,o=n.length;r<o;r++)n[r]!==e[r]&&(t.disableVertexAttribArray(r),n[r]=0)}function M(e,n,o,c,l,h){!0!==r.isWebGL2||5124!==o&&5125!==o?t.vertexAttribPointer(e,n,o,c,l,h):t.vertexAttribIPointer(e,n,o,l,h)}function S(){T(),f!==d&&m((f=d).object)}function T(){d.geometry=null,d.program=null,d.wireframe=!1}return{setup:function(object,o,d,v,S){var T=!1;if(l){var D=function(e,n,o){var l=!0===o.wireframe,d=h[e.id];void 0===d&&(d={},h[e.id]=d);var f=d[n.id];void 0===f&&(f={},d[n.id]=f);var m=f[l];void 0===m&&(m=y(r.isWebGL2?t.createVertexArray():c.createVertexArrayOES()),f[l]=m);return m}(v,d,o);f!==D&&m((f=D).object),(T=function(t,e){var n=f.attributes,r=t.attributes;if(Object.keys(n).length!==Object.keys(r).length)return!0;for(var o in r){var c=n[o],l=r[o];if(void 0===c)return!0;if(c.attribute!==l)return!0;if(c.data!==l.data)return!0}return f.index!==e}(v,S))&&function(t,e){var n={},r=t.attributes;for(var o in r){var c=r[o],data={};data.attribute=c,c.data&&(data.data=c.data),n[o]=data}f.attributes=n,f.index=e}(v,S)}else{var O=!0===o.wireframe;f.geometry===v.id&&f.program===d.id&&f.wireframe===O||(f.geometry=v.id,f.program=d.id,f.wireframe=O,T=!0)}!0===object.isInstancedMesh&&(T=!0),null!==S&&n.update(S,34963),T&&(!function(object,o,c,l){if(!1===r.isWebGL2&&(object.isInstancedMesh||l.isInstancedBufferGeometry)&&null===e.get("ANGLE_instanced_arrays"))return;_();var h=l.attributes,d=c.getAttributes(),f=o.defaultAttributeValues;for(var m in d){var v=d[m];if(v>=0){var y=h[m];if(void 0!==y){var S=y.normalized,T=y.itemSize,D=n.get(y);if(void 0===D)continue;var O=D.buffer,C=D.type,A=D.bytesPerElement;if(y.isInterleavedBufferAttribute){var data=y.data,k=data.stride,P=y.offset;data&&data.isInstancedInterleavedBuffer?(w(v,data.meshPerAttribute),void 0===l._maxInstanceCount&&(l._maxInstanceCount=data.meshPerAttribute*data.count)):x(v),t.bindBuffer(34962,O),M(v,T,C,S,k*A,P*A)}else y.isInstancedBufferAttribute?(w(v,y.meshPerAttribute),void 0===l._maxInstanceCount&&(l._maxInstanceCount=y.meshPerAttribute*y.count)):x(v),t.bindBuffer(34962,O),M(v,T,C,S,0,0)}else if("instanceMatrix"===m){var j=n.get(object.instanceMatrix);if(void 0===j)continue;var L=j.buffer,I=j.type;w(v+0,1),w(v+1,1),w(v+2,1),w(v+3,1),t.bindBuffer(34962,L),t.vertexAttribPointer(v+0,4,I,!1,64,0),t.vertexAttribPointer(v+1,4,I,!1,64,16),t.vertexAttribPointer(v+2,4,I,!1,64,32),t.vertexAttribPointer(v+3,4,I,!1,64,48)}else if("instanceColor"===m){var R=n.get(object.instanceColor);if(void 0===R)continue;var N=R.buffer,F=R.type;w(v,1),t.bindBuffer(34962,N),t.vertexAttribPointer(v,3,F,!1,12,0)}else if(void 0!==f){var B=f[m];if(void 0!==B)switch(B.length){case 2:t.vertexAttrib2fv(v,B);break;case 3:t.vertexAttrib3fv(v,B);break;case 4:t.vertexAttrib4fv(v,B);break;default:t.vertexAttrib1fv(v,B)}}}}E()}(object,o,d,v),null!==S&&t.bindBuffer(34963,n.get(S).buffer))},reset:S,resetDefaultState:T,dispose:function(){for(var t in S(),h){var e=h[t];for(var n in e){var r=e[n];for(var o in r)v(r[o].object),delete r[o];delete e[n]}delete h[t]}},releaseStatesOfGeometry:function(t){if(void 0!==h[t.id]){var e=h[t.id];for(var n in e){var r=e[n];for(var o in r)v(r[o].object),delete r[o];delete e[n]}delete h[t.id]}},releaseStatesOfProgram:function(t){for(var e in h){var n=h[e];if(void 0!==n[t.id]){var r=n[t.id];for(var o in r)v(r[o].object),delete r[o];delete n[t.id]}}},initAttributes:_,enableAttribute:x,disableUnusedAttributes:E}}function On(t,e,n,r){var o,c=r.isWebGL2;this.setMode=function(t){o=t},this.render=function(e,r){t.drawArrays(o,e,r),n.update(r,o,1)},this.renderInstances=function(r,l,h){if(0!==h){var d,f;if(c)d=t,f="drawArraysInstanced";else if(f="drawArraysInstancedANGLE",null===(d=e.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");d[f](o,r,l,h),n.update(l,o,h)}}}function Cn(t,e,n){var r;function o(e){if("highp"===e){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var c="undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&t instanceof WebGL2ComputeRenderingContext,l=void 0!==n.precision?n.precision:"highp",h=o(l);h!==l&&(console.warn("THREE.WebGLRenderer:",l,"not supported, using",h,"instead."),l=h);var d=!0===n.logarithmicDepthBuffer,f=t.getParameter(34930),m=t.getParameter(35660),v=t.getParameter(3379),y=t.getParameter(34076),_=t.getParameter(34921),x=t.getParameter(36347),w=t.getParameter(36348),E=t.getParameter(36349),M=m>0,S=c||!!e.get("OES_texture_float");return{isWebGL2:c,getMaxAnisotropy:function(){if(void 0!==r)return r;var n=e.get("EXT_texture_filter_anisotropic");return r=null!==n?t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:o,precision:l,logarithmicDepthBuffer:d,maxTextures:f,maxVertexTextures:m,maxTextureSize:v,maxCubemapSize:y,maxAttributes:_,maxVertexUniforms:x,maxVaryings:w,maxFragmentUniforms:E,vertexTextures:M,floatFragmentTextures:S,floatVertexTextures:M&&S,maxSamples:c?t.getParameter(36183):0}}function An(t){var e=this,n=null,r=0,o=!1,c=!1,l=new Qt,h=new L,d={value:null,needsUpdate:!1};function f(){d.value!==n&&(d.value=n,d.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function m(t,n,r,o){var c=null!==t?t.length:0,f=null;if(0!==c){if(f=d.value,!0!==o||null===f){var m=r+4*c,v=n.matrixWorldInverse;h.getNormalMatrix(v),(null===f||f.length<m)&&(f=new Float32Array(m));for(var y=0,_=r;y!==c;++y,_+=4)l.copy(t[y]).applyMatrix4(v,h),l.normal.toArray(f,_),f[_+3]=l.constant}d.value=f,d.needsUpdate=!0}return e.numPlanes=c,e.numIntersection=0,f}this.uniform=d,this.numPlanes=0,this.numIntersection=0,this.init=function(t,e,c){var l=0!==t.length||e||0!==r||o;return o=e,n=m(t,c,0),r=t.length,l},this.beginShadows=function(){c=!0,m(null)},this.endShadows=function(){c=!1,f()},this.setState=function(e,l,h){var v=e.clippingPlanes,y=e.clipIntersection,_=e.clipShadows,x=t.get(e);if(!o||null===v||0===v.length||c&&!_)c?m(null):f();else{var w=c?0:r,E=4*w,M=x.clippingState||null;d.value=M,M=m(v,l,E,h);for(var S=0;S!==E;++S)M[S]=n[S];x.clippingState=M,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=w}}}function kn(t){var e=new WeakMap;function n(t,e){return 303===e?t.mapping=301:304===e&&(t.mapping=302),t}function r(t){var n=t.target;n.removeEventListener("dispose",r);var o=e.get(n);void 0!==o&&(e.delete(n),o.dispose())}return{get:function(o){if(o&&o.isTexture){var c=o.mapping;if(303===c||304===c){if(e.has(o))return n(e.get(o).texture,o.mapping);var image=o.image;if(image&&image.height>0){var l=t.getRenderList(),h=t.getRenderTarget(),d=t.getRenderState(),f=new mn(image.height/2);return f.fromEquirectangularTexture(t,o),e.set(o,f),t.setRenderTarget(h),t.setRenderList(l),t.setRenderState(d),o.addEventListener("dispose",r),n(f.texture,o.mapping)}return null}}return o},dispose:function(){e=new WeakMap}}}function Pn(t){var e={};return{has:function(n){if(void 0!==e[n])return null!==e[n];var r;switch(n){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=t.getExtension(n)}return e[n]=r,null!==r},get:function(t){return this.has(t)||console.warn("THREE.WebGLRenderer: "+t+" extension not supported."),e[t]}}}function jn(t,e,n,r){var o=new WeakMap,c=new WeakMap;function l(t){var h=t.target,d=o.get(h);for(var f in null!==d.index&&e.remove(d.index),d.attributes)e.remove(d.attributes[f]);h.removeEventListener("dispose",l),o.delete(h);var m=c.get(d);m&&(e.remove(m),c.delete(d)),r.releaseStatesOfGeometry(d),!0===h.isInstancedBufferGeometry&&delete h._maxInstanceCount,n.memory.geometries--}function h(t){var n=[],r=t.index,o=t.attributes.position,l=0;if(null!==r){var h=r.array;l=r.version;for(var d=0,f=h.length;d<f;d+=3){var a=h[d+0],b=h[d+1],m=h[d+2];n.push(a,b,b,m,m,a)}}else{var v=o.array;l=o.version;for(var y=0,_=v.length/3-1;y<_;y+=3){var x=y+0,w=y+1,E=y+2;n.push(x,w,w,E,E,x)}}var M=new(Ae(n)>65535?Te:Me)(n,1);M.version=l;var S=c.get(t);S&&e.remove(S),c.set(t,M)}return{get:function(object,t){var e=o.get(t);return e||(t.addEventListener("dispose",l),t.isBufferGeometry?e=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new Fe).setFromObject(object)),e=t._bufferGeometry),o.set(t,e),n.memory.geometries++,e)},update:function(t){var n=t.attributes;for(var r in n)e.update(n[r],34962);var o=t.morphAttributes;for(var c in o)for(var l=o[c],h=0,d=l.length;h<d;h++)e.update(l[h],34962)},getWireframeAttribute:function(t){var e=c.get(t);if(e){var n=t.index;null!==n&&e.version<n.version&&h(t)}else h(t);return c.get(t)}}}function Ln(t,e,n,r){var o,c,l,h=r.isWebGL2;this.setMode=function(t){o=t},this.setIndex=function(t){c=t.type,l=t.bytesPerElement},this.render=function(e,r){t.drawElements(o,r,c,e*l),n.update(r,o,1)},this.renderInstances=function(r,d,f){if(0!==f){var m,v;if(h)m=t,v="drawElementsInstanced";else if(v="drawElementsInstancedANGLE",null===(m=e.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");m[v](o,d,c,r*l,f),n.update(d,o,f)}}}function In(t){var e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function(t,n,r){switch(e.calls++,n){case 4:e.triangles+=r*(t/3);break;case 1:e.lines+=r*(t/2);break;case 3:e.lines+=r*(t-1);break;case 2:e.lines+=r*t;break;case 0:e.points+=r*t;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function Rn(a,b){return a[0]-b[0]}function Nn(a,b){return Math.abs(b[1])-Math.abs(a[1])}function Fn(t){for(var e={},n=new Float32Array(8),r=[],o=0;o<8;o++)r[o]=[o,0];return{update:function(object,o,c,l){var h=object.morphTargetInfluences,d=void 0===h?0:h.length,f=e[o.id];if(void 0===f){f=[];for(var m=0;m<d;m++)f[m]=[m,0];e[o.id]=f}for(var v=0;v<d;v++){var y=f[v];y[0]=v,y[1]=h[v]}f.sort(Nn);for(var _=0;_<8;_++)_<d&&f[_][1]?(r[_][0]=f[_][0],r[_][1]=f[_][1]):(r[_][0]=Number.MAX_SAFE_INTEGER,r[_][1]=0);r.sort(Rn);for(var x=c.morphTargets&&o.morphAttributes.position,w=c.morphNormals&&o.morphAttributes.normal,E=0,M=0;M<8;M++){var S=r[M],T=S[0],D=S[1];T!==Number.MAX_SAFE_INTEGER&&D?(x&&o.getAttribute("morphTarget"+M)!==x[T]&&o.setAttribute("morphTarget"+M,x[T]),w&&o.getAttribute("morphNormal"+M)!==w[T]&&o.setAttribute("morphNormal"+M,w[T]),n[M]=D,E+=D):(x&&void 0!==o.getAttribute("morphTarget"+M)&&o.deleteAttribute("morphTarget"+M),w&&void 0!==o.getAttribute("morphNormal"+M)&&o.deleteAttribute("morphNormal"+M),n[M]=0)}var O=o.morphTargetsRelative?1:1-E;l.getUniforms().setValue(t,"morphTargetBaseInfluence",O),l.getUniforms().setValue(t,"morphTargetInfluences",n)}}}function Bn(t,e,n,r){var o=new WeakMap;return{update:function(object){var t=r.render.frame,c=object.geometry,l=e.get(object,c);return o.get(l)!==t&&(c.isGeometry&&l.updateFromObject(object),e.update(l),o.set(l,t)),object.isInstancedMesh&&(n.update(object.instanceMatrix,34962),null!==object.instanceColor&&n.update(object.instanceColor,34962)),l},dispose:function(){o=new WeakMap}}}function Un(data,t,e,n){N.call(this,null),this.image={data:data||null,width:t||1,height:e||1,depth:n||1},this.magFilter=1003,this.minFilter=1003,this.wrapR=1001,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}function Vn(data,t,e,n){N.call(this,null),this.image={data:data||null,width:t||1,height:e||1,depth:n||1},this.magFilter=1003,this.minFilter=1003,this.wrapR=1001,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}Sn.physical={uniforms:un([Sn.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new j(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new pe(0)},transmission:{value:0},transmissionMap:{value:null}}]),vertexShader:En.meshphysical_vert,fragmentShader:En.meshphysical_frag},Un.prototype=Object.create(N.prototype),Un.prototype.constructor=Un,Un.prototype.isDataTexture2DArray=!0,Vn.prototype=Object.create(N.prototype),Vn.prototype.constructor=Vn,Vn.prototype.isDataTexture3D=!0;var zn=new N,Hn=new Un,Gn=new Vn,Wn=new fn,qn=[],$n=[],Qn=new Float32Array(16),Xn=new Float32Array(9),Yn=new Float32Array(4);function Kn(t,e,n){var r=t[0];if(r<=0||r>0)return t;var o=e*n,c=qn[o];if(void 0===c&&(c=new Float32Array(o),qn[o]=c),0!==e){r.toArray(c,0);for(var l=1,h=0;l!==e;++l)h+=n,t[l].toArray(c,h)}return c}function Jn(a,b){if(a.length!==b.length)return!1;for(var t=0,e=a.length;t<e;t++)if(a[t]!==b[t])return!1;return!0}function Zn(a,b){for(var t=0,e=b.length;t<e;t++)a[t]=b[t]}function er(t,e){var n=$n[e];void 0===n&&(n=new Int32Array(e),$n[e]=n);for(var r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function nr(t,e){var n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function rr(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Jn(n,e))return;t.uniform2fv(this.addr,e),Zn(n,e)}}function ir(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(void 0!==e.r)n[0]===e.r&&n[1]===e.g&&n[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Jn(n,e))return;t.uniform3fv(this.addr,e),Zn(n,e)}}function or(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z&&n[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Jn(n,e))return;t.uniform4fv(this.addr,e),Zn(n,e)}}function ar(t,e){var n=this.cache,r=e.elements;if(void 0===r){if(Jn(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Zn(n,e)}else{if(Jn(n,r))return;Yn.set(r),t.uniformMatrix2fv(this.addr,!1,Yn),Zn(n,r)}}function sr(t,e){var n=this.cache,r=e.elements;if(void 0===r){if(Jn(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Zn(n,e)}else{if(Jn(n,r))return;Xn.set(r),t.uniformMatrix3fv(this.addr,!1,Xn),Zn(n,r)}}function ur(t,e){var n=this.cache,r=e.elements;if(void 0===r){if(Jn(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Zn(n,e)}else{if(Jn(n,r))return;Qn.set(r),t.uniformMatrix4fv(this.addr,!1,Qn),Zn(n,r)}}function cr(t,e,n){var r=this.cache,o=n.allocateTextureUnit();r[0]!==o&&(t.uniform1i(this.addr,o),r[0]=o),n.safeSetTexture2D(e||zn,o)}function lr(t,e,n){var r=this.cache,o=n.allocateTextureUnit();r[0]!==o&&(t.uniform1i(this.addr,o),r[0]=o),n.setTexture2DArray(e||Hn,o)}function pr(t,e,n){var r=this.cache,o=n.allocateTextureUnit();r[0]!==o&&(t.uniform1i(this.addr,o),r[0]=o),n.setTexture3D(e||Gn,o)}function dr(t,e,n){var r=this.cache,o=n.allocateTextureUnit();r[0]!==o&&(t.uniform1i(this.addr,o),r[0]=o),n.safeSetTextureCube(e||Wn,o)}function fr(t,e){var n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function mr(t,e){var n=this.cache;Jn(n,e)||(t.uniform2iv(this.addr,e),Zn(n,e))}function vr(t,e){var n=this.cache;Jn(n,e)||(t.uniform3iv(this.addr,e),Zn(n,e))}function gr(t,e){var n=this.cache;Jn(n,e)||(t.uniform4iv(this.addr,e),Zn(n,e))}function yr(t,e){var n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function _r(t,e){t.uniform1fv(this.addr,e)}function xr(t,e){t.uniform1iv(this.addr,e)}function wr(t,e){t.uniform2iv(this.addr,e)}function Er(t,e){t.uniform3iv(this.addr,e)}function Mr(t,e){t.uniform4iv(this.addr,e)}function Sr(t,e){var data=Kn(e,this.size,2);t.uniform2fv(this.addr,data)}function Tr(t,e){var data=Kn(e,this.size,3);t.uniform3fv(this.addr,data)}function Dr(t,e){var data=Kn(e,this.size,4);t.uniform4fv(this.addr,data)}function Or(t,e){var data=Kn(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,data)}function Cr(t,e){var data=Kn(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,data)}function Ar(t,e){var data=Kn(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,data)}function kr(t,e,n){var r=e.length,o=er(n,r);t.uniform1iv(this.addr,o);for(var c=0;c!==r;++c)n.safeSetTexture2D(e[c]||zn,o[c])}function Pr(t,e,n){var r=e.length,o=er(n,r);t.uniform1iv(this.addr,o);for(var c=0;c!==r;++c)n.safeSetTextureCube(e[c]||Wn,o[c])}function jr(t,e,n){this.id=t,this.addr=n,this.cache=[],this.setValue=function(t){switch(t){case 5126:return nr;case 35664:return rr;case 35665:return ir;case 35666:return or;case 35674:return ar;case 35675:return sr;case 35676:return ur;case 5124:case 35670:return fr;case 35667:case 35671:return mr;case 35668:case 35672:return vr;case 35669:case 35673:return gr;case 5125:return yr;case 35678:case 36198:case 36298:case 36306:case 35682:return cr;case 35679:case 36299:case 36307:return pr;case 35680:case 36300:case 36308:case 36293:return dr;case 36289:case 36303:case 36311:case 36292:return lr}}(e.type)}function Lr(t,e,n){this.id=t,this.addr=n,this.cache=[],this.size=e.size,this.setValue=function(t){switch(t){case 5126:return _r;case 35664:return Sr;case 35665:return Tr;case 35666:return Dr;case 35674:return Or;case 35675:return Cr;case 35676:return Ar;case 5124:case 35670:return xr;case 35667:case 35671:return wr;case 35668:case 35672:return Er;case 35669:case 35673:return Mr;case 35678:case 36198:case 36298:case 36306:case 35682:return kr;case 35680:case 36300:case 36308:case 36293:return Pr}}(e.type)}function Ir(t){this.id=t,this.seq=[],this.map={}}Lr.prototype.updateCache=function(data){var t=this.cache;data instanceof Float32Array&&t.length!==data.length&&(this.cache=new Float32Array(data.length)),Zn(t,data)},Ir.prototype.setValue=function(t,e,n){for(var r=this.seq,o=0,c=r.length;o!==c;++o){var u=r[o];u.setValue(t,e[u.id],n)}};var Rr=/([\w\d_]+)(\])?(\[|\.)?/g;function Nr(t,e){t.seq.push(e),t.map[e.id]=e}function Fr(t,e,n){var path=t.name,r=path.length;for(Rr.lastIndex=0;;){var o=Rr.exec(path),c=Rr.lastIndex,l=o[1],h="]"===o[2],d=o[3];if(h&&(l|=0),void 0===d||"["===d&&c+2===r){Nr(n,void 0===d?new jr(l,t,e):new Lr(l,t,e));break}var f=n.map[l];void 0===f&&Nr(n,f=new Ir(l)),n=f}}function Br(t,e){this.seq=[],this.map={};for(var n=t.getProgramParameter(e,35718),r=0;r<n;++r){var o=t.getActiveUniform(e,r);Fr(o,t.getUniformLocation(e,o.name),this)}}function Ur(t,e,n){var r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}Br.prototype.setValue=function(t,e,n,r){var u=this.map[e];void 0!==u&&u.setValue(t,n,r)},Br.prototype.setOptional=function(t,object,e){var n=object[e];void 0!==n&&this.setValue(t,e,n)},Br.upload=function(t,e,n,r){for(var o=0,c=e.length;o!==c;++o){var u=e[o],l=n[u.id];!1!==l.needsUpdate&&u.setValue(t,l.value,r)}},Br.seqWithValue=function(t,e){for(var n=[],r=0,o=t.length;r!==o;++r){var u=t[r];u.id in e&&n.push(u)}return n};var Vr=0;function zr(t){switch(t){case 3e3:return["Linear","( value )"];case 3001:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case 3003:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}function Hr(t,e,n){var r=t.getShaderParameter(e,35713),o=t.getShaderInfoLog(e).trim();return r&&""===o?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+n+"\n"+o+function(t){for(var e=t.split("\n"),n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join("\n")}(t.getShaderSource(e))}function Gr(t,e){var n=zr(e);return"vec4 "+t+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function Wr(t,e){var n;switch(e){case 1:n="Linear";break;case 2:n="Reinhard";break;case 3:n="OptimizedCineon";break;case 4:n="ACESFilmic";break;case 5:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function qr(t){return""!==t}function $r(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Qr(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}var Xr=/^[ \t]*#include +<([\w\d./]+)>/gm;function Yr(t){return t.replace(Xr,Kr)}function Kr(t,e){var n=En[e];if(void 0===n)throw new Error("Can not resolve #include <"+e+">");return Yr(n)}var Jr=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,Zr=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function ti(t){return t.replace(Zr,ni).replace(Jr,ei)}function ei(t,e,n,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),ni(t,e,n,r)}function ni(t,e,n,r){for(var o="",c=parseInt(e);c<parseInt(n);c++)o+=r.replace(/\[\s*i\s*\]/g,"[ "+c+" ]").replace(/UNROLLED_LOOP_INDEX/g,c);return o}function ri(t){var e="precision "+t.precision+" float;\nprecision "+t.precision+" int;";return"highp"===t.precision?e+="\n#define HIGH_PRECISION":"mediump"===t.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===t.precision&&(e+="\n#define LOW_PRECISION"),e}function ii(t,e,n,r){var o,c,l,h,d,f=t.getContext(),m=n.defines,v=n.vertexShader,y=n.fragmentShader,_=function(t){var e="SHADOWMAP_TYPE_BASIC";return 1===t.shadowMapType?e="SHADOWMAP_TYPE_PCF":2===t.shadowMapType?e="SHADOWMAP_TYPE_PCF_SOFT":3===t.shadowMapType&&(e="SHADOWMAP_TYPE_VSM"),e}(n),x=function(t){var e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case 301:case 302:e="ENVMAP_TYPE_CUBE";break;case 306:case 307:e="ENVMAP_TYPE_CUBE_UV"}return e}(n),w=function(t){var e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case 302:case 307:e="ENVMAP_MODE_REFRACTION"}return e}(n),E=function(t){var e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case 0:e="ENVMAP_BLENDING_MULTIPLY";break;case 1:e="ENVMAP_BLENDING_MIX";break;case 2:e="ENVMAP_BLENDING_ADD"}return e}(n),M=t.gammaFactor>0?t.gammaFactor:1,S=n.isWebGL2?"":function(t){return[t.extensionDerivatives||t.envMapCubeUV||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||"physical"===t.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(qr).join("\n")}(n),T=function(t){var e=[];for(var n in t){var r=t[n];!1!==r&&e.push("#define "+n+" "+r)}return e.join("\n")}(m),D=f.createProgram(),O=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?((o=[T].filter(qr).join("\n")).length>0&&(o+="\n"),(c=[S,T].filter(qr).join("\n")).length>0&&(c+="\n")):(o=[ri(n),"#define SHADER_NAME "+n.shaderName,T,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+M,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+w:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+_:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(qr).join("\n"),c=[S,ri(n),"#define SHADER_NAME "+n.shaderName,T,n.alphaTest?"#define ALPHATEST "+n.alphaTest+(n.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+M,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+x:"",n.envMap?"#define "+w:"",n.envMap?"#define "+E:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.sheen?"#define USE_SHEEN":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+_:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==n.toneMapping?"#define TONE_MAPPING":"",0!==n.toneMapping?En.tonemapping_pars_fragment:"",0!==n.toneMapping?Wr("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",En.encodings_pars_fragment,n.map?Gr("mapTexelToLinear",n.mapEncoding):"",n.matcap?Gr("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?Gr("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?Gr("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.lightMap?Gr("lightMapTexelToLinear",n.lightMapEncoding):"",(l="linearToOutputTexel",h=n.outputEncoding,d=zr(h),"vec4 "+l+"( vec4 value ) { return LinearTo"+d[0]+d[1]+"; }"),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(qr).join("\n")),v=Qr(v=$r(v=Yr(v),n),n),y=Qr(y=$r(y=Yr(y),n),n),v=ti(v),y=ti(y),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(O="#version 300 es\n",o=["#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+o,c=["#define varying in","300 es"===n.glslVersion?"":"out highp vec4 pc_fragColor;","300 es"===n.glslVersion?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+c);var C,A,k=O+c+y,P=Ur(f,35633,O+o+v),j=Ur(f,35632,k);if(f.attachShader(D,P),f.attachShader(D,j),void 0!==n.index0AttributeName?f.bindAttribLocation(D,0,n.index0AttributeName):!0===n.morphTargets&&f.bindAttribLocation(D,0,"position"),f.linkProgram(D),t.debug.checkShaderErrors){var L=f.getProgramInfoLog(D).trim(),I=f.getShaderInfoLog(P).trim(),R=f.getShaderInfoLog(j).trim(),N=!0,F=!0;if(!1===f.getProgramParameter(D,35714)){N=!1;var B=Hr(f,P,"vertex"),U=Hr(f,j,"fragment");console.error("THREE.WebGLProgram: shader error: ",f.getError(),"35715",f.getProgramParameter(D,35715),"gl.getProgramInfoLog",L,B,U)}else""!==L?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",L):""!==I&&""!==R||(F=!1);F&&(this.diagnostics={runnable:N,programLog:L,vertexShader:{log:I,prefix:o},fragmentShader:{log:R,prefix:c}})}return f.deleteShader(P),f.deleteShader(j),this.getUniforms=function(){return void 0===C&&(C=new Br(f,D)),C},this.getAttributes=function(){return void 0===A&&(A=function(t,e){for(var n={},r=t.getProgramParameter(e,35721),o=0;o<r;o++){var c=t.getActiveAttrib(e,o).name;n[c]=t.getAttribLocation(e,c)}return n}(f,D)),A},this.destroy=function(){r.releaseStatesOfProgram(this),f.deleteProgram(D),this.program=void 0},this.name=n.shaderName,this.id=Vr++,this.cacheKey=e,this.usedTimes=1,this.program=D,this.vertexShader=P,this.fragmentShader=j,this}function oi(t,e,n,r,o,c){var l=[],h=r.isWebGL2,d=r.logarithmicDepthBuffer,f=r.floatVertexTextures,m=r.maxVertexUniforms,v=r.vertexTextures,y=r.precision,_={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},x=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmissionMap"];function w(map){var t;return map?map.isTexture?t=map.encoding:map.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),t=map.texture.encoding):t=3e3,t}return{getParameters:function(o,l,x,M,object){var S,T,D=M.fog,O=o.isMeshStandardMaterial?M.environment:null,C=e.get(o.envMap||O),A=_[o.type],k=object.isSkinnedMesh?function(object){var t=object.skeleton.bones;if(f)return 1024;var e=m,n=Math.floor((e-20)/4),r=Math.min(n,t.length);return r<t.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+t.length+" bones. This GPU supports "+r+"."),0):r}(object):0;if(null!==o.precision&&(y=r.getMaxPrecision(o.precision))!==o.precision&&console.warn("THREE.WebGLProgram.getParameters:",o.precision,"not supported, using",y,"instead."),A){var P=Sn[A];S=P.vertexShader,T=P.fragmentShader}else S=o.vertexShader,T=o.fragmentShader;var j=t.getRenderTarget();return{isWebGL2:h,shaderID:A,shaderName:o.type,vertexShader:S,fragmentShader:T,defines:o.defines,isRawShaderMaterial:!0===o.isRawShaderMaterial,glslVersion:o.glslVersion,precision:y,instancing:!0===object.isInstancedMesh,instancingColor:!0===object.isInstancedMesh&&null!==object.instanceColor,supportsVertexTextures:v,outputEncoding:null!==j?w(j.texture):t.outputEncoding,map:!!o.map,mapEncoding:w(o.map),matcap:!!o.matcap,matcapEncoding:w(o.matcap),envMap:!!C,envMapMode:C&&C.mapping,envMapEncoding:w(C),envMapCubeUV:!!C&&(306===C.mapping||307===C.mapping),lightMap:!!o.lightMap,lightMapEncoding:w(o.lightMap),aoMap:!!o.aoMap,emissiveMap:!!o.emissiveMap,emissiveMapEncoding:w(o.emissiveMap),bumpMap:!!o.bumpMap,normalMap:!!o.normalMap,objectSpaceNormalMap:1===o.normalMapType,tangentSpaceNormalMap:0===o.normalMapType,clearcoatMap:!!o.clearcoatMap,clearcoatRoughnessMap:!!o.clearcoatRoughnessMap,clearcoatNormalMap:!!o.clearcoatNormalMap,displacementMap:!!o.displacementMap,roughnessMap:!!o.roughnessMap,metalnessMap:!!o.metalnessMap,specularMap:!!o.specularMap,alphaMap:!!o.alphaMap,gradientMap:!!o.gradientMap,sheen:!!o.sheen,transmissionMap:!!o.transmissionMap,combine:o.combine,vertexTangents:o.normalMap&&o.vertexTangents,vertexColors:o.vertexColors,vertexUvs:!!(o.map||o.bumpMap||o.normalMap||o.specularMap||o.alphaMap||o.emissiveMap||o.roughnessMap||o.metalnessMap||o.clearcoatMap||o.clearcoatRoughnessMap||o.clearcoatNormalMap||o.displacementMap||o.transmissionMap),uvsVertexOnly:!(o.map||o.bumpMap||o.normalMap||o.specularMap||o.alphaMap||o.emissiveMap||o.roughnessMap||o.metalnessMap||o.clearcoatNormalMap||o.transmissionMap||!o.displacementMap),fog:!!D,useFog:o.fog,fogExp2:D&&D.isFogExp2,flatShading:o.flatShading,sizeAttenuation:o.sizeAttenuation,logarithmicDepthBuffer:d,skinning:o.skinning&&k>0,maxBones:k,useVertexTexture:f,morphTargets:o.morphTargets,morphNormals:o.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:l.directional.length,numPointLights:l.point.length,numSpotLights:l.spot.length,numRectAreaLights:l.rectArea.length,numHemiLights:l.hemi.length,numDirLightShadows:l.directionalShadowMap.length,numPointLightShadows:l.pointShadowMap.length,numSpotLightShadows:l.spotShadowMap.length,numClippingPlanes:c.numPlanes,numClipIntersection:c.numIntersection,dithering:o.dithering,shadowMapEnabled:t.shadowMap.enabled&&x.length>0,shadowMapType:t.shadowMap.type,toneMapping:o.toneMapped?t.toneMapping:0,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:o.premultipliedAlpha,alphaTest:o.alphaTest,doubleSided:o.side===E,flipSided:1===o.side,depthPacking:void 0!==o.depthPacking&&o.depthPacking,index0AttributeName:o.index0AttributeName,extensionDerivatives:o.extensions&&o.extensions.derivatives,extensionFragDepth:o.extensions&&o.extensions.fragDepth,extensionDrawBuffers:o.extensions&&o.extensions.drawBuffers,extensionShaderTextureLOD:o.extensions&&o.extensions.shaderTextureLOD,rendererExtensionFragDepth:h||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:h||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:h||n.has("EXT_shader_texture_lod"),customProgramCacheKey:o.customProgramCacheKey()}},getProgramCacheKey:function(e){var n=[];if(e.shaderID?n.push(e.shaderID):(n.push(e.fragmentShader),n.push(e.vertexShader)),void 0!==e.defines)for(var r in e.defines)n.push(r),n.push(e.defines[r]);if(!1===e.isRawShaderMaterial){for(var o=0;o<x.length;o++)n.push(e[x[o]]);n.push(t.outputEncoding),n.push(t.gammaFactor)}return n.push(e.customProgramCacheKey),n.join()},getUniforms:function(t){var e,n=_[t.type];if(n){var r=Sn[n];e=cn.clone(r.uniforms)}else e=t.uniforms;return e},acquireProgram:function(e,n){for(var r,p=0,c=l.length;p<c;p++){var h=l[p];if(h.cacheKey===n){++(r=h).usedTimes;break}}return void 0===r&&(r=new ii(t,n,e,o),l.push(r)),r},releaseProgram:function(t){if(0==--t.usedTimes){var e=l.indexOf(t);l[e]=l[l.length-1],l.pop(),t.destroy()}},programs:l}}function ai(){var t=new WeakMap;return{get:function(object){var map=t.get(object);return void 0===map&&(map={},t.set(object,map)),map},remove:function(object){t.delete(object)},update:function(object,e,n){t.get(object)[e]=n},dispose:function(){t=new WeakMap}}}function si(a,b){return a.groupOrder!==b.groupOrder?a.groupOrder-b.groupOrder:a.renderOrder!==b.renderOrder?a.renderOrder-b.renderOrder:a.program!==b.program?a.program.id-b.program.id:a.material.id!==b.material.id?a.material.id-b.material.id:a.z!==b.z?a.z-b.z:a.id-b.id}function ui(a,b){return a.groupOrder!==b.groupOrder?a.groupOrder-b.groupOrder:a.renderOrder!==b.renderOrder?a.renderOrder-b.renderOrder:a.z!==b.z?b.z-a.z:a.id-b.id}function ci(t){var e=[],n=0,r=[],o=[],c={id:-1};function l(object,r,o,l,h,d){var f=e[n],m=t.get(o);return void 0===f?(f={id:object.id,object:object,geometry:r,material:o,program:m.program||c,groupOrder:l,renderOrder:object.renderOrder,z:h,group:d},e[n]=f):(f.id=object.id,f.object=object,f.geometry=r,f.material=o,f.program=m.program||c,f.groupOrder=l,f.renderOrder=object.renderOrder,f.z=h,f.group=d),n++,f}return{opaque:r,transparent:o,init:function(){n=0,r.length=0,o.length=0},push:function(object,t,e,n,c,h){var d=l(object,t,e,n,c,h);(!0===e.transparent?o:r).push(d)},unshift:function(object,t,e,n,c,h){var d=l(object,t,e,n,c,h);(!0===e.transparent?o:r).unshift(d)},finish:function(){for(var t=n,r=e.length;t<r;t++){var o=e[t];if(null===o.id)break;o.id=null,o.object=null,o.geometry=null,o.material=null,o.program=null,o.group=null}},sort:function(t,e){r.length>1&&r.sort(t||si),o.length>1&&o.sort(e||ui)}}}function hi(t){var e=new WeakMap;return{get:function(n,r){var o,c=e.get(n);return void 0===c?(o=new ci(t),e.set(n,new WeakMap),e.get(n).set(r,o)):void 0===(o=c.get(r))&&(o=new ci(t),c.set(r,o)),o},dispose:function(){e=new WeakMap}}}function pi(){var t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];var n;switch(e.type){case"DirectionalLight":n={direction:new z,color:new pe};break;case"SpotLight":n={position:new z,direction:new z,color:new pe,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new z,color:new pe,distance:0,decay:0};break;case"HemisphereLight":n={direction:new z,skyColor:new pe,groundColor:new pe};break;case"RectAreaLight":n={color:new pe,position:new z,halfWidth:new z,halfHeight:new z}}return t[e.id]=n,n}}}var di=0;function fi(t,e){return(e.castShadow?1:0)-(t.castShadow?1:0)}function mi(t,e){for(var n,r=new pi,o=(n={},{get:function(t){if(void 0!==n[t.id])return n[t.id];var e;switch(t.type){case"DirectionalLight":case"SpotLight":e={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new j};break;case"PointLight":e={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new j,shadowCameraNear:1,shadowCameraFar:1e3}}return n[t.id]=e,e}}),c={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},l=0;l<9;l++)c.probe.push(new z);var h=new z,d=new _t,f=new _t;return{setup:function(n,l,m){for(var v=0,g=0,b=0,y=0;y<9;y++)c.probe[y].set(0,0,0);var _=0,x=0,w=0,E=0,M=0,S=0,T=0,D=0,O=m.matrixWorldInverse;n.sort(fi);for(var C=0,A=n.length;C<A;C++){var k=n[C],P=k.color,j=k.intensity,L=k.distance,I=k.shadow&&k.shadow.map?k.shadow.map.texture:null;if(k.isAmbientLight)v+=P.r*j,g+=P.g*j,b+=P.b*j;else if(k.isLightProbe)for(var R=0;R<9;R++)c.probe[R].addScaledVector(k.sh.coefficients[R],j);else if(k.isDirectionalLight){var N=r.get(k);if(N.color.copy(k.color).multiplyScalar(k.intensity),N.direction.setFromMatrixPosition(k.matrixWorld),h.setFromMatrixPosition(k.target.matrixWorld),N.direction.sub(h),N.direction.transformDirection(O),k.castShadow){var shadow=k.shadow,F=o.get(k);F.shadowBias=shadow.bias,F.shadowNormalBias=shadow.normalBias,F.shadowRadius=shadow.radius,F.shadowMapSize=shadow.mapSize,c.directionalShadow[_]=F,c.directionalShadowMap[_]=I,c.directionalShadowMatrix[_]=k.shadow.matrix,S++}c.directional[_]=N,_++}else if(k.isSpotLight){var B=r.get(k);if(B.position.setFromMatrixPosition(k.matrixWorld),B.position.applyMatrix4(O),B.color.copy(P).multiplyScalar(j),B.distance=L,B.direction.setFromMatrixPosition(k.matrixWorld),h.setFromMatrixPosition(k.target.matrixWorld),B.direction.sub(h),B.direction.transformDirection(O),B.coneCos=Math.cos(k.angle),B.penumbraCos=Math.cos(k.angle*(1-k.penumbra)),B.decay=k.decay,k.castShadow){var U=k.shadow,V=o.get(k);V.shadowBias=U.bias,V.shadowNormalBias=U.normalBias,V.shadowRadius=U.radius,V.shadowMapSize=U.mapSize,c.spotShadow[w]=V,c.spotShadowMap[w]=I,c.spotShadowMatrix[w]=k.shadow.matrix,D++}c.spot[w]=B,w++}else if(k.isRectAreaLight){var z=r.get(k);z.color.copy(P).multiplyScalar(j),z.position.setFromMatrixPosition(k.matrixWorld),z.position.applyMatrix4(O),f.identity(),d.copy(k.matrixWorld),d.premultiply(O),f.extractRotation(d),z.halfWidth.set(.5*k.width,0,0),z.halfHeight.set(0,.5*k.height,0),z.halfWidth.applyMatrix4(f),z.halfHeight.applyMatrix4(f),c.rectArea[E]=z,E++}else if(k.isPointLight){var H=r.get(k);if(H.position.setFromMatrixPosition(k.matrixWorld),H.position.applyMatrix4(O),H.color.copy(k.color).multiplyScalar(k.intensity),H.distance=k.distance,H.decay=k.decay,k.castShadow){var G=k.shadow,W=o.get(k);W.shadowBias=G.bias,W.shadowNormalBias=G.normalBias,W.shadowRadius=G.radius,W.shadowMapSize=G.mapSize,W.shadowCameraNear=G.camera.near,W.shadowCameraFar=G.camera.far,c.pointShadow[x]=W,c.pointShadowMap[x]=I,c.pointShadowMatrix[x]=k.shadow.matrix,T++}c.point[x]=H,x++}else if(k.isHemisphereLight){var $=r.get(k);$.direction.setFromMatrixPosition(k.matrixWorld),$.direction.transformDirection(O),$.direction.normalize(),$.skyColor.copy(k.color).multiplyScalar(j),$.groundColor.copy(k.groundColor).multiplyScalar(j),c.hemi[M]=$,M++}}E>0&&(e.isWebGL2||!0===t.has("OES_texture_float_linear")?(c.rectAreaLTC1=Mn.LTC_FLOAT_1,c.rectAreaLTC2=Mn.LTC_FLOAT_2):!0===t.has("OES_texture_half_float_linear")?(c.rectAreaLTC1=Mn.LTC_HALF_1,c.rectAreaLTC2=Mn.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),c.ambient[0]=v,c.ambient[1]=g,c.ambient[2]=b;var Q=c.hash;Q.directionalLength===_&&Q.pointLength===x&&Q.spotLength===w&&Q.rectAreaLength===E&&Q.hemiLength===M&&Q.numDirectionalShadows===S&&Q.numPointShadows===T&&Q.numSpotShadows===D||(c.directional.length=_,c.spot.length=w,c.rectArea.length=E,c.point.length=x,c.hemi.length=M,c.directionalShadow.length=S,c.directionalShadowMap.length=S,c.pointShadow.length=T,c.pointShadowMap.length=T,c.spotShadow.length=D,c.spotShadowMap.length=D,c.directionalShadowMatrix.length=S,c.pointShadowMatrix.length=T,c.spotShadowMatrix.length=D,Q.directionalLength=_,Q.pointLength=x,Q.spotLength=w,Q.rectAreaLength=E,Q.hemiLength=M,Q.numDirectionalShadows=S,Q.numPointShadows=T,Q.numSpotShadows=D,c.version=di++)},state:c}}function vi(t,e){var n=new mi(t,e),r=[],o=[];return{init:function(){r.length=0,o.length=0},state:{lightsArray:r,shadowsArray:o,lights:n},setupLights:function(t){n.setup(r,o,t)},pushLight:function(t){r.push(t)},pushShadow:function(t){o.push(t)}}}function gi(t,e){var n=new WeakMap;return{get:function(r,o){var c;return!1===n.has(r)?(c=new vi(t,e),n.set(r,new WeakMap),n.get(r).set(o,c)):!1===n.get(r).has(o)?(c=new vi(t,e),n.get(r).set(o,c)):c=n.get(r).get(o),c},dispose:function(){n=new WeakMap}}}function yi(t){me.call(this),this.type="MeshDepthMaterial",this.depthPacking=3200,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(t)}function _i(t){me.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new z,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(t)}yi.prototype=Object.create(me.prototype),yi.prototype.constructor=yi,yi.prototype.isMeshDepthMaterial=!0,yi.prototype.copy=function(source){return me.prototype.copy.call(this,source),this.depthPacking=source.depthPacking,this.skinning=source.skinning,this.morphTargets=source.morphTargets,this.map=source.map,this.alphaMap=source.alphaMap,this.displacementMap=source.displacementMap,this.displacementScale=source.displacementScale,this.displacementBias=source.displacementBias,this.wireframe=source.wireframe,this.wireframeLinewidth=source.wireframeLinewidth,this},_i.prototype=Object.create(me.prototype),_i.prototype.constructor=_i,_i.prototype.isMeshDistanceMaterial=!0,_i.prototype.copy=function(source){return me.prototype.copy.call(this,source),this.referencePosition.copy(source.referencePosition),this.nearDistance=source.nearDistance,this.farDistance=source.farDistance,this.skinning=source.skinning,this.morphTargets=source.morphTargets,this.map=source.map,this.alphaMap=source.alphaMap,this.displacementMap=source.displacementMap,this.displacementScale=source.displacementScale,this.displacementBias=source.displacementBias,this};function bi(t,e,n){var r=new _n,o=new j,c=new j,l=new F,h=[],d=[],f={},m={0:1,1:0,2:E},v=new ln({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new j},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\n\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n\t\t#ifdef HORIZONAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean * HALF_SAMPLE_RATE;\n\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),y=v.clone();y.defines.HORIZONAL_PASS=1;var _=new Fe;_.setAttribute("position",new _e(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var x=new nn(_,v),w=this;function M(shadow,n){var r=e.update(x);v.uniforms.shadow_pass.value=shadow.map.texture,v.uniforms.resolution.value=shadow.mapSize,v.uniforms.radius.value=shadow.radius,t.setRenderTarget(shadow.mapPass),t.clear(),t.renderBufferDirect(n,null,r,v,x,null),y.uniforms.shadow_pass.value=shadow.mapPass.texture,y.uniforms.resolution.value=shadow.mapSize,y.uniforms.radius.value=shadow.radius,t.setRenderTarget(shadow.map),t.clear(),t.renderBufferDirect(n,null,r,y,x,null)}function S(t,e,n){var r=t<<0|e<<1|n<<2,o=h[r];return void 0===o&&(o=new yi({depthPacking:3201,morphTargets:t,skinning:e}),h[r]=o),o}function O(t,e,n){var r=t<<0|e<<1|n<<2,o=d[r];return void 0===o&&(o=new _i({morphTargets:t,skinning:e}),d[r]=o),o}function C(object,e,n,r,o,c,l){var h=null,d=S,v=object.customDepthMaterial;if(!0===r.isPointLight&&(d=O,v=object.customDistanceMaterial),void 0===v){var y=!1;!0===n.morphTargets&&(y=e.morphAttributes&&e.morphAttributes.position&&e.morphAttributes.position.length>0);var _=!1;!0===object.isSkinnedMesh&&(!0===n.skinning?_=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",object)),h=d(y,_,!0===object.isInstancedMesh)}else h=v;if(t.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){var x=h.uuid,w=n.uuid,E=f[x];void 0===E&&(E={},f[x]=E);var M=E[w];void 0===M&&(M=h.clone(),E[w]=M),h=M}return h.visible=n.visible,h.wireframe=n.wireframe,h.side=3===l?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:m[n.side],h.clipShadows=n.clipShadows,h.clippingPlanes=n.clippingPlanes,h.clipIntersection=n.clipIntersection,h.wireframeLinewidth=n.wireframeLinewidth,h.linewidth=n.linewidth,!0===r.isPointLight&&!0===h.isMeshDistanceMaterial&&(h.referencePosition.setFromMatrixPosition(r.matrixWorld),h.nearDistance=o,h.farDistance=c),h}function A(object,n,o,c,l){if(!1!==object.visible){if(object.layers.test(n.layers)&&(object.isMesh||object.isLine||object.isPoints)&&(object.castShadow||object.receiveShadow&&3===l)&&(!object.frustumCulled||r.intersectsObject(object))){object.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,object.matrixWorld);var h=e.update(object),d=object.material;if(Array.isArray(d))for(var f=h.groups,m=0,v=f.length;m<v;m++){var y=f[m],_=d[y.materialIndex];if(_&&_.visible){var x=C(object,h,_,c,o.near,o.far,l);t.renderBufferDirect(o,null,h,x,object,y)}}else if(d.visible){var w=C(object,h,d,c,o.near,o.far,l);t.renderBufferDirect(o,null,h,w,object,null)}}for(var E=object.children,M=0,S=E.length;M<S;M++)A(E[M],n,o,c,l)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(e,h,d){if(!1!==w.enabled&&(!1!==w.autoUpdate||!1!==w.needsUpdate)&&0!==e.length){var f=t.getRenderTarget(),m=t.getActiveCubeFace(),v=t.getActiveMipmapLevel(),y=t.state;y.setBlending(0),y.buffers.color.setClear(1,1,1,1),y.buffers.depth.setTest(!0),y.setScissorTest(!1);for(var _=0,x=e.length;_<x;_++){var E=e[_],shadow=E.shadow;if(void 0!==shadow){if(!1!==shadow.autoUpdate||!1!==shadow.needsUpdate){o.copy(shadow.mapSize);var S=shadow.getFrameExtents();if(o.multiply(S),c.copy(shadow.mapSize),(o.x>n||o.y>n)&&(o.x>n&&(c.x=Math.floor(n/S.x),o.x=c.x*S.x,shadow.mapSize.x=c.x),o.y>n&&(c.y=Math.floor(n/S.y),o.y=c.y*S.y,shadow.mapSize.y=c.y)),null===shadow.map&&!shadow.isPointLightShadow&&3===this.type){var O={minFilter:T,magFilter:T,format:D};shadow.map=new B(o.x,o.y,O),shadow.map.texture.name=E.name+".shadowMap",shadow.mapPass=new B(o.x,o.y,O),shadow.camera.updateProjectionMatrix()}if(null===shadow.map){var C={minFilter:1003,magFilter:1003,format:D};shadow.map=new B(o.x,o.y,C),shadow.map.texture.name=E.name+".shadowMap",shadow.camera.updateProjectionMatrix()}t.setRenderTarget(shadow.map),t.clear();for(var k=shadow.getViewportCount(),P=0;P<k;P++){var j=shadow.getViewport(P);l.set(c.x*j.x,c.y*j.y,c.x*j.z,c.y*j.w),y.viewport(l),shadow.updateMatrices(E,P),r=shadow.getFrustum(),A(h,d,shadow.camera,E,this.type)}shadow.isPointLightShadow||3!==this.type||M(shadow,d),shadow.needsUpdate=!1}}else console.warn("THREE.WebGLShadowMap:",E,"has no shadow.")}w.needsUpdate=!1,t.setRenderTarget(f,m,v)}}}function xi(t,e,n){var r,o,c=n.isWebGL2;var h=new function(){var e=!1,n=new F,r=null,o=new F(0,0,0,0);return{setMask:function(n){r===n||e||(t.colorMask(n,n,n,n),r=n)},setLocked:function(t){e=t},setClear:function(e,g,b,a,r){!0===r&&(e*=a,g*=a,b*=a),n.set(e,g,b,a),!1===o.equals(n)&&(t.clearColor(e,g,b,a),o.copy(n))},reset:function(){e=!1,r=null,o.set(-1,0,0,0)}}},d=new function(){var e=!1,n=null,r=null,o=null;return{setTest:function(t){t?$(2929):Q(2929)},setMask:function(r){n===r||e||(t.depthMask(r),n=r)},setFunc:function(e){if(r!==e){if(e)switch(e){case 0:t.depthFunc(512);break;case 1:t.depthFunc(519);break;case 2:t.depthFunc(513);break;case 3:t.depthFunc(515);break;case 4:t.depthFunc(514);break;case 5:t.depthFunc(518);break;case 6:t.depthFunc(516);break;case 7:t.depthFunc(517);break;default:t.depthFunc(515)}else t.depthFunc(515);r=e}},setLocked:function(t){e=t},setClear:function(e){o!==e&&(t.clearDepth(e),o=e)},reset:function(){e=!1,n=null,r=null,o=null}}},f=new function(){var e=!1,n=null,r=null,o=null,c=null,l=null,h=null,d=null,f=null;return{setTest:function(t){e||(t?$(2960):Q(2960))},setMask:function(r){n===r||e||(t.stencilMask(r),n=r)},setFunc:function(e,n,l){r===e&&o===n&&c===l||(t.stencilFunc(e,n,l),r=e,o=n,c=l)},setOp:function(e,n,r){l===e&&h===n&&d===r||(t.stencilOp(e,n,r),l=e,h=n,d=r)},setLocked:function(t){e=t},setClear:function(e){f!==e&&(t.clearStencil(e),f=e)},reset:function(){e=!1,n=null,r=null,o=null,c=null,l=null,h=null,d=null,f=null}}},m={},v=null,y=null,_=null,x=null,w=null,S=null,T=null,D=null,O=null,C=!1,A=null,k=null,P=null,j=null,L=null,I=t.getParameter(35661),R=!1,N=0,B=t.getParameter(7938);-1!==B.indexOf("WebGL")?(N=parseFloat(/^WebGL\ ([0-9])/.exec(B)[1]),R=N>=1):-1!==B.indexOf("OpenGL ES")&&(N=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(B)[1]),R=N>=2);var U=null,V={},z=new F,H=new F;function G(e,n,r){var data=new Uint8Array(4),o=t.createTexture();t.bindTexture(e,o),t.texParameteri(e,10241,9728),t.texParameteri(e,10240,9728);for(var c=0;c<r;c++)t.texImage2D(n+c,0,6408,1,1,0,6408,5121,data);return o}var W={};function $(e){!0!==m[e]&&(t.enable(e),m[e]=!0)}function Q(e){!1!==m[e]&&(t.disable(e),m[e]=!1)}W[3553]=G(3553,3553,1),W[34067]=G(34067,34069,6),h.setClear(0,0,0,1),d.setClear(1),f.setClear(0),$(2929),d.setFunc(3),Z(!1),tt(1),$(2884),J(0);var X=(r={},Object(l.a)(r,100,32774),Object(l.a)(r,101,32778),Object(l.a)(r,102,32779),r);if(c)X[103]=32775,X[104]=32776;else{var Y=e.get("EXT_blend_minmax");null!==Y&&(X[103]=Y.MIN_EXT,X[104]=Y.MAX_EXT)}var K=(o={},Object(l.a)(o,200,0),Object(l.a)(o,201,1),Object(l.a)(o,202,768),Object(l.a)(o,204,770),Object(l.a)(o,210,776),Object(l.a)(o,208,774),Object(l.a)(o,206,772),Object(l.a)(o,203,769),Object(l.a)(o,205,771),Object(l.a)(o,209,775),Object(l.a)(o,207,773),o);function J(e,n,r,o,c,l,h,d){if(0!==e){if(y||($(3042),y=!0),5===e)c=c||n,l=l||r,h=h||o,n===x&&c===T||(t.blendEquationSeparate(X[n],X[c]),x=n,T=c),r===w&&o===S&&l===D&&h===O||(t.blendFuncSeparate(K[r],K[o],K[l],K[h]),w=r,S=o,D=l,O=h),_=e,C=null;else if(e!==_||d!==C){if(100===x&&100===T||(t.blendEquation(32774),x=100,T=100),d)switch(e){case 1:t.blendFuncSeparate(1,771,1,771);break;case M:t.blendFunc(1,1);break;case 3:t.blendFuncSeparate(0,0,769,771);break;case 4:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}else switch(e){case 1:t.blendFuncSeparate(770,771,1,771);break;case M:t.blendFunc(770,1);break;case 3:t.blendFunc(0,769);break;case 4:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}w=null,S=null,D=null,O=null,_=e,C=d}}else y&&(Q(3042),y=!1)}function Z(e){A!==e&&(e?t.frontFace(2304):t.frontFace(2305),A=e)}function tt(e){0!==e?($(2884),e!==k&&(1===e?t.cullFace(1029):2===e?t.cullFace(1028):t.cullFace(1032))):Q(2884),k=e}function et(e,n,r){e?($(32823),j===n&&L===r||(t.polygonOffset(n,r),j=n,L=r)):Q(32823)}function nt(e){void 0===e&&(e=33984+I-1),U!==e&&(t.activeTexture(e),U=e)}return{buffers:{color:h,depth:d,stencil:f},enable:$,disable:Q,useProgram:function(e){return v!==e&&(t.useProgram(e),v=e,!0)},setBlending:J,setMaterial:function(t,e){t.side===E?Q(2884):$(2884);var n=1===t.side;e&&(n=!n),Z(n),1===t.blending&&!1===t.transparent?J(0):J(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),d.setFunc(t.depthFunc),d.setTest(t.depthTest),d.setMask(t.depthWrite),h.setMask(t.colorWrite);var r=t.stencilWrite;f.setTest(r),r&&(f.setMask(t.stencilWriteMask),f.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),f.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),et(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)},setFlipSided:Z,setCullFace:tt,setLineWidth:function(e){e!==P&&(R&&t.lineWidth(e),P=e)},setPolygonOffset:et,setScissorTest:function(t){t?$(3089):Q(3089)},activeTexture:nt,bindTexture:function(e,n){null===U&&nt();var r=V[U];void 0===r&&(r={type:void 0,texture:void 0},V[U]=r),r.type===e&&r.texture===n||(t.bindTexture(e,n||W[e]),r.type=e,r.texture=n)},unbindTexture:function(){var e=V[U];void 0!==e&&void 0!==e.type&&(t.bindTexture(e.type,null),e.type=void 0,e.texture=void 0)},compressedTexImage2D:function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{t.texImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{t.texImage3D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(e){!1===z.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),z.copy(e))},viewport:function(e){!1===H.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),H.copy(e))},reset:function(){m={},U=null,V={},v=null,_=null,A=null,k=null,h.reset(),d.reset(),f.reset()}}}function wi(t,e,n,r,o,c,h){var d,f,m,v=o.isWebGL2,y=o.maxTextures,_=o.maxCubemapSize,x=o.maxTextureSize,w=o.maxSamples,E=new WeakMap,M=!1;try{M="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(t){}function O(t,e){return M?new OffscreenCanvas(t,e):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function C(image,t,e,n){var r=1;if((image.width>n||image.height>n)&&(r=n/Math.max(image.width,image.height)),r<1||!0===t){if("undefined"!=typeof HTMLImageElement&&image instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&image instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&image instanceof ImageBitmap){var o=t?P.floorPowerOfTwo:Math.floor,c=o(r*image.width),l=o(r*image.height);void 0===m&&(m=O(c,l));var canvas=e?O(c,l):m;return canvas.width=c,canvas.height=l,canvas.getContext("2d").drawImage(image,0,0,c,l),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+image.width+"x"+image.height+") to ("+c+"x"+l+")."),canvas}return"data"in image&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+image.width+"x"+image.height+")."),image}return image}function A(image){return P.isPowerOfTwo(image.width)&&P.isPowerOfTwo(image.height)}function k(t,e){return t.generateMipmaps&&e&&1003!==t.minFilter&&t.minFilter!==T}function j(e,n,o,c){t.generateMipmap(e),r.get(n).__maxMipLevel=Math.log(Math.max(o,c))*Math.LOG2E}function L(n,r,o){if(!1===v)return r;if(null!==n){if(void 0!==t[n])return t[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}var c=r;return 6403===r&&(5126===o&&(c=33326),5131===o&&(c=33325),5121===o&&(c=33321)),6407===r&&(5126===o&&(c=34837),5131===o&&(c=34843),5121===o&&(c=32849)),6408===r&&(5126===o&&(c=34836),5131===o&&(c=34842),5121===o&&(c=32856)),33325!==c&&33326!==c&&34842!==c&&34836!==c||e.get("EXT_color_buffer_float"),c}function I(t){return 1003===t||1004===t||1005===t?9728:9729}function R(e){var n=e.target;n.removeEventListener("dispose",R),function(e){var n=r.get(e);if(void 0===n.__webglInit)return;t.deleteTexture(n.__webglTexture),r.remove(e)}(n),n.isVideoTexture&&E.delete(n),h.memory.textures--}function N(e){var n=e.target;n.removeEventListener("dispose",N),function(e){var n=r.get(e),o=r.get(e.texture);if(!e)return;void 0!==o.__webglTexture&&t.deleteTexture(o.__webglTexture);e.depthTexture&&e.depthTexture.dispose();if(e.isWebGLCubeRenderTarget)for(var c=0;c<6;c++)t.deleteFramebuffer(n.__webglFramebuffer[c]),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer[c]);else t.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&&t.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer&&t.deleteRenderbuffer(n.__webglColorRenderbuffer),n.__webglDepthRenderbuffer&&t.deleteRenderbuffer(n.__webglDepthRenderbuffer);r.remove(e.texture),r.remove(e)}(n),h.memory.textures--}var F=0;function B(t,slot){var e=r.get(t);if(t.isVideoTexture&&function(t){var e=h.render.frame;E.get(t)!==e&&(E.set(t,e),t.update())}(t),t.version>0&&e.__version!==t.version){var image=t.image;if(void 0===image)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==image.complete)return void W(e,t,slot);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+slot),n.bindTexture(3553,e.__webglTexture)}function U(e,slot){var o=r.get(e);e.version>0&&o.__version!==e.version?function(e,r,slot){if(6!==r.image.length)return;G(e,r),n.activeTexture(33984+slot),n.bindTexture(34067,e.__webglTexture),t.pixelStorei(37440,r.flipY);for(var o=r&&(r.isCompressedTexture||r.image[0].isCompressedTexture),l=r.image[0]&&r.image[0].isDataTexture,h=[],d=0;d<6;d++)h[d]=o||l?l?r.image[d].image:r.image[d]:C(r.image[d],!1,!0,_);var f,image=h[0],m=A(image)||v,y=c.convert(r.format),x=c.convert(r.type),w=L(r.internalFormat,y,x);if(H(34067,r,m),o){for(var E=0;E<6;E++){f=h[E].mipmaps;for(var M=0;M<f.length;M++){var S=f[M];r.format!==D&&1022!==r.format?null!==y?n.compressedTexImage2D(34069+E,M,w,S.width,S.height,0,S.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+E,M,w,S.width,S.height,0,y,x,S.data)}}e.__maxMipLevel=f.length-1}else{f=r.mipmaps;for(var T=0;T<6;T++)if(l){n.texImage2D(34069+T,0,w,h[T].width,h[T].height,0,y,x,h[T].data);for(var O=0;O<f.length;O++){var P=f[O].image[T].image;n.texImage2D(34069+T,O+1,w,P.width,P.height,0,y,x,P.data)}}else{n.texImage2D(34069+T,0,w,y,x,h[T]);for(var I=0;I<f.length;I++){var R=f[I];n.texImage2D(34069+T,I+1,w,y,x,R.image[T])}}e.__maxMipLevel=f.length}k(r,m)&&j(34067,r,image.width,image.height);e.__version=r.version,r.onUpdate&&r.onUpdate(r)}(o,e,slot):(n.activeTexture(33984+slot),n.bindTexture(34067,o.__webglTexture))}var V=(d={},Object(l.a)(d,S,10497),Object(l.a)(d,1001,33071),Object(l.a)(d,1002,33648),d),z=(f={},Object(l.a)(f,1003,9728),Object(l.a)(f,1004,9984),Object(l.a)(f,1005,9986),Object(l.a)(f,T,9729),Object(l.a)(f,1007,9985),Object(l.a)(f,1008,9987),f);function H(n,c,l){l?(t.texParameteri(n,10242,V[c.wrapS]),t.texParameteri(n,10243,V[c.wrapT]),32879!==n&&35866!==n||t.texParameteri(n,32882,V[c.wrapR]),t.texParameteri(n,10240,z[c.magFilter]),t.texParameteri(n,10241,z[c.minFilter])):(t.texParameteri(n,10242,33071),t.texParameteri(n,10243,33071),32879!==n&&35866!==n||t.texParameteri(n,32882,33071),1001===c.wrapS&&1001===c.wrapT||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(n,10240,I(c.magFilter)),t.texParameteri(n,10241,I(c.minFilter)),1003!==c.minFilter&&c.minFilter!==T&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));var h=e.get("EXT_texture_filter_anisotropic");if(h){if(1015===c.type&&null===e.get("OES_texture_float_linear"))return;if(1016===c.type&&null===(v||e.get("OES_texture_half_float_linear")))return;(c.anisotropy>1||r.get(c).__currentAnisotropy)&&(t.texParameterf(n,h.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(c.anisotropy,o.getMaxAnisotropy())),r.get(c).__currentAnisotropy=c.anisotropy)}}function G(e,n){void 0===e.__webglInit&&(e.__webglInit=!0,n.addEventListener("dispose",R),e.__webglTexture=t.createTexture(),h.memory.textures++)}function W(e,r,slot){var o=3553;r.isDataTexture2DArray&&(o=35866),r.isDataTexture3D&&(o=32879),G(e,r),n.activeTexture(33984+slot),n.bindTexture(o,e.__webglTexture),t.pixelStorei(37440,r.flipY),t.pixelStorei(37441,r.premultiplyAlpha),t.pixelStorei(3317,r.unpackAlignment);var l,h=function(t){return!v&&(1001!==t.wrapS||1001!==t.wrapT||1003!==t.minFilter&&t.minFilter!==T)}(r)&&!1===A(r.image),image=C(r.image,h,!1,x),d=A(image)||v,f=c.convert(r.format),m=c.convert(r.type),y=L(r.internalFormat,f,m);H(o,r,d);var _=r.mipmaps;if(r.isDepthTexture)y=6402,v?y=1015===r.type?36012:1014===r.type?33190:1020===r.type?35056:33189:1015===r.type&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),1026===r.format&&6402===y&&1012!==r.type&&1014!==r.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=1012,m=c.convert(r.type)),1027===r.format&&6402===y&&(y=34041,1020!==r.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=1020,m=c.convert(r.type))),n.texImage2D(3553,0,y,image.width,image.height,0,f,m,null);else if(r.isDataTexture)if(_.length>0&&d){for(var w=0,E=_.length;w<E;w++)l=_[w],n.texImage2D(3553,w,y,l.width,l.height,0,f,m,l.data);r.generateMipmaps=!1,e.__maxMipLevel=_.length-1}else n.texImage2D(3553,0,y,image.width,image.height,0,f,m,image.data),e.__maxMipLevel=0;else if(r.isCompressedTexture){for(var M=0,S=_.length;M<S;M++)l=_[M],r.format!==D&&1022!==r.format?null!==f?n.compressedTexImage2D(3553,M,y,l.width,l.height,0,l.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,M,y,l.width,l.height,0,f,m,l.data);e.__maxMipLevel=_.length-1}else if(r.isDataTexture2DArray)n.texImage3D(35866,0,y,image.width,image.height,image.depth,0,f,m,image.data),e.__maxMipLevel=0;else if(r.isDataTexture3D)n.texImage3D(32879,0,y,image.width,image.height,image.depth,0,f,m,image.data),e.__maxMipLevel=0;else if(_.length>0&&d){for(var O=0,P=_.length;O<P;O++)l=_[O],n.texImage2D(3553,O,y,f,m,l);r.generateMipmaps=!1,e.__maxMipLevel=_.length-1}else n.texImage2D(3553,0,y,f,m,image),e.__maxMipLevel=0;k(r,d)&&j(o,r,image.width,image.height),e.__version=r.version,r.onUpdate&&r.onUpdate(r)}function $(e,o,l,h){var d=c.convert(o.texture.format),f=c.convert(o.texture.type),m=L(o.texture.internalFormat,d,f);n.texImage2D(h,0,m,o.width,o.height,0,d,f,null),t.bindFramebuffer(36160,e),t.framebufferTexture2D(36160,l,h,r.get(o.texture).__webglTexture,0),t.bindFramebuffer(36160,null)}function Q(e,n,r){if(t.bindRenderbuffer(36161,e),n.depthBuffer&&!n.stencilBuffer){var o=33189;if(r){var l=n.depthTexture;l&&l.isDepthTexture&&(1015===l.type?o=36012:1014===l.type&&(o=33190));var h=Y(n);t.renderbufferStorageMultisample(36161,h,o,n.width,n.height)}else t.renderbufferStorage(36161,o,n.width,n.height);t.framebufferRenderbuffer(36160,36096,36161,e)}else if(n.depthBuffer&&n.stencilBuffer){if(r){var d=Y(n);t.renderbufferStorageMultisample(36161,d,35056,n.width,n.height)}else t.renderbufferStorage(36161,34041,n.width,n.height);t.framebufferRenderbuffer(36160,33306,36161,e)}else{var f=c.convert(n.texture.format),m=c.convert(n.texture.type),v=L(n.texture.internalFormat,f,m);if(r){var y=Y(n);t.renderbufferStorageMultisample(36161,y,v,n.width,n.height)}else t.renderbufferStorage(36161,v,n.width,n.height)}t.bindRenderbuffer(36161,null)}function X(e){var n=r.get(e),o=!0===e.isWebGLCubeRenderTarget;if(e.depthTexture){if(o)throw new Error("target.depthTexture not supported in Cube render targets");!function(e,n){if(n&&n.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,e),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),B(n.depthTexture,0);var o=r.get(n.depthTexture).__webglTexture;if(1026===n.depthTexture.format)t.framebufferTexture2D(36160,36096,3553,o,0);else{if(1027!==n.depthTexture.format)throw new Error("Unknown depthTexture format");t.framebufferTexture2D(36160,33306,3553,o,0)}}(n.__webglFramebuffer,e)}else if(o){n.__webglDepthbuffer=[];for(var c=0;c<6;c++)t.bindFramebuffer(36160,n.__webglFramebuffer[c]),n.__webglDepthbuffer[c]=t.createRenderbuffer(),Q(n.__webglDepthbuffer[c],e,!1)}else t.bindFramebuffer(36160,n.__webglFramebuffer),n.__webglDepthbuffer=t.createRenderbuffer(),Q(n.__webglDepthbuffer,e,!1);t.bindFramebuffer(36160,null)}function Y(t){return v&&t.isWebGLMultisampleRenderTarget?Math.min(w,t.samples):0}var K=!1,J=!1;this.allocateTextureUnit=function(){var t=F;return t>=y&&console.warn("THREE.WebGLTextures: Trying to use "+t+" texture units while this GPU supports only "+y),F+=1,t},this.resetTextureUnits=function(){F=0},this.setTexture2D=B,this.setTexture2DArray=function(t,slot){var e=r.get(t);t.version>0&&e.__version!==t.version?W(e,t,slot):(n.activeTexture(33984+slot),n.bindTexture(35866,e.__webglTexture))},this.setTexture3D=function(t,slot){var e=r.get(t);t.version>0&&e.__version!==t.version?W(e,t,slot):(n.activeTexture(33984+slot),n.bindTexture(32879,e.__webglTexture))},this.setTextureCube=U,this.setupRenderTarget=function(e){var o=r.get(e),l=r.get(e.texture);e.addEventListener("dispose",N),l.__webglTexture=t.createTexture(),h.memory.textures++;var d=!0===e.isWebGLCubeRenderTarget,f=!0===e.isWebGLMultisampleRenderTarget,m=A(e)||v;if(!v||1022!==e.texture.format||1015!==e.texture.type&&1016!==e.texture.type||(e.texture.format=D,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),d){o.__webglFramebuffer=[];for(var y=0;y<6;y++)o.__webglFramebuffer[y]=t.createFramebuffer()}else if(o.__webglFramebuffer=t.createFramebuffer(),f)if(v){o.__webglMultisampledFramebuffer=t.createFramebuffer(),o.__webglColorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,o.__webglColorRenderbuffer);var _=c.convert(e.texture.format),x=c.convert(e.texture.type),w=L(e.texture.internalFormat,_,x),E=Y(e);t.renderbufferStorageMultisample(36161,E,w,e.width,e.height),t.bindFramebuffer(36160,o.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064,36161,o.__webglColorRenderbuffer),t.bindRenderbuffer(36161,null),e.depthBuffer&&(o.__webglDepthRenderbuffer=t.createRenderbuffer(),Q(o.__webglDepthRenderbuffer,e,!0)),t.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(d){n.bindTexture(34067,l.__webglTexture),H(34067,e.texture,m);for(var M=0;M<6;M++)$(o.__webglFramebuffer[M],e,36064,34069+M);k(e.texture,m)&&j(34067,e.texture,e.width,e.height),n.bindTexture(34067,null)}else n.bindTexture(3553,l.__webglTexture),H(3553,e.texture,m),$(o.__webglFramebuffer,e,36064,3553),k(e.texture,m)&&j(3553,e.texture,e.width,e.height),n.bindTexture(3553,null);e.depthBuffer&&X(e)},this.updateRenderTargetMipmap=function(t){var e=t.texture;if(k(e,A(t)||v)){var o=t.isWebGLCubeRenderTarget?34067:3553,c=r.get(e).__webglTexture;n.bindTexture(o,c),j(o,e,t.width,t.height),n.bindTexture(o,null)}},this.updateMultisampleRenderTarget=function(e){if(e.isWebGLMultisampleRenderTarget)if(v){var n=r.get(e);t.bindFramebuffer(36008,n.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,n.__webglFramebuffer);var o=e.width,c=e.height,mask=16384;e.depthBuffer&&(mask|=256),e.stencilBuffer&&(mask|=1024),t.blitFramebuffer(0,0,o,c,0,0,o,c,mask,9728),t.bindFramebuffer(36160,n.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(t,slot){t&&t.isWebGLRenderTarget&&(!1===K&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),K=!0),t=t.texture),B(t,slot)},this.safeSetTextureCube=function(t,slot){t&&t.isWebGLCubeRenderTarget&&(!1===J&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),J=!0),t=t.texture),U(t,slot)}}function Ei(t,e,n){var r=n.isWebGL2;return{convert:function(p){var t;if(1009===p)return 5121;if(1017===p)return 32819;if(1018===p)return 32820;if(1019===p)return 33635;if(1010===p)return 5120;if(1011===p)return 5122;if(1012===p)return 5123;if(1013===p)return 5124;if(1014===p)return 5125;if(1015===p)return 5126;if(1016===p)return r?5131:null!==(t=e.get("OES_texture_half_float"))?t.HALF_FLOAT_OES:null;if(1021===p)return 6406;if(1022===p)return 6407;if(p===D)return 6408;if(1024===p)return 6409;if(1025===p)return 6410;if(1026===p)return 6402;if(1027===p)return 34041;if(1028===p)return 6403;if(1029===p)return 36244;if(1030===p)return 33319;if(1031===p)return 33320;if(1032===p)return 36248;if(1033===p)return 36249;if(33776===p||33777===p||33778===p||33779===p){if(null===(t=e.get("WEBGL_compressed_texture_s3tc")))return null;if(33776===p)return t.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===p)return t.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===p)return t.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===p)return t.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===p||35841===p||35842===p||35843===p){if(null===(t=e.get("WEBGL_compressed_texture_pvrtc")))return null;if(35840===p)return t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===p)return t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===p)return t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===p)return t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===p)return null!==(t=e.get("WEBGL_compressed_texture_etc1"))?t.COMPRESSED_RGB_ETC1_WEBGL:null;if((37492===p||37496===p)&&null!==(t=e.get("WEBGL_compressed_texture_etc"))){if(37492===p)return t.COMPRESSED_RGB8_ETC2;if(37496===p)return t.COMPRESSED_RGBA8_ETC2_EAC}return 37808===p||37809===p||37810===p||37811===p||37812===p||37813===p||37814===p||37815===p||37816===p||37817===p||37818===p||37819===p||37820===p||37821===p||37840===p||37841===p||37842===p||37843===p||37844===p||37845===p||37846===p||37847===p||37848===p||37849===p||37850===p||37851===p||37852===p||37853===p?null!==(t=e.get("WEBGL_compressed_texture_astc"))?p:null:36492===p?null!==(t=e.get("EXT_texture_compression_bptc"))?p:null:1020===p?r?34042:null!==(t=e.get("WEBGL_depth_texture"))?t.UNSIGNED_INT_24_8_WEBGL:null:void 0}}}function Mi(t){pn.call(this),this.cameras=t||[]}function Si(){Gt.call(this),this.type="Group"}function Ti(){this._targetRay=null,this._grip=null,this._hand=null}function Di(t,e){var n=this,r=null,o=1,c=null,l="local-floor",h=null,d=[],f=new Map,m=new pn;m.layers.enable(1),m.viewport=new F;var v=new pn;v.layers.enable(2),v.viewport=new F;var y=[m,v],_=new Mi;_.layers.enable(1),_.layers.enable(2);var x=null,w=null;function E(t){var e=f.get(t.inputSource);e&&e.dispatchEvent({type:t.type,data:t.inputSource})}function M(){f.forEach((function(t,e){t.disconnect(e)})),f.clear(),t.setFramebuffer(null),t.setRenderTarget(t.getRenderTarget()),k.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function S(t){c=t,k.setContext(r),k.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}function T(t){for(var e=r.inputSources,n=0;n<d.length;n++)f.set(e[n],d[n]);for(var o=0;o<t.removed.length;o++){var c=t.removed[o],l=f.get(c);l&&(l.dispatchEvent({type:"disconnected",data:c}),f.delete(c))}for(var h=0;h<t.added.length;h++){var m=t.added[h],v=f.get(m);v&&v.dispatchEvent({type:"connected",data:m})}}this.enabled=!1,this.isPresenting=!1,this.getController=function(t){var e=d[t];return void 0===e&&(e=new Ti,d[t]=e),e.getTargetRaySpace()},this.getControllerGrip=function(t){var e=d[t];return void 0===e&&(e=new Ti,d[t]=e),e.getGripSpace()},this.getHand=function(t){var e=d[t];return void 0===e&&(e=new Ti,d[t]=e),e.getHandSpace()},this.setFramebufferScaleFactor=function(t){o=t,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(t){l=t,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c},this.getSession=function(){return r},this.setSession=function(t){if(null!==(r=t)){r.addEventListener("select",E),r.addEventListener("selectstart",E),r.addEventListener("selectend",E),r.addEventListener("squeeze",E),r.addEventListener("squeezestart",E),r.addEventListener("squeezeend",E),r.addEventListener("end",M);var n=e.getContextAttributes();!0!==n.xrCompatible&&e.makeXRCompatible();var c={antialias:n.antialias,alpha:n.alpha,depth:n.depth,stencil:n.stencil,framebufferScaleFactor:o},h=new XRWebGLLayer(r,e,c);r.updateRenderState({baseLayer:h}),r.requestReferenceSpace(l).then(S),r.addEventListener("inputsourceschange",T)}};var D=new z,O=new z;function C(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.getInverse(t.matrixWorld)}this.getCamera=function(t){_.near=v.near=m.near=t.near,_.far=v.far=m.far=t.far,x===_.near&&w===_.far||(r.updateRenderState({depthNear:_.near,depthFar:_.far}),x=_.near,w=_.far);var e=t.parent,n=_.cameras;C(_,e);for(var o=0;o<n.length;o++)C(n[o],e);t.matrixWorld.copy(_.matrixWorld);for(var c=t.children,l=0,h=c.length;l<h;l++)c[l].updateMatrixWorld(!0);return 2===n.length?function(t,e,n){D.setFromMatrixPosition(e.matrixWorld),O.setFromMatrixPosition(n.matrixWorld);var r=D.distanceTo(O),o=e.projectionMatrix.elements,c=n.projectionMatrix.elements,l=o[14]/(o[10]-1),h=o[14]/(o[10]+1),d=(o[9]+1)/o[5],f=(o[9]-1)/o[5],m=(o[8]-1)/o[0],v=(c[8]+1)/c[0],y=l*m,_=l*v,x=r/(-m+v),w=x*-m;e.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.translateX(w),t.translateZ(x),t.matrixWorld.compose(t.position,t.quaternion,t.scale),t.matrixWorldInverse.getInverse(t.matrixWorld);var E=l+x,M=h+x,S=y-w,T=_+(r-w),C=d*h/M*E,A=f*h/M*E;t.projectionMatrix.makePerspective(S,T,C,A,E,M)}(_,m,v):_.projectionMatrix.copy(m.projectionMatrix),_};var A=null;var k=new bn;k.setAnimationLoop((function(time,e){if(null!==(h=e.getViewerPose(c))){var n=h.views,o=r.renderState.baseLayer;t.setFramebuffer(o.framebuffer);var l=!1;n.length!==_.cameras.length&&(_.cameras.length=0,l=!0);for(var f=0;f<n.length;f++){var view=n[f],m=o.getViewport(view),v=y[f];v.matrix.fromArray(view.transform.matrix),v.projectionMatrix.fromArray(view.projectionMatrix),v.viewport.set(m.x,m.y,m.width,m.height),0===f&&_.matrix.copy(v.matrix),!0===l&&_.cameras.push(v)}}for(var x=r.inputSources,w=0;w<d.length;w++){var E=d[w],M=x[w];E.update(M,e,c)}A&&A(time,e)})),this.setAnimationLoop=function(t){A=t},this.dispose=function(){}}function Oi(t){function e(e,n){e.opacity.value=n.opacity,n.color&&e.diffuse.value.copy(n.color),n.emissive&&e.emissive.value.copy(n.emissive).multiplyScalar(n.emissiveIntensity),n.map&&(e.map.value=n.map),n.alphaMap&&(e.alphaMap.value=n.alphaMap),n.specularMap&&(e.specularMap.value=n.specularMap);var r,o,c=t.get(n).envMap;if(c){e.envMap.value=c,e.flipEnvMap.value=c.isCubeTexture&&c._needsFlipEnvMap?-1:1,e.reflectivity.value=n.reflectivity,e.refractionRatio.value=n.refractionRatio;var l=t.get(c).__maxMipLevel;void 0!==l&&(e.maxMipLevel.value=l)}n.lightMap&&(e.lightMap.value=n.lightMap,e.lightMapIntensity.value=n.lightMapIntensity),n.aoMap&&(e.aoMap.value=n.aoMap,e.aoMapIntensity.value=n.aoMapIntensity),n.map?r=n.map:n.specularMap?r=n.specularMap:n.displacementMap?r=n.displacementMap:n.normalMap?r=n.normalMap:n.bumpMap?r=n.bumpMap:n.roughnessMap?r=n.roughnessMap:n.metalnessMap?r=n.metalnessMap:n.alphaMap?r=n.alphaMap:n.emissiveMap?r=n.emissiveMap:n.clearcoatMap?r=n.clearcoatMap:n.clearcoatNormalMap?r=n.clearcoatNormalMap:n.clearcoatRoughnessMap&&(r=n.clearcoatRoughnessMap),void 0!==r&&(r.isWebGLRenderTarget&&(r=r.texture),!0===r.matrixAutoUpdate&&r.updateMatrix(),e.uvTransform.value.copy(r.matrix)),n.aoMap?o=n.aoMap:n.lightMap&&(o=n.lightMap),void 0!==o&&(o.isWebGLRenderTarget&&(o=o.texture),!0===o.matrixAutoUpdate&&o.updateMatrix(),e.uv2Transform.value.copy(o.matrix))}function n(e,n){e.roughness.value=n.roughness,e.metalness.value=n.metalness,n.roughnessMap&&(e.roughnessMap.value=n.roughnessMap),n.metalnessMap&&(e.metalnessMap.value=n.metalnessMap),n.emissiveMap&&(e.emissiveMap.value=n.emissiveMap),n.bumpMap&&(e.bumpMap.value=n.bumpMap,e.bumpScale.value=n.bumpScale,1===n.side&&(e.bumpScale.value*=-1)),n.normalMap&&(e.normalMap.value=n.normalMap,e.normalScale.value.copy(n.normalScale),1===n.side&&e.normalScale.value.negate()),n.displacementMap&&(e.displacementMap.value=n.displacementMap,e.displacementScale.value=n.displacementScale,e.displacementBias.value=n.displacementBias),t.get(n).envMap&&(e.envMapIntensity.value=n.envMapIntensity)}return{refreshFogUniforms:function(t,e){t.fogColor.value.copy(e.color),e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)},refreshMaterialUniforms:function(t,r,o,c){r.isMeshBasicMaterial?e(t,r):r.isMeshLambertMaterial?(e(t,r),function(t,e){e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}(t,r)):r.isMeshToonMaterial?(e(t,r),function(t,e){e.gradientMap&&(t.gradientMap.value=e.gradientMap);e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap);e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1));e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate());e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,r)):r.isMeshPhongMaterial?(e(t,r),function(t,e){t.specular.value.copy(e.specular),t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap);e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1));e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate());e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,r)):r.isMeshStandardMaterial?(e(t,r),r.isMeshPhysicalMaterial?function(t,e){n(t,e),t.reflectivity.value=e.reflectivity,t.clearcoat.value=e.clearcoat,t.clearcoatRoughness.value=e.clearcoatRoughness,e.sheen&&t.sheen.value.copy(e.sheen);e.clearcoatMap&&(t.clearcoatMap.value=e.clearcoatMap);e.clearcoatRoughnessMap&&(t.clearcoatRoughnessMap.value=e.clearcoatRoughnessMap);e.clearcoatNormalMap&&(t.clearcoatNormalScale.value.copy(e.clearcoatNormalScale),t.clearcoatNormalMap.value=e.clearcoatNormalMap,1===e.side&&t.clearcoatNormalScale.value.negate());t.transmission.value=e.transmission,e.transmissionMap&&(t.transmissionMap.value=e.transmissionMap)}(t,r):n(t,r)):r.isMeshMatcapMaterial?(e(t,r),function(t,e){e.matcap&&(t.matcap.value=e.matcap);e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1));e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate());e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,r)):r.isMeshDepthMaterial?(e(t,r),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,r)):r.isMeshDistanceMaterial?(e(t,r),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias);t.referencePosition.value.copy(e.referencePosition),t.nearDistance.value=e.nearDistance,t.farDistance.value=e.farDistance}(t,r)):r.isMeshNormalMaterial?(e(t,r),function(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1));e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate());e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,r)):r.isLineBasicMaterial?(function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity}(t,r),r.isLineDashedMaterial&&function(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}(t,r)):r.isPointsMaterial?function(t,e,n,r){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.size.value=e.size*n,t.scale.value=.5*r,e.map&&(t.map.value=e.map);e.alphaMap&&(t.alphaMap.value=e.alphaMap);var o;e.map?o=e.map:e.alphaMap&&(o=e.alphaMap);void 0!==o&&(!0===o.matrixAutoUpdate&&o.updateMatrix(),t.uvTransform.value.copy(o.matrix))}(t,r,o,c):r.isSpriteMaterial?function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.rotation.value=e.rotation,e.map&&(t.map.value=e.map);e.alphaMap&&(t.alphaMap.value=e.alphaMap);var n;e.map?n=e.map:e.alphaMap&&(n=e.alphaMap);void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),t.uvTransform.value.copy(n.matrix))}(t,r):r.isShadowMaterial?(t.color.value.copy(r.color),t.opacity.value=r.opacity):r.isShaderMaterial&&(r.uniformsNeedUpdate=!1)}}}function Ci(t){var e=void 0!==(t=t||{}).canvas?t.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),n=void 0!==t.context?t.context:null,r=void 0!==t.alpha&&t.alpha,o=void 0===t.depth||t.depth,c=void 0===t.stencil||t.stencil,l=void 0!==t.antialias&&t.antialias,h=void 0===t.premultipliedAlpha||t.premultipliedAlpha,d=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,f=void 0!==t.powerPreference?t.powerPreference:"default",m=void 0!==t.failIfMajorPerformanceCaveat&&t.failIfMajorPerformanceCaveat,v=null,y=null;this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=3e3,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var _=this,x=!1,w=null,E=0,M=0,S=null,T=null,O=-1,C=null,A=null,k=new F,L=new F,I=null,R=e.width,N=e.height,B=1,U=null,V=null,H=new F(0,0,R,N),G=new F(0,0,R,N),W=!1,$=new _n,Q=!1,X=!1,Y=new _t,K=new z,J={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Z(){return null===S?B:1}var tt,et,nt,it,ot,at,st,ut,ct,lt,ht,pt,ft,mt,vt,gt,yt,bt,xt,wt,Et,Mt=n;function St(t,n){for(var r=0;r<t.length;r++){var o=t[r],c=e.getContext(o,n);if(null!==c)return c}return null}try{var Tt={alpha:r,depth:o,stencil:c,antialias:l,premultipliedAlpha:h,preserveDrawingBuffer:d,powerPreference:f,failIfMajorPerformanceCaveat:m};if(e.addEventListener("webglcontextlost",kt,!1),e.addEventListener("webglcontextrestored",Pt,!1),null===Mt){var Dt=["webgl2","webgl","experimental-webgl"];if(!0===_.isWebGL1Renderer&&Dt.shift(),null===(Mt=St(Dt,Tt)))throw St(Dt)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===Mt.getShaderPrecisionFormat&&(Mt.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(t){throw console.error("THREE.WebGLRenderer: "+t.message),t}function Ot(){tt=new Pn(Mt),!1===(et=new Cn(Mt,tt,t)).isWebGL2&&(tt.get("WEBGL_depth_texture"),tt.get("OES_texture_float"),tt.get("OES_texture_half_float"),tt.get("OES_texture_half_float_linear"),tt.get("OES_standard_derivatives"),tt.get("OES_element_index_uint"),tt.get("OES_vertex_array_object"),tt.get("ANGLE_instanced_arrays")),tt.get("OES_texture_float_linear"),wt=new Ei(Mt,tt,et),(nt=new xi(Mt,tt,et)).scissor(L.copy(G).multiplyScalar(B).floor()),nt.viewport(k.copy(H).multiplyScalar(B).floor()),it=new In(Mt),ot=new ai,at=new wi(Mt,tt,nt,ot,et,wt,it),st=new kn(_),ut=new xn(Mt,et),Et=new Dn(Mt,tt,ut,et),ct=new jn(Mt,ut,it,Et),lt=new Bn(Mt,ct,ut,it),yt=new Fn(Mt),vt=new An(ot),ht=new oi(_,st,tt,et,Et,vt),pt=new Oi(ot),ft=new hi(ot),mt=new gi(tt,et),gt=new Tn(_,st,nt,lt,h),bt=new On(Mt,tt,it,et),xt=new Ln(Mt,tt,it,et),it.programs=ht.programs,_.capabilities=et,_.extensions=tt,_.properties=ot,_.renderLists=ft,_.state=nt,_.info=it}Ot();var Ct=new Di(_,Mt);this.xr=Ct;var At=new bi(_,lt,et.maxTextureSize);function kt(t){t.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),x=!0}function Pt(){console.log("THREE.WebGLRenderer: Context Restored."),x=!1,Ot()}function jt(t){var e=t.target;e.removeEventListener("dispose",jt),function(t){Lt(t),ot.remove(t)}(e)}function Lt(t){var e=ot.get(t).program;void 0!==e&&ht.releaseProgram(e)}this.shadowMap=At,this.getContext=function(){return Mt},this.getContextAttributes=function(){return Mt.getContextAttributes()},this.forceContextLoss=function(){var t=tt.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){var t=tt.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return B},this.setPixelRatio=function(t){void 0!==t&&(B=t,this.setSize(R,N,!1))},this.getSize=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),t=new j),t.set(R,N)},this.setSize=function(t,n,r){Ct.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(R=t,N=n,e.width=Math.floor(t*B),e.height=Math.floor(n*B),!1!==r&&(e.style.width=t+"px",e.style.height=n+"px"),this.setViewport(0,0,t,n))},this.getDrawingBufferSize=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),t=new j),t.set(R*B,N*B).floor()},this.setDrawingBufferSize=function(t,n,r){R=t,N=n,B=r,e.width=Math.floor(t*r),e.height=Math.floor(n*r),this.setViewport(0,0,t,n)},this.getCurrentViewport=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),t=new F),t.copy(k)},this.getViewport=function(t){return t.copy(H)},this.setViewport=function(t,e,n,r){t.isVector4?H.set(t.x,t.y,t.z,t.w):H.set(t,e,n,r),nt.viewport(k.copy(H).multiplyScalar(B).floor())},this.getScissor=function(t){return t.copy(G)},this.setScissor=function(t,e,n,r){t.isVector4?G.set(t.x,t.y,t.z,t.w):G.set(t,e,n,r),nt.scissor(L.copy(G).multiplyScalar(B).floor())},this.getScissorTest=function(){return W},this.setScissorTest=function(t){nt.setScissorTest(W=t)},this.setOpaqueSort=function(t){U=t},this.setTransparentSort=function(t){V=t},this.getClearColor=function(){return gt.getClearColor()},this.setClearColor=function(){gt.setClearColor.apply(gt,arguments)},this.getClearAlpha=function(){return gt.getClearAlpha()},this.setClearAlpha=function(){gt.setClearAlpha.apply(gt,arguments)},this.clear=function(t,e,n){var r=0;(void 0===t||t)&&(r|=16384),(void 0===e||e)&&(r|=256),(void 0===n||n)&&(r|=1024),Mt.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",kt,!1),e.removeEventListener("webglcontextrestored",Pt,!1),ft.dispose(),mt.dispose(),ot.dispose(),st.dispose(),lt.dispose(),Et.dispose(),Ct.dispose(),Rt.stop()},this.renderBufferImmediate=function(object,t){Et.initAttributes();var e=ot.get(object);object.hasPositions&&!e.position&&(e.position=Mt.createBuffer()),object.hasNormals&&!e.normal&&(e.normal=Mt.createBuffer()),object.hasUvs&&!e.uv&&(e.uv=Mt.createBuffer()),object.hasColors&&!e.color&&(e.color=Mt.createBuffer());var n=t.getAttributes();object.hasPositions&&(Mt.bindBuffer(34962,e.position),Mt.bufferData(34962,object.positionArray,35048),Et.enableAttribute(n.position),Mt.vertexAttribPointer(n.position,3,5126,!1,0,0)),object.hasNormals&&(Mt.bindBuffer(34962,e.normal),Mt.bufferData(34962,object.normalArray,35048),Et.enableAttribute(n.normal),Mt.vertexAttribPointer(n.normal,3,5126,!1,0,0)),object.hasUvs&&(Mt.bindBuffer(34962,e.uv),Mt.bufferData(34962,object.uvArray,35048),Et.enableAttribute(n.uv),Mt.vertexAttribPointer(n.uv,2,5126,!1,0,0)),object.hasColors&&(Mt.bindBuffer(34962,e.color),Mt.bufferData(34962,object.colorArray,35048),Et.enableAttribute(n.color),Mt.vertexAttribPointer(n.color,3,5126,!1,0,0)),Et.disableUnusedAttributes(),Mt.drawArrays(4,0,object.count),object.count=0},this.renderBufferDirect=function(t,e,n,r,object,o){null===e&&(e=J);var c=object.isMesh&&object.matrixWorld.determinant()<0,l=Vt(t,e,r,object);nt.setMaterial(r,c);var h=n.index,d=n.attributes.position;if(null===h){if(void 0===d||0===d.count)return}else if(0===h.count)return;var f,m=1;!0===r.wireframe&&(h=ct.getWireframeAttribute(n),m=2),(r.morphTargets||r.morphNormals)&&yt.update(object,n,r,l),Et.setup(object,r,l,n,h);var v=bt;null!==h&&(f=ut.get(h),(v=xt).setIndex(f));var y=null!==h?h.count:d.count,_=n.drawRange.start*m,x=n.drawRange.count*m,w=null!==o?o.start*m:0,E=null!==o?o.count*m:1/0,M=Math.max(_,w),S=Math.min(y,_+x,w+E)-1,T=Math.max(0,S-M+1);if(0!==T){if(object.isMesh)!0===r.wireframe?(nt.setLineWidth(r.wireframeLinewidth*Z()),v.setMode(1)):v.setMode(4);else if(object.isLine){var D=r.linewidth;void 0===D&&(D=1),nt.setLineWidth(D*Z()),object.isLineSegments?v.setMode(1):object.isLineLoop?v.setMode(2):v.setMode(3)}else object.isPoints?v.setMode(0):object.isSprite&&v.setMode(4);if(object.isInstancedMesh)v.renderInstances(M,T,object.count);else if(n.isInstancedBufferGeometry){var O=Math.min(n.instanceCount,n._maxInstanceCount);v.renderInstances(M,T,O)}else v.render(M,T)}},this.compile=function(t,e){(y=mt.get(t,e)).init(),t.traverseVisible((function(object){object.isLight&&object.layers.test(e.layers)&&(y.pushLight(object),object.castShadow&&y.pushShadow(object))})),y.setupLights(e);var n=new WeakMap;t.traverse((function(object){var e=object.material;if(e)if(Array.isArray(e))for(var r=0;r<e.length;r++){var o=e[r];!1===n.has(o)&&(Ut(o,t,object),n.set(o))}else!1===n.has(e)&&(Ut(e,t,object),n.set(e))}))};var It=null;var Rt=new bn;function Nt(object,t,e,n){if(!1!==object.visible){if(object.layers.test(t.layers))if(object.isGroup)e=object.renderOrder;else if(object.isLOD)!0===object.autoUpdate&&object.update(t);else if(object.isLight)y.pushLight(object),object.castShadow&&y.pushShadow(object);else if(object.isSprite){if(!object.frustumCulled||$.intersectsSprite(object)){n&&K.setFromMatrixPosition(object.matrixWorld).applyMatrix4(Y);var r=lt.update(object),o=object.material;o.visible&&v.push(object,r,o,e,K.z,null)}}else if(object.isImmediateRenderObject)n&&K.setFromMatrixPosition(object.matrixWorld).applyMatrix4(Y),v.push(object,null,object.material,e,K.z,null);else if((object.isMesh||object.isLine||object.isPoints)&&(object.isSkinnedMesh&&object.skeleton.frame!==it.render.frame&&(object.skeleton.update(),object.skeleton.frame=it.render.frame),!object.frustumCulled||$.intersectsObject(object))){n&&K.setFromMatrixPosition(object.matrixWorld).applyMatrix4(Y);var c=lt.update(object),l=object.material;if(Array.isArray(l))for(var h=c.groups,d=0,f=h.length;d<f;d++){var m=h[d],_=l[m.materialIndex];_&&_.visible&&v.push(object,c,_,e,K.z,m)}else l.visible&&v.push(object,c,l,e,K.z,null)}for(var x=object.children,w=0,E=x.length;w<E;w++)Nt(x[w],t,e,n)}}function Ft(t,e,n){for(var r=!0===e.isScene?e.overrideMaterial:null,o=0,c=t.length;o<c;o++){var l=t[o],object=l.object,h=l.geometry,d=null===r?l.material:r,f=l.group;if(n.isArrayCamera){A=n;for(var m=n.cameras,v=0,_=m.length;v<_;v++){var x=m[v];object.layers.test(x.layers)&&(nt.viewport(k.copy(x.viewport)),y.setupLights(x),Bt(object,e,x,h,d,f))}}else A=null,Bt(object,e,n,h,d,f)}}function Bt(object,t,e,n,r,o){if(object.onBeforeRender(_,t,e,n,r,o),y=mt.get(t,A||e),object.modelViewMatrix.multiplyMatrices(e.matrixWorldInverse,object.matrixWorld),object.normalMatrix.getNormalMatrix(object.modelViewMatrix),object.isImmediateRenderObject){var c=Vt(e,t,r,object);nt.setMaterial(r),Et.reset(),function(object,t){object.render((function(object){_.renderBufferImmediate(object,t)}))}(object,c)}else _.renderBufferDirect(e,t,n,r,object,o);object.onAfterRender(_,t,e,n,r,o),y=mt.get(t,A||e)}function Ut(t,e,object){!0!==e.isScene&&(e=J);var n=ot.get(t),r=y.state.lights,o=y.state.shadowsArray,c=r.state.version,l=ht.getParameters(t,r.state,o,e,object),h=ht.getProgramCacheKey(l),d=n.program,f=!0;if(void 0===d)t.addEventListener("dispose",jt);else if(d.cacheKey!==h)Lt(t);else if(n.lightsStateVersion!==c)f=!1;else{if(void 0!==l.shaderID){var m=t.isMeshStandardMaterial?e.environment:null;return void(n.envMap=st.get(t.envMap||m))}f=!1}f&&(l.uniforms=ht.getUniforms(t),t.onBeforeCompile(l,_),d=ht.acquireProgram(l,h),n.program=d,n.uniforms=l.uniforms,n.outputEncoding=l.outputEncoding);var v=n.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(n.numClippingPlanes=vt.numPlanes,n.numIntersection=vt.numIntersection,v.clippingPlanes=vt.uniform),n.environment=t.isMeshStandardMaterial?e.environment:null,n.fog=e.fog,n.envMap=st.get(t.envMap||n.environment),n.needsLights=function(t){return t.isMeshLambertMaterial||t.isMeshToonMaterial||t.isMeshPhongMaterial||t.isMeshStandardMaterial||t.isShadowMaterial||t.isShaderMaterial&&!0===t.lights}(t),n.lightsStateVersion=c,n.needsLights&&(v.ambientLightColor.value=r.state.ambient,v.lightProbe.value=r.state.probe,v.directionalLights.value=r.state.directional,v.directionalLightShadows.value=r.state.directionalShadow,v.spotLights.value=r.state.spot,v.spotLightShadows.value=r.state.spotShadow,v.rectAreaLights.value=r.state.rectArea,v.ltc_1.value=r.state.rectAreaLTC1,v.ltc_2.value=r.state.rectAreaLTC2,v.pointLights.value=r.state.point,v.pointLightShadows.value=r.state.pointShadow,v.hemisphereLights.value=r.state.hemi,v.directionalShadowMap.value=r.state.directionalShadowMap,v.directionalShadowMatrix.value=r.state.directionalShadowMatrix,v.spotShadowMap.value=r.state.spotShadowMap,v.spotShadowMatrix.value=r.state.spotShadowMatrix,v.pointShadowMap.value=r.state.pointShadowMap,v.pointShadowMatrix.value=r.state.pointShadowMatrix);var x=n.program.getUniforms(),w=Br.seqWithValue(x.seq,v);n.uniformsList=w}function Vt(t,e,n,object){!0!==e.isScene&&(e=J),at.resetTextureUnits();var r=e.fog,o=n.isMeshStandardMaterial?e.environment:null,c=null===S?_.outputEncoding:S.texture.encoding,l=st.get(n.envMap||o),h=ot.get(n),d=y.state.lights;if(!0===Q&&(!0===X||t!==C)){var f=t===C&&n.id===O;vt.setState(n,t,f)}n.version===h.__version?n.fog&&h.fog!==r||h.environment!==o||h.needsLights&&h.lightsStateVersion!==d.state.version?Ut(n,e,object):void 0===h.numClippingPlanes||h.numClippingPlanes===vt.numPlanes&&h.numIntersection===vt.numIntersection?(h.outputEncoding!==c||h.envMap!==l)&&Ut(n,e,object):Ut(n,e,object):(Ut(n,e,object),h.__version=n.version);var m,v,x=!1,w=!1,E=!1,M=h.program,T=M.getUniforms(),A=h.uniforms;if(nt.useProgram(M.program)&&(x=!0,w=!0,E=!0),n.id!==O&&(O=n.id,w=!0),x||C!==t){if(T.setValue(Mt,"projectionMatrix",t.projectionMatrix),et.logarithmicDepthBuffer&&T.setValue(Mt,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),C!==t&&(C=t,w=!0,E=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshStandardMaterial||n.envMap){var k=T.map.cameraPosition;void 0!==k&&k.setValue(Mt,K.setFromMatrixPosition(t.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial)&&T.setValue(Mt,"isOrthographic",!0===t.isOrthographicCamera),(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.isShadowMaterial||n.skinning)&&T.setValue(Mt,"viewMatrix",t.matrixWorldInverse)}if(n.skinning){T.setOptional(Mt,object,"bindMatrix"),T.setOptional(Mt,object,"bindMatrixInverse");var j=object.skeleton;if(j){var L=j.bones;if(et.floatVertexTextures){if(void 0===j.boneTexture){var I=Math.sqrt(4*L.length);I=P.ceilPowerOfTwo(I),I=Math.max(I,4);var R=new Float32Array(I*I*4);R.set(j.boneMatrices);var F=new vn(R,I,I,D,1015);j.boneMatrices=R,j.boneTexture=F,j.boneTextureSize=I}T.setValue(Mt,"boneTexture",j.boneTexture,at),T.setValue(Mt,"boneTextureSize",j.boneTextureSize)}else T.setOptional(Mt,j,"boneMatrices")}}return(w||h.receiveShadow!==object.receiveShadow)&&(h.receiveShadow=object.receiveShadow,T.setValue(Mt,"receiveShadow",object.receiveShadow)),w&&(T.setValue(Mt,"toneMappingExposure",_.toneMappingExposure),h.needsLights&&(v=E,(m=A).ambientLightColor.needsUpdate=v,m.lightProbe.needsUpdate=v,m.directionalLights.needsUpdate=v,m.directionalLightShadows.needsUpdate=v,m.pointLights.needsUpdate=v,m.pointLightShadows.needsUpdate=v,m.spotLights.needsUpdate=v,m.spotLightShadows.needsUpdate=v,m.rectAreaLights.needsUpdate=v,m.hemisphereLights.needsUpdate=v),r&&n.fog&&pt.refreshFogUniforms(A,r),pt.refreshMaterialUniforms(A,n,B,N),Br.upload(Mt,h.uniformsList,A,at)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(Br.upload(Mt,h.uniformsList,A,at),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&T.setValue(Mt,"center",object.center),T.setValue(Mt,"modelViewMatrix",object.modelViewMatrix),T.setValue(Mt,"normalMatrix",object.normalMatrix),T.setValue(Mt,"modelMatrix",object.matrixWorld),M}Rt.setAnimationLoop((function(time){Ct.isPresenting||It&&It(time)})),"undefined"!=typeof window&&Rt.setContext(window),this.setAnimationLoop=function(t){It=t,Ct.setAnimationLoop(t),null===t?Rt.stop():Rt.start()},this.render=function(t,e){var n,r;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),n=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),r=arguments[3]),void 0===e||!0===e.isCamera){if(!0!==x){Et.resetDefaultState(),O=-1,C=null,!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),!0===Ct.enabled&&!0===Ct.isPresenting&&(e=Ct.getCamera(e)),!0===t.isScene&&t.onBeforeRender(_,t,e,n||S),(y=mt.get(t,e)).init(),Y.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),$.setFromProjectionMatrix(Y),X=this.localClippingEnabled,Q=vt.init(this.clippingPlanes,X,e),(v=ft.get(t,e)).init(),Nt(t,e,0,_.sortObjects),v.finish(),!0===_.sortObjects&&v.sort(U,V),!0===Q&&vt.beginShadows();var o=y.state.shadowsArray;At.render(o,t,e),y.setupLights(e),!0===Q&&vt.endShadows(),!0===this.info.autoReset&&this.info.reset(),void 0!==n&&this.setRenderTarget(n),gt.render(v,t,e,r);var c=v.opaque,l=v.transparent;c.length>0&&Ft(c,t,e),l.length>0&&Ft(l,t,e),!0===t.isScene&&t.onAfterRender(_,t,e),null!==S&&(at.updateRenderTargetMipmap(S),at.updateMultisampleRenderTarget(S)),nt.buffers.depth.setTest(!0),nt.buffers.depth.setMask(!0),nt.buffers.color.setMask(!0),nt.setPolygonOffset(!1),v=null,y=null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setFramebuffer=function(t){w!==t&&null===S&&Mt.bindFramebuffer(36160,t),w=t},this.getActiveCubeFace=function(){return E},this.getActiveMipmapLevel=function(){return M},this.getRenderList=function(){return v},this.setRenderList=function(t){v=t},this.getRenderState=function(){return y},this.setRenderState=function(t){y=t},this.getRenderTarget=function(){return S},this.setRenderTarget=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;S=t,E=e,M=n,t&&void 0===ot.get(t).__webglFramebuffer&&at.setupRenderTarget(t);var r=w,o=!1;if(t){var c=ot.get(t).__webglFramebuffer;t.isWebGLCubeRenderTarget?(r=c[e],o=!0):r=t.isWebGLMultisampleRenderTarget?ot.get(t).__webglMultisampledFramebuffer:c,k.copy(t.viewport),L.copy(t.scissor),I=t.scissorTest}else k.copy(H).multiplyScalar(B).floor(),L.copy(G).multiplyScalar(B).floor(),I=W;if(T!==r&&(Mt.bindFramebuffer(36160,r),T=r),nt.viewport(k),nt.scissor(L),nt.setScissorTest(I),o){var l=ot.get(t.texture);Mt.framebufferTexture2D(36160,36064,34069+e,l.__webglTexture,n)}},this.readRenderTargetPixels=function(t,e,n,r,o,c,l){if(t&&t.isWebGLRenderTarget){var h=ot.get(t).__webglFramebuffer;if(t.isWebGLCubeRenderTarget&&void 0!==l&&(h=h[l]),h){var d=!1;h!==T&&(Mt.bindFramebuffer(36160,h),d=!0);try{var f=t.texture,m=f.format,v=f.type;if(m!==D&&wt.convert(m)!==Mt.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(1009===v||wt.convert(v)===Mt.getParameter(35738)||1015===v&&(et.isWebGL2||tt.get("OES_texture_float")||tt.get("WEBGL_color_buffer_float"))||1016===v&&(et.isWebGL2?tt.get("EXT_color_buffer_float"):tt.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===Mt.checkFramebufferStatus(36160)?e>=0&&e<=t.width-r&&n>=0&&n<=t.height-o&&Mt.readPixels(e,n,r,o,wt.convert(m),wt.convert(v),c):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{d&&Mt.bindFramebuffer(36160,T)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(t,e,n){void 0===n&&(n=0);var r=Math.pow(2,-n),o=Math.floor(e.image.width*r),c=Math.floor(e.image.height*r),l=wt.convert(e.format);at.setTexture2D(e,0),Mt.copyTexImage2D(3553,n,l,t.x,t.y,o,c,0),nt.unbindTexture()},this.copyTextureToTexture=function(t,e,n,r){void 0===r&&(r=0);var o=e.image.width,c=e.image.height,l=wt.convert(n.format),h=wt.convert(n.type);at.setTexture2D(n,0),Mt.pixelStorei(37440,n.flipY),Mt.pixelStorei(37441,n.premultiplyAlpha),Mt.pixelStorei(3317,n.unpackAlignment),e.isDataTexture?Mt.texSubImage2D(3553,r,t.x,t.y,o,c,l,h,e.image.data):e.isCompressedTexture?Mt.compressedTexSubImage2D(3553,r,t.x,t.y,e.mipmaps[0].width,e.mipmaps[0].height,l,e.mipmaps[0].data):Mt.texSubImage2D(3553,r,t.x,t.y,l,h,e.image),0===r&&n.generateMipmaps&&Mt.generateMipmap(3553),nt.unbindTexture()},this.initTexture=function(t){at.setTexture2D(t,0),nt.unbindTexture()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function Ai(t){Ci.call(this,t)}Mi.prototype=Object.assign(Object.create(pn.prototype),{constructor:Mi,isArrayCamera:!0}),Si.prototype=Object.assign(Object.create(Gt.prototype),{constructor:Si,isGroup:!0}),Object.assign(Ti.prototype,{constructor:Ti,getHandSpace:function(){if(null===this._hand&&(this._hand=new Si,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints=[],this._hand.inputState={pinching:!1},window.XRHand))for(var t=0;t<=window.XRHand.LITTLE_PHALANX_TIP;t++){var e=new Si;e.matrixAutoUpdate=!1,e.visible=!1,this._hand.joints.push(e),this._hand.add(e)}return this._hand},getTargetRaySpace:function(){return null===this._targetRay&&(this._targetRay=new Si,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return null===this._grip&&(this._grip=new Si,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(t){return null!==this._targetRay&&this._targetRay.dispatchEvent(t),null!==this._grip&&this._grip.dispatchEvent(t),null!==this._hand&&this._hand.dispatchEvent(t),this},disconnect:function(t){return this.dispatchEvent({type:"disconnected",data:t}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this},update:function(t,e,n){var r=null,o=null,c=null,l=this._targetRay,h=this._grip,d=this._hand;if(t)if(d&&t.hand){c=!0;for(var f=0;f<=window.XRHand.LITTLE_PHALANX_TIP;f++)if(t.hand[f]){var m=e.getJointPose(t.hand[f],n),v=d.joints[f];null!==m&&(v.matrix.fromArray(m.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.jointRadius=m.radius),v.visible=null!==m;var y=d.joints[window.XRHand.INDEX_PHALANX_TIP],_=d.joints[window.XRHand.THUMB_PHALANX_TIP],x=y.position.distanceTo(_.position);d.inputState.pinching&&x>.025?(d.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!d.inputState.pinching&&x<=.015&&(d.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}}else null!==l&&null!==(r=e.getPose(t.targetRaySpace,n))&&(l.matrix.fromArray(r.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale)),null!==h&&t.gripSpace&&null!==(o=e.getPose(t.gripSpace,n))&&(h.matrix.fromArray(o.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale));return null!==l&&(l.visible=null!==r),null!==h&&(h.visible=null!==o),null!==d&&(d.visible=null!==c),this}}),Object.assign(Di.prototype,O.prototype),Ai.prototype=Object.assign(Object.create(Ci.prototype),{constructor:Ai,isWebGL1Renderer:!0});var ki=function(t){Object(d.a)(n,t);var e=_(n);function n(){var t;return Object(v.a)(this,n),t=e.call(this),Object.defineProperty(Object(h.a)(t),"isScene",{value:!0}),t.type="Scene",t.background=null,t.environment=null,t.fog=null,t.overrideMaterial=null,t.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:Object(h.a)(t)})),t}return Object(y.a)(n,[{key:"copy",value:function(source,t){return Object(c.a)(Object(m.a)(n.prototype),"copy",this).call(this,source,t),null!==source.background&&(this.background=source.background.clone()),null!==source.environment&&(this.environment=source.environment.clone()),null!==source.fog&&(this.fog=source.fog.clone()),null!==source.overrideMaterial&&(this.overrideMaterial=source.overrideMaterial.clone()),this.autoUpdate=source.autoUpdate,this.matrixAutoUpdate=source.matrixAutoUpdate,this}},{key:"toJSON",value:function(meta){var data=Object(c.a)(Object(m.a)(n.prototype),"toJSON",this).call(this,meta);return null!==this.background&&(data.object.background=this.background.toJSON(meta)),null!==this.environment&&(data.object.environment=this.environment.toJSON(meta)),null!==this.fog&&(data.object.fog=this.fog.toJSON()),data}}]),n}(Gt);function Pi(t,e){this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=P.generateUUID()}Object.defineProperty(Pi.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(Pi.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(t){return this.usage=t,this},copy:function(source){return this.array=new source.array.constructor(source.array),this.count=source.count,this.stride=source.stride,this.usage=source.usage,this},copyAt:function(t,e,n){t*=this.stride,n*=e.stride;for(var r=0,o=this.stride;r<o;r++)this.array[t+r]=e.array[n+r];return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},clone:function(data){void 0===data.arrayBuffers&&(data.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=P.generateUUID()),void 0===data.arrayBuffers[this.array.buffer._uuid]&&(data.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);var t=new Pi(new this.array.constructor(data.arrayBuffers[this.array.buffer._uuid]),this.stride);return t.setUsage(this.usage),t},onUpload:function(t){return this.onUploadCallback=t,this},toJSON:function(data){return void 0===data.arrayBuffers&&(data.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=P.generateUUID()),void 0===data.arrayBuffers[this.array.buffer._uuid]&&(data.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});var ji,Li=new z;function Ii(t,e,n,r){this.name="",this.data=t,this.itemSize=e,this.offset=n,this.normalized=!0===r}function Ri(t){me.call(this),this.type="SpriteMaterial",this.color=new pe(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(t)}Object.defineProperties(Ii.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}},needsUpdate:{set:function(t){this.data.needsUpdate=t}}}),Object.assign(Ii.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(t){for(var e=0,n=this.data.count;e<n;e++)Li.x=this.getX(e),Li.y=this.getY(e),Li.z=this.getZ(e),Li.applyMatrix4(t),this.setXYZ(e,Li.x,Li.y,Li.z);return this},setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this},setXYZ:function(t,e,n,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this},setXYZW:function(t,e,n,r,o){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this.data.array[t+3]=o,this},clone:function(data){if(void 0===data){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");for(var t=[],e=0;e<this.count;e++)for(var n=e*this.data.stride+this.offset,r=0;r<this.itemSize;r++)t.push(this.data.array[n+r]);return new _e(new this.array.constructor(t),this.itemSize,this.normalized)}return void 0===data.interleavedBuffers&&(data.interleavedBuffers={}),void 0===data.interleavedBuffers[this.data.uuid]&&(data.interleavedBuffers[this.data.uuid]=this.data.clone(data)),new Ii(data.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)},toJSON:function(data){if(void 0===data){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");for(var t=[],e=0;e<this.count;e++)for(var n=e*this.data.stride+this.offset,r=0;r<this.itemSize;r++)t.push(this.data.array[n+r]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===data.interleavedBuffers&&(data.interleavedBuffers={}),void 0===data.interleavedBuffers[this.data.uuid]&&(data.interleavedBuffers[this.data.uuid]=this.data.toJSON(data)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}),Ri.prototype=Object.create(me.prototype),Ri.prototype.constructor=Ri,Ri.prototype.isSpriteMaterial=!0,Ri.prototype.copy=function(source){return me.prototype.copy.call(this,source),this.color.copy(source.color),this.map=source.map,this.alphaMap=source.alphaMap,this.rotation=source.rotation,this.sizeAttenuation=source.sizeAttenuation,this};var Ni=new z,Fi=new z,Bi=new z,Ui=new j,Vi=new j,zi=new _t,Hi=new z,Gi=new z,Wi=new z,qi=new j,$i=new j,Qi=new j;function Xi(t){if(Gt.call(this),this.type="Sprite",void 0===ji){ji=new Fe;var e=new Pi(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);ji.setIndex([0,1,2,0,2,3]),ji.setAttribute("position",new Ii(e,3,0,!1)),ji.setAttribute("uv",new Ii(e,2,3,!1))}this.geometry=ji,this.material=void 0!==t?t:new Ri,this.center=new j(.5,.5)}function Yi(t,e,n,r,o,c){Ui.subVectors(t,n).addScalar(.5).multiply(r),void 0!==o?(Vi.x=c*Ui.x-o*Ui.y,Vi.y=o*Ui.x+c*Ui.y):Vi.copy(Ui),t.copy(e),t.x+=Vi.x,t.y+=Vi.y,t.applyMatrix4(zi)}Xi.prototype=Object.assign(Object.create(Gt.prototype),{constructor:Xi,isSprite:!0,raycast:function(t,e){null===t.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Fi.setFromMatrixScale(this.matrixWorld),zi.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),Bi.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Fi.multiplyScalar(-Bi.z);var n,r,o=this.material.rotation;0!==o&&(r=Math.cos(o),n=Math.sin(o));var c=this.center;Yi(Hi.set(-.5,-.5,0),Bi,c,Fi,n,r),Yi(Gi.set(.5,-.5,0),Bi,c,Fi,n,r),Yi(Wi.set(.5,.5,0),Bi,c,Fi,n,r),qi.set(0,0),$i.set(1,0),Qi.set(1,1);var l=t.ray.intersectTriangle(Hi,Gi,Wi,!1,Ni);if(null!==l||(Yi(Gi.set(-.5,.5,0),Bi,c,Fi,n,r),$i.set(0,1),null!==(l=t.ray.intersectTriangle(Hi,Wi,Gi,!1,Ni)))){var h=t.ray.origin.distanceTo(Ni);h<t.near||h>t.far||e.push({distance:h,point:Ni.clone(),uv:oe.getUV(Ni,Hi,Gi,Wi,qi,$i,Qi,new j),face:null,object:this})}},copy:function(source){return Gt.prototype.copy.call(this,source),void 0!==source.center&&this.center.copy(source.center),this.material=source.material,this}});var Ki,Ji,Zi,to,eo,no=new z,ro=new z;function io(){Gt.call(this),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}function oo(t,e){t&&t.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),nn.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new _t,this.bindMatrixInverse=new _t}io.prototype=Object.assign(Object.create(Gt.prototype),{constructor:io,isLOD:!0,copy:function(source){Gt.prototype.copy.call(this,source,!1);for(var t=source.levels,e=0,n=t.length;e<n;e++){var r=t[e];this.addLevel(r.object.clone(),r.distance)}return this.autoUpdate=source.autoUpdate,this},addLevel:function(object,t){void 0===t&&(t=0),t=Math.abs(t);var e,n=this.levels;for(e=0;e<n.length&&!(t<n[e].distance);e++);return n.splice(e,0,{distance:t,object:object}),this.add(object),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(t){var e=this.levels;if(e.length>0){var n,r;for(n=1,r=e.length;n<r&&!(t<e[n].distance);n++);return e[n-1].object}return null},raycast:function(t,e){if(this.levels.length>0){no.setFromMatrixPosition(this.matrixWorld);var n=t.ray.origin.distanceTo(no);this.getObjectForDistance(n).raycast(t,e)}},update:function(t){var e=this.levels;if(e.length>1){no.setFromMatrixPosition(t.matrixWorld),ro.setFromMatrixPosition(this.matrixWorld);var n,r,o=no.distanceTo(ro)/t.zoom;for(e[0].object.visible=!0,n=1,r=e.length;n<r&&o>=e[n].distance;n++)e[n-1].object.visible=!1,e[n].object.visible=!0;for(this._currentLevel=n-1;n<r;n++)e[n].object.visible=!1}},toJSON:function(meta){var data=Gt.prototype.toJSON.call(this,meta);!1===this.autoUpdate&&(data.object.autoUpdate=!1),data.object.levels=[];for(var t=this.levels,e=0,n=t.length;e<n;e++){var r=t[e];data.object.levels.push({object:r.object.uuid,distance:r.distance})}return data}}),oo.prototype=Object.assign(Object.create(nn.prototype),{constructor:oo,isSkinnedMesh:!0,copy:function(source){return nn.prototype.copy.call(this,source),this.bindMode=source.bindMode,this.bindMatrix.copy(source.bindMatrix),this.bindMatrixInverse.copy(source.bindMatrixInverse),this.skeleton=source.skeleton,this},bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var t=new F,e=this.geometry.attributes.skinWeight,n=0,r=e.count;n<r;n++){t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.w=e.getW(n);var o=1/t.manhattanLength();o!==1/0?t.multiplyScalar(o):t.set(1,0,0,0),e.setXYZW(n,t.x,t.y,t.z,t.w)}},updateMatrixWorld:function(t){nn.prototype.updateMatrixWorld.call(this,t),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:(Ki=new z,Ji=new F,Zi=new F,to=new z,eo=new _t,function(t,e){var n=this.skeleton,r=this.geometry;Ji.fromBufferAttribute(r.attributes.skinIndex,t),Zi.fromBufferAttribute(r.attributes.skinWeight,t),Ki.fromBufferAttribute(r.attributes.position,t).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(var o=0;o<4;o++){var c=Zi.getComponent(o);if(0!==c){var l=Ji.getComponent(o);eo.multiplyMatrices(n.bones[l].matrixWorld,n.boneInverses[l]),e.addScaledVector(to.copy(Ki).applyMatrix4(eo),c)}}return e.applyMatrix4(this.bindMatrixInverse)})});var ao=new _t,so=new _t;function uo(t,e){if(t=t||[],this.bones=t.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),this.frame=-1,void 0===e)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new _t)}}function co(){Gt.call(this),this.type="Bone"}Object.assign(uo.prototype,{calculateInverses:function(){this.boneInverses=[];for(var t=0,e=this.bones.length;t<e;t++){var n=new _t;this.bones[t]&&n.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(n)}},pose:function(){for(var t=0,e=this.bones.length;t<e;t++){var n=this.bones[t];n&&n.matrixWorld.getInverse(this.boneInverses[t])}for(var r=0,o=this.bones.length;r<o;r++){var c=this.bones[r];c&&(c.parent&&c.parent.isBone?(c.matrix.getInverse(c.parent.matrixWorld),c.matrix.multiply(c.matrixWorld)):c.matrix.copy(c.matrixWorld),c.matrix.decompose(c.position,c.quaternion,c.scale))}},update:function(){for(var t=this.bones,e=this.boneInverses,n=this.boneMatrices,r=this.boneTexture,o=0,c=t.length;o<c;o++){var l=t[o]?t[o].matrixWorld:so;ao.multiplyMatrices(l,e[o]),ao.toArray(n,16*o)}void 0!==r&&(r.needsUpdate=!0)},clone:function(){return new uo(this.bones,this.boneInverses)},getBoneByName:function(t){for(var e=0,n=this.bones.length;e<n;e++){var r=this.bones[e];if(r.name===t)return r}},dispose:function(){this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=void 0)}}),co.prototype=Object.assign(Object.create(Gt.prototype),{constructor:co,isBone:!0});var lo=new _t,ho=new _t,po=[],fo=new nn;function mo(t,e,n){nn.call(this,t,e),this.instanceMatrix=new _e(new Float32Array(16*n),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1}function vo(t){me.call(this),this.type="LineBasicMaterial",this.color=new pe(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(t)}mo.prototype=Object.assign(Object.create(nn.prototype),{constructor:mo,isInstancedMesh:!0,copy:function(source){return nn.prototype.copy.call(this,source),this.instanceMatrix.copy(source.instanceMatrix),this.count=source.count,this},setColorAt:function(t,e){null===this.instanceColor&&(this.instanceColor=new _e(new Float32Array(3*this.count),3)),e.toArray(this.instanceColor.array,3*t)},getMatrixAt:function(t,e){e.fromArray(this.instanceMatrix.array,16*t)},raycast:function(t,e){var n=this.matrixWorld,r=this.count;if(fo.geometry=this.geometry,fo.material=this.material,void 0!==fo.material)for(var o=0;o<r;o++){this.getMatrixAt(o,lo),ho.multiplyMatrices(n,lo),fo.matrixWorld=ho,fo.raycast(t,po);for(var c=0,l=po.length;c<l;c++){var h=po[c];h.instanceId=o,h.object=this,e.push(h)}po.length=0}},setMatrixAt:function(t,e){e.toArray(this.instanceMatrix.array,16*t)},updateMorphTargets:function(){}}),vo.prototype=Object.create(me.prototype),vo.prototype.constructor=vo,vo.prototype.isLineBasicMaterial=!0,vo.prototype.copy=function(source){return me.prototype.copy.call(this,source),this.color.copy(source.color),this.linewidth=source.linewidth,this.linecap=source.linecap,this.linejoin=source.linejoin,this.morphTargets=source.morphTargets,this};var go=new z,yo=new z,_o=new _t,bo=new yt,xo=new ct;function wo(t,e,n){1===n&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),Gt.call(this),this.type="Line",this.geometry=void 0!==t?t:new Fe,this.material=void 0!==e?e:new vo,this.updateMorphTargets()}wo.prototype=Object.assign(Object.create(Gt.prototype),{constructor:wo,isLine:!0,copy:function(source){return Gt.prototype.copy.call(this,source),this.material=source.material,this.geometry=source.geometry,this},computeLineDistances:function(){var t=this.geometry;if(t.isBufferGeometry)if(null===t.index){for(var e=t.attributes.position,n=[0],r=1,o=e.count;r<o;r++)go.fromBufferAttribute(e,r-1),yo.fromBufferAttribute(e,r),n[r]=n[r-1],n[r]+=go.distanceTo(yo);t.setAttribute("lineDistance",new De(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(t.isGeometry){var c=t.vertices,l=t.lineDistances;l[0]=0;for(var h=1,d=c.length;h<d;h++)l[h]=l[h-1],l[h]+=c[h-1].distanceTo(c[h])}return this},raycast:function(t,e){var n=this.geometry,r=this.matrixWorld,o=t.params.Line.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),xo.copy(n.boundingSphere),xo.applyMatrix4(r),xo.radius+=o,!1!==t.ray.intersectsSphere(xo)){_o.getInverse(r),bo.copy(t.ray).applyMatrix4(_o);var c=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=c*c,h=new z,d=new z,f=new z,m=new z,v=this.isLineSegments?2:1;if(n.isBufferGeometry){var y=n.index,_=n.attributes.position;if(null!==y)for(var x=y.array,w=0,E=x.length-1;w<E;w+=v){var a=x[w],b=x[w+1];if(h.fromBufferAttribute(_,a),d.fromBufferAttribute(_,b),!(bo.distanceSqToSegment(h,d,m,f)>l)){m.applyMatrix4(this.matrixWorld);var M=t.ray.origin.distanceTo(m);M<t.near||M>t.far||e.push({distance:M,point:f.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}else for(var S=0,T=_.count-1;S<T;S+=v){if(h.fromBufferAttribute(_,S),d.fromBufferAttribute(_,S+1),!(bo.distanceSqToSegment(h,d,m,f)>l)){m.applyMatrix4(this.matrixWorld);var D=t.ray.origin.distanceTo(m);D<t.near||D>t.far||e.push({distance:D,point:f.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}}else if(n.isGeometry)for(var O=n.vertices,C=O.length,A=0;A<C-1;A+=v){if(!(bo.distanceSqToSegment(O[A],O[A+1],m,f)>l)){m.applyMatrix4(this.matrixWorld);var k=t.ray.origin.distanceTo(m);k<t.near||k>t.far||e.push({distance:k,point:f.clone().applyMatrix4(this.matrixWorld),index:A,face:null,faceIndex:null,object:this})}}}},updateMorphTargets:function(){var t=this.geometry;if(t.isBufferGeometry){var e=t.morphAttributes,n=Object.keys(e);if(n.length>0){var r=e[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var o=0,c=r.length;o<c;o++){var l=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=o}}}}else{var h=t.morphTargets;void 0!==h&&h.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});var Eo=new z,Mo=new z;function So(t,e){wo.call(this,t,e),this.type="LineSegments"}function To(t,e){wo.call(this,t,e),this.type="LineLoop"}function Do(t){me.call(this),this.type="PointsMaterial",this.color=new pe(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(t)}So.prototype=Object.assign(Object.create(wo.prototype),{constructor:So,isLineSegments:!0,computeLineDistances:function(){var t=this.geometry;if(t.isBufferGeometry)if(null===t.index){for(var e=t.attributes.position,n=[],r=0,o=e.count;r<o;r+=2)Eo.fromBufferAttribute(e,r),Mo.fromBufferAttribute(e,r+1),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+Eo.distanceTo(Mo);t.setAttribute("lineDistance",new De(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(t.isGeometry)for(var c=t.vertices,l=t.lineDistances,h=0,d=c.length;h<d;h+=2)Eo.copy(c[h]),Mo.copy(c[h+1]),l[h]=0===h?0:l[h-1],l[h+1]=l[h]+Eo.distanceTo(Mo);return this}}),To.prototype=Object.assign(Object.create(wo.prototype),{constructor:To,isLineLoop:!0}),Do.prototype=Object.create(me.prototype),Do.prototype.constructor=Do,Do.prototype.isPointsMaterial=!0,Do.prototype.copy=function(source){return me.prototype.copy.call(this,source),this.color.copy(source.color),this.map=source.map,this.alphaMap=source.alphaMap,this.size=source.size,this.sizeAttenuation=source.sizeAttenuation,this.morphTargets=source.morphTargets,this};var Oo=new _t,Co=new yt,Ao=new ct,ko=new z;function Po(t,e){Gt.call(this),this.type="Points",this.geometry=void 0!==t?t:new Fe,this.material=void 0!==e?e:new Do,this.updateMorphTargets()}function jo(t,e,n,r,o,c,object){var l=Co.distanceSqToPoint(t);if(l<n){var h=new z;Co.closestPointToPoint(t,h),h.applyMatrix4(r);var d=o.ray.origin.distanceTo(h);if(d<o.near||d>o.far)return;c.push({distance:d,distanceToRay:Math.sqrt(l),point:h,index:e,face:null,object:object})}}function Lo(video,t,e,n,r,o,c,l,h){N.call(this,video,t,e,n,r,o,c,l,h),this.format=void 0!==c?c:1022,this.minFilter=void 0!==o?o:T,this.magFilter=void 0!==r?r:T,this.generateMipmaps=!1;var d=this;"requestVideoFrameCallback"in video&&video.requestVideoFrameCallback((function t(){d.needsUpdate=!0,video.requestVideoFrameCallback(t)}))}function Io(t,e,n,r,o,c,l,h,d,f,m,v){N.call(this,null,c,l,h,d,f,r,o,m,v),this.image={width:e,height:n},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function Ro(canvas,t,e,n,r,o,c,l,h){N.call(this,canvas,t,e,n,r,o,c,l,h),this.needsUpdate=!0}function No(t,e,n,r,o,c,l,h,d,f){if(1026!==(f=void 0!==f?f:1026)&&1027!==f)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&1026===f&&(n=1012),void 0===n&&1027===f&&(n=1020),N.call(this,null,r,o,c,l,h,f,n,d),this.image={width:t,height:e},this.magFilter=void 0!==l?l:1003,this.minFilter=void 0!==h?h:1003,this.flipY=!1,this.generateMipmaps=!1}Po.prototype=Object.assign(Object.create(Gt.prototype),{constructor:Po,isPoints:!0,copy:function(source){return Gt.prototype.copy.call(this,source),this.material=source.material,this.geometry=source.geometry,this},raycast:function(t,e){var n=this.geometry,r=this.matrixWorld,o=t.params.Points.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),Ao.copy(n.boundingSphere),Ao.applyMatrix4(r),Ao.radius+=o,!1!==t.ray.intersectsSphere(Ao)){Oo.getInverse(r),Co.copy(t.ray).applyMatrix4(Oo);var c=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=c*c;if(n.isBufferGeometry){var h=n.index,d=n.attributes.position;if(null!==h)for(var f=h.array,m=0,v=f.length;m<v;m++){var a=f[m];ko.fromBufferAttribute(d,a),jo(ko,a,l,r,t,e,this)}else for(var y=0,_=d.count;y<_;y++)ko.fromBufferAttribute(d,y),jo(ko,y,l,r,t,e,this)}else for(var x=n.vertices,w=0,E=x.length;w<E;w++)jo(x[w],w,l,r,t,e,this)}},updateMorphTargets:function(){var t=this.geometry;if(t.isBufferGeometry){var e=t.morphAttributes,n=Object.keys(e);if(n.length>0){var r=e[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var o=0,c=r.length;o<c;o++){var l=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=o}}}}else{var h=t.morphTargets;void 0!==h&&h.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}),Lo.prototype=Object.assign(Object.create(N.prototype),{constructor:Lo,clone:function(){return new this.constructor(this.image).copy(this)},isVideoTexture:!0,update:function(){var video=this.image;!1==="requestVideoFrameCallback"in video&&video.readyState>=video.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),Io.prototype=Object.create(N.prototype),Io.prototype.constructor=Io,Io.prototype.isCompressedTexture=!0,Ro.prototype=Object.create(N.prototype),Ro.prototype.constructor=Ro,Ro.prototype.isCanvasTexture=!0,No.prototype=Object.create(N.prototype),No.prototype.constructor=No,No.prototype.isDepthTexture=!0;var Fo=0,Bo=new _t,Uo=new Gt,Vo=new z;function zo(){Object.defineProperty(this,"id",{value:Fo+=2}),this.uuid=P.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}zo.prototype=Object.assign(Object.create(O.prototype),{constructor:zo,isGeometry:!0,applyMatrix4:function(t){for(var e=(new L).getNormalMatrix(t),n=0,r=this.vertices.length;n<r;n++){this.vertices[n].applyMatrix4(t)}for(var o=0,c=this.faces.length;o<c;o++){var l=this.faces[o];l.normal.applyMatrix3(e).normalize();for(var h=0,d=l.vertexNormals.length;h<d;h++)l.vertexNormals[h].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(t){return Bo.makeRotationX(t),this.applyMatrix4(Bo),this},rotateY:function(t){return Bo.makeRotationY(t),this.applyMatrix4(Bo),this},rotateZ:function(t){return Bo.makeRotationZ(t),this.applyMatrix4(Bo),this},translate:function(t,e,n){return Bo.makeTranslation(t,e,n),this.applyMatrix4(Bo),this},scale:function(t,e,n){return Bo.makeScale(t,e,n),this.applyMatrix4(Bo),this},lookAt:function(t){return Uo.lookAt(t),Uo.updateMatrix(),this.applyMatrix4(Uo.matrix),this},fromBufferGeometry:function(t){var e=this,n=null!==t.index?t.index:void 0,r=t.attributes;if(void 0===r.position)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;var o=r.position,c=r.normal,l=r.color,h=r.uv,d=r.uv2;void 0!==d&&(this.faceVertexUvs[1]=[]);for(var f=0;f<o.count;f++)e.vertices.push((new z).fromBufferAttribute(o,f)),void 0!==l&&e.colors.push((new pe).fromBufferAttribute(l,f));function m(a,b,t,n){var r=void 0===l?[]:[e.colors[a].clone(),e.colors[b].clone(),e.colors[t].clone()],o=void 0===c?[]:[(new z).fromBufferAttribute(c,a),(new z).fromBufferAttribute(c,b),(new z).fromBufferAttribute(c,t)],f=new de(a,b,t,o,r,n);e.faces.push(f),void 0!==h&&e.faceVertexUvs[0].push([(new j).fromBufferAttribute(h,a),(new j).fromBufferAttribute(h,b),(new j).fromBufferAttribute(h,t)]),void 0!==d&&e.faceVertexUvs[1].push([(new j).fromBufferAttribute(d,a),(new j).fromBufferAttribute(d,b),(new j).fromBufferAttribute(d,t)])}var v=t.groups;if(v.length>0)for(var y=0;y<v.length;y++)for(var _=v[y],x=_.start,w=x,E=x+_.count;w<E;w+=3)void 0!==n?m(n.getX(w),n.getX(w+1),n.getX(w+2),_.materialIndex):m(w,w+1,w+2,_.materialIndex);else if(void 0!==n)for(var M=0;M<n.count;M+=3)m(n.getX(M),n.getX(M+1),n.getX(M+2));else for(var S=0;S<o.count;S+=3)m(S,S+1,S+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Vo).negate(),this.translate(Vo.x,Vo.y,Vo.z),this},normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,e=this.boundingSphere.radius,s=0===e?1:1/e,n=new _t;return n.set(s,0,0,-s*t.x,0,s,0,-s*t.y,0,0,s,-s*t.z,0,0,0,1),this.applyMatrix4(n),this},computeFaceNormals:function(){for(var t=new z,e=new z,n=0,r=this.faces.length;n<r;n++){var o=this.faces[n],c=this.vertices[o.a],l=this.vertices[o.b],h=this.vertices[o.c];t.subVectors(h,l),e.subVectors(c,l),t.cross(e),t.normalize(),o.normal.copy(t)}},computeVertexNormals:function(t){void 0===t&&(t=!0);for(var e=new Array(this.vertices.length),n=0,r=this.vertices.length;n<r;n++)e[n]=new z;if(t)for(var o=new z,c=new z,l=0,h=this.faces.length;l<h;l++){var d=this.faces[l],f=this.vertices[d.a],m=this.vertices[d.b],v=this.vertices[d.c];o.subVectors(v,m),c.subVectors(f,m),o.cross(c),e[d.a].add(o),e[d.b].add(o),e[d.c].add(o)}else{this.computeFaceNormals();for(var y=0,_=this.faces.length;y<_;y++){var x=this.faces[y];e[x.a].add(x.normal),e[x.b].add(x.normal),e[x.c].add(x.normal)}}for(var w=0,E=this.vertices.length;w<E;w++)e[w].normalize();for(var M=0,S=this.faces.length;M<S;M++){var T=this.faces[M],D=T.vertexNormals;3===D.length?(D[0].copy(e[T.a]),D[1].copy(e[T.b]),D[2].copy(e[T.c])):(D[0]=e[T.a].clone(),D[1]=e[T.b].clone(),D[2]=e[T.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){this.computeFaceNormals();for(var t=0,e=this.faces.length;t<e;t++){var n=this.faces[t],r=n.vertexNormals;3===r.length?(r[0].copy(n.normal),r[1].copy(n.normal),r[2].copy(n.normal)):(r[0]=n.normal.clone(),r[1]=n.normal.clone(),r[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){for(var t=0,e=this.faces.length;t<e;t++){var n=this.faces[t];n.__originalFaceNormal?n.__originalFaceNormal.copy(n.normal):n.__originalFaceNormal=n.normal.clone(),n.__originalVertexNormals||(n.__originalVertexNormals=[]);for(var r=0,o=n.vertexNormals.length;r<o;r++)n.__originalVertexNormals[r]?n.__originalVertexNormals[r].copy(n.vertexNormals[r]):n.__originalVertexNormals[r]=n.vertexNormals[r].clone()}var c=new zo;c.faces=this.faces;for(var l=0,h=this.morphTargets.length;l<h;l++){if(!this.morphNormals[l]){this.morphNormals[l]={},this.morphNormals[l].faceNormals=[],this.morphNormals[l].vertexNormals=[];for(var d=this.morphNormals[l].faceNormals,f=this.morphNormals[l].vertexNormals,m=0,v=this.faces.length;m<v;m++){var y=new z,_={a:new z,b:new z,c:new z};d.push(y),f.push(_)}}var x=this.morphNormals[l];c.vertices=this.morphTargets[l].vertices,c.computeFaceNormals(),c.computeVertexNormals();for(var w=0,E=this.faces.length;w<E;w++){var M=this.faces[w],S=x.faceNormals[w],T=x.vertexNormals[w];S.copy(M.normal),T.a.copy(M.vertexNormals[0]),T.b.copy(M.vertexNormals[1]),T.c.copy(M.vertexNormals[2])}}for(var D=0,O=this.faces.length;D<O;D++){var C=this.faces[D];C.normal=C.__originalFaceNormal,C.vertexNormals=C.__originalVertexNormals}},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new W),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new ct),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,n){if(t&&t.isGeometry){var r,o=this.vertices.length,c=this.vertices,l=t.vertices,h=this.faces,d=t.faces,f=this.colors,m=t.colors;void 0===n&&(n=0),void 0!==e&&(r=(new L).getNormalMatrix(e));for(var v=0,y=l.length;v<y;v++){var _=l[v].clone();void 0!==e&&_.applyMatrix4(e),c.push(_)}for(var x=0,w=m.length;x<w;x++)f.push(m[x].clone());for(var E=0,M=d.length;E<M;E++){var S=d[E],T=void 0,D=void 0,O=S.vertexNormals,C=S.vertexColors,A=new de(S.a+o,S.b+o,S.c+o);A.normal.copy(S.normal),void 0!==r&&A.normal.applyMatrix3(r).normalize();for(var k=0,P=O.length;k<P;k++)T=O[k].clone(),void 0!==r&&T.applyMatrix3(r).normalize(),A.vertexNormals.push(T);A.color.copy(S.color);for(var j=0,I=C.length;j<I;j++)D=C[j],A.vertexColors.push(D.clone());A.materialIndex=S.materialIndex+n,h.push(A)}for(var R=0,N=t.faceVertexUvs.length;R<N;R++){var F=t.faceVertexUvs[R];void 0===this.faceVertexUvs[R]&&(this.faceVertexUvs[R]=[]);for(var B=0,U=F.length;B<U;B++){for(var V=F[B],z=[],H=0,G=V.length;H<G;H++)z.push(V[H].clone());this.faceVertexUvs[R].push(z)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",t)},mergeMesh:function(t){t&&t.isMesh?(t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",t)},mergeVertices:function(){for(var t={},e=[],n=[],r=Math.pow(10,4),o=0,c=this.vertices.length;o<c;o++){var l=this.vertices[o],h=Math.round(l.x*r)+"_"+Math.round(l.y*r)+"_"+Math.round(l.z*r);void 0===t[h]?(t[h]=o,e.push(this.vertices[o]),n[o]=e.length-1):n[o]=n[t[h]]}for(var d=[],f=0,m=this.faces.length;f<m;f++){var v=this.faces[f];v.a=n[v.a],v.b=n[v.b],v.c=n[v.c];for(var y=[v.a,v.b,v.c],_=0;_<3;_++)if(y[_]===y[(_+1)%3]){d.push(f);break}}for(var x=d.length-1;x>=0;x--){var w=d[x];this.faces.splice(w,1);for(var E=0,M=this.faceVertexUvs.length;E<M;E++)this.faceVertexUvs[E].splice(w,1)}var S=this.vertices.length-e.length;return this.vertices=e,S},setFromPoints:function(t){this.vertices=[];for(var e=0,n=t.length;e<n;e++){var r=t[e];this.vertices.push(new z(r.x,r.y,r.z||0))}return this},sortFacesByMaterialIndex:function(){for(var t=this.faces,e=t.length,n=0;n<e;n++)t[n]._id=n;t.sort((function(a,b){return a.materialIndex-b.materialIndex}));var r,o,c=this.faceVertexUvs[0],l=this.faceVertexUvs[1];c&&c.length===e&&(r=[]),l&&l.length===e&&(o=[]);for(var h=0;h<e;h++){var d=t[h]._id;r&&r.push(c[d]),o&&o.push(l[d])}r&&(this.faceVertexUvs[0]=r),o&&(this.faceVertexUvs[1]=o)},toJSON:function(){var data={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(data.uuid=this.uuid,data.type=this.type,""!==this.name&&(data.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var e in t)void 0!==t[e]&&(data[e]=t[e]);return data}for(var n=[],r=0;r<this.vertices.length;r++){var o=this.vertices[r];n.push(o.x,o.y,o.z)}for(var c=[],l=[],h={},d=[],f={},m=[],v={},y=0;y<this.faces.length;y++){var _=this.faces[y],x=void 0!==this.faceVertexUvs[0][y],w=_.normal.length()>0,E=_.vertexNormals.length>0,M=1!==_.color.r||1!==_.color.g||1!==_.color.b,S=_.vertexColors.length>0,T=0;if(T=A(T,0,0),T=A(T,1,!0),T=A(T,2,!1),T=A(T,3,x),T=A(T,4,w),T=A(T,5,E),T=A(T,6,M),T=A(T,7,S),c.push(T),c.push(_.a,_.b,_.c),c.push(_.materialIndex),x){var D=this.faceVertexUvs[0][y];c.push(j(D[0]),j(D[1]),j(D[2]))}if(w&&c.push(k(_.normal)),E){var O=_.vertexNormals;c.push(k(O[0]),k(O[1]),k(O[2]))}if(M&&c.push(P(_.color)),S){var C=_.vertexColors;c.push(P(C[0]),P(C[1]),P(C[2]))}}function A(t,e,n){return n?t|1<<e:t&~(1<<e)}function k(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==h[e]||(h[e]=l.length/3,l.push(t.x,t.y,t.z)),h[e]}function P(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==f[e]||(f[e]=d.length,d.push(t.getHex())),f[e]}function j(t){var e=t.x.toString()+t.y.toString();return void 0!==v[e]||(v[e]=m.length/2,m.push(t.x,t.y)),v[e]}return data.data={},data.data.vertices=n,data.data.normals=l,d.length>0&&(data.data.colors=d),m.length>0&&(data.data.uvs=[m]),data.data.faces=c,data},clone:function(){return(new zo).copy(this)},copy:function(source){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=source.name;for(var t=source.vertices,e=0,n=t.length;e<n;e++)this.vertices.push(t[e].clone());for(var r=source.colors,o=0,c=r.length;o<c;o++)this.colors.push(r[o].clone());for(var l=source.faces,h=0,d=l.length;h<d;h++)this.faces.push(l[h].clone());for(var f=0,m=source.faceVertexUvs.length;f<m;f++){var v=source.faceVertexUvs[f];void 0===this.faceVertexUvs[f]&&(this.faceVertexUvs[f]=[]);for(var y=0,_=v.length;y<_;y++){for(var x=v[y],w=[],E=0,M=x.length;E<M;E++){var S=x[E];w.push(S.clone())}this.faceVertexUvs[f].push(w)}}for(var T=source.morphTargets,D=0,O=T.length;D<O;D++){var C={};if(C.name=T[D].name,void 0!==T[D].vertices){C.vertices=[];for(var A=0,k=T[D].vertices.length;A<k;A++)C.vertices.push(T[D].vertices[A].clone())}if(void 0!==T[D].normals){C.normals=[];for(var P=0,j=T[D].normals.length;P<j;P++)C.normals.push(T[D].normals[P].clone())}this.morphTargets.push(C)}for(var L=source.morphNormals,I=0,R=L.length;I<R;I++){var N={};if(void 0!==L[I].vertexNormals){N.vertexNormals=[];for(var F=0,B=L[I].vertexNormals.length;F<B;F++){var U=L[I].vertexNormals[F],V={};V.a=U.a.clone(),V.b=U.b.clone(),V.c=U.c.clone(),N.vertexNormals.push(V)}}if(void 0!==L[I].faceNormals){N.faceNormals=[];for(var z=0,H=L[I].faceNormals.length;z<H;z++)N.faceNormals.push(L[I].faceNormals[z].clone())}this.morphNormals.push(N)}for(var G=source.skinWeights,W=0,$=G.length;W<$;W++)this.skinWeights.push(G[W].clone());for(var Q=source.skinIndices,X=0,Y=Q.length;X<Y;X++)this.skinIndices.push(Q[X].clone());for(var K=source.lineDistances,J=0,Z=K.length;J<Z;J++)this.lineDistances.push(K[J]);var tt=source.boundingBox;null!==tt&&(this.boundingBox=tt.clone());var et=source.boundingSphere;return null!==et&&(this.boundingSphere=et.clone()),this.elementsNeedUpdate=source.elementsNeedUpdate,this.verticesNeedUpdate=source.verticesNeedUpdate,this.uvsNeedUpdate=source.uvsNeedUpdate,this.normalsNeedUpdate=source.normalsNeedUpdate,this.colorsNeedUpdate=source.colorsNeedUpdate,this.lineDistancesNeedUpdate=source.lineDistancesNeedUpdate,this.groupsNeedUpdate=source.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});new z,new z,new z,new oe;var Ho=function(data,t,e){e=e||2;var n,r,o,c,l,h,d,f=t&&t.length,m=f?t[0]*e:data.length,v=Go(data,0,m,e,!0),y=[];if(!v||v.next===v.prev)return y;if(f&&(v=function(data,t,e,n){var i,r,o,c,l,h=[];for(i=0,r=t.length;i<r;i++)o=t[i]*n,c=i<r-1?t[i+1]*n:data.length,(l=Go(data,o,c,n,!1))===l.next&&(l.steiner=!0),h.push(ea(l));for(h.sort(Ko),i=0;i<h.length;i++)Jo(h[i],e),e=Wo(e,e.next);return e}(data,t,v,e)),data.length>80*e){n=o=data[0],r=c=data[1];for(var _=e;_<m;_+=e)(l=data[_])<n&&(n=l),(h=data[_+1])<r&&(r=h),l>o&&(o=l),h>c&&(c=h);d=0!==(d=Math.max(o-n,c-r))?1/d:0}return qo(v,y,e,n,r,d),y};function Go(data,t,e,n,r){var i,o;if(r===function(data,t,e,n){for(var r=0,o=t,c=e-n;o<e;o+=n)r+=(data[c]-data[o])*(data[o+1]+data[c+1]),c=o;return r}(data,t,e,n)>0)for(i=t;i<e;i+=n)o=la(i,data[i],data[i+1],o);else for(i=e-n;i>=t;i-=n)o=la(i,data[i],data[i+1],o);return o&&ia(o,o.next)&&(ha(o),o=o.next),o}function Wo(t,e){if(!t)return t;e||(e=t);var n,p=t;do{if(n=!1,p.steiner||!ia(p,p.next)&&0!==area(p.prev,p,p.next))p=p.next;else{if(ha(p),(p=e=p.prev)===p.next)break;n=!0}}while(n||p!==e);return e}function qo(t,e,n,r,o,c,l){if(t){!l&&c&&function(t,e,n,r){var p=t;do{null===p.z&&(p.z=ta(p.x,p.y,e,n,r)),p.prevZ=p.prev,p.nextZ=p.next,p=p.next}while(p!==t);p.prevZ.nextZ=null,p.prevZ=null,function(t){var i,p,q,e,n,r,o,c,l=1;do{for(p=t,t=null,n=null,r=0;p;){for(r++,q=p,o=0,i=0;i<l&&(o++,q=q.nextZ);i++);for(c=l;o>0||c>0&&q;)0!==o&&(0===c||!q||p.z<=q.z)?(e=p,p=p.nextZ,o--):(e=q,q=q.nextZ,c--),n?n.nextZ=e:t=e,e.prevZ=n,n=e;p=q}n.nextZ=null,l*=2}while(r>1)}(p)}(t,r,o,c);for(var h,d,f=t;t.prev!==t.next;)if(h=t.prev,d=t.next,c?Qo(t,r,o,c):$o(t))e.push(h.i/n),e.push(t.i/n),e.push(d.i/n),ha(t),t=d.next,f=d.next;else if((t=d)===f){l?1===l?qo(t=Xo(Wo(t),e,n),e,n,r,o,c,2):2===l&&Yo(t,e,n,r,o,c):qo(Wo(t),e,n,r,o,c,1);break}}}function $o(t){var a=t.prev,b=t,e=t.next;if(area(a,b,e)>=0)return!1;for(var p=t.next.next;p!==t.prev;){if(na(a.x,a.y,b.x,b.y,e.x,e.y,p.x,p.y)&&area(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function Qo(t,e,n,r){var a=t.prev,b=t,o=t.next;if(area(a,b,o)>=0)return!1;for(var c=a.x<b.x?a.x<o.x?a.x:o.x:b.x<o.x?b.x:o.x,l=a.y<b.y?a.y<o.y?a.y:o.y:b.y<o.y?b.y:o.y,h=a.x>b.x?a.x>o.x?a.x:o.x:b.x>o.x?b.x:o.x,d=a.y>b.y?a.y>o.y?a.y:o.y:b.y>o.y?b.y:o.y,f=ta(c,l,e,n,r),m=ta(h,d,e,n,r),p=t.prevZ,v=t.nextZ;p&&p.z>=f&&v&&v.z<=m;){if(p!==t.prev&&p!==t.next&&na(a.x,a.y,b.x,b.y,o.x,o.y,p.x,p.y)&&area(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,v!==t.prev&&v!==t.next&&na(a.x,a.y,b.x,b.y,o.x,o.y,v.x,v.y)&&area(v.prev,v,v.next)>=0)return!1;v=v.nextZ}for(;p&&p.z>=f;){if(p!==t.prev&&p!==t.next&&na(a.x,a.y,b.x,b.y,o.x,o.y,p.x,p.y)&&area(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;v&&v.z<=m;){if(v!==t.prev&&v!==t.next&&na(a.x,a.y,b.x,b.y,o.x,o.y,v.x,v.y)&&area(v.prev,v,v.next)>=0)return!1;v=v.nextZ}return!0}function Xo(t,e,n){var p=t;do{var a=p.prev,b=p.next.next;!ia(a,b)&&oa(a,p,p.next,b)&&ua(a,b)&&ua(b,a)&&(e.push(a.i/n),e.push(p.i/n),e.push(b.i/n),ha(p),ha(p.next),p=t=b),p=p.next}while(p!==t);return Wo(p)}function Yo(t,e,n,r,o,c){var a=t;do{for(var b=a.next.next;b!==a.prev;){if(a.i!==b.i&&ra(a,b)){var l=ca(a,b);return a=Wo(a,a.next),l=Wo(l,l.next),qo(a,e,n,r,o,c),void qo(l,e,n,r,o,c)}b=b.next}a=a.next}while(a!==t)}function Ko(a,b){return a.x-b.x}function Jo(t,e){if(e=function(t,e){var n,p=e,r=t.x,o=t.y,c=-1/0;do{if(o<=p.y&&o>=p.next.y&&p.next.y!==p.y){var l=p.x+(o-p.y)*(p.next.x-p.x)/(p.next.y-p.y);if(l<=r&&l>c){if(c=l,l===r){if(o===p.y)return p;if(o===p.next.y)return p.next}n=p.x<p.next.x?p:p.next}}p=p.next}while(p!==e);if(!n)return null;if(r===c)return n;var h,d=n,f=n.x,m=n.y,v=1/0;p=n;do{r>=p.x&&p.x>=f&&r!==p.x&&na(o<m?r:c,o,f,m,o<m?c:r,o,p.x,p.y)&&(h=Math.abs(o-p.y)/(r-p.x),ua(p,t)&&(h<v||h===v&&(p.x>n.x||p.x===n.x&&Zo(n,p)))&&(n=p,v=h)),p=p.next}while(p!==d);return n}(t,e)){var b=ca(e,t);Wo(e,e.next),Wo(b,b.next)}}function Zo(t,p){return area(t.prev,t,p.prev)<0&&area(p.next,t,t.next)<0}function ta(t,e,n,r,o){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*o)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*o)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function ea(t){var p=t,e=t;do{(p.x<e.x||p.x===e.x&&p.y<e.y)&&(e=p),p=p.next}while(p!==t);return e}function na(t,e,n,r,o,c,l,h){return(o-l)*(e-h)-(t-l)*(c-h)>=0&&(t-l)*(r-h)-(n-l)*(e-h)>=0&&(n-l)*(c-h)-(o-l)*(r-h)>=0}function ra(a,b){return a.next.i!==b.i&&a.prev.i!==b.i&&!function(a,b){var p=a;do{if(p.i!==a.i&&p.next.i!==a.i&&p.i!==b.i&&p.next.i!==b.i&&oa(p,p.next,a,b))return!0;p=p.next}while(p!==a);return!1}(a,b)&&(ua(a,b)&&ua(b,a)&&function(a,b){var p=a,t=!1,e=(a.x+b.x)/2,n=(a.y+b.y)/2;do{p.y>n!=p.next.y>n&&p.next.y!==p.y&&e<(p.next.x-p.x)*(n-p.y)/(p.next.y-p.y)+p.x&&(t=!t),p=p.next}while(p!==a);return t}(a,b)&&(area(a.prev,a,b.prev)||area(a,b.prev,b))||ia(a,b)&&area(a.prev,a,a.next)>0&&area(b.prev,b,b.next)>0)}function area(p,q,t){return(q.y-p.y)*(t.x-q.x)-(q.x-p.x)*(t.y-q.y)}function ia(t,e){return t.x===e.x&&t.y===e.y}function oa(t,e,n,r){var o=sa(area(t,e,n)),c=sa(area(t,e,r)),l=sa(area(n,r,t)),h=sa(area(n,r,e));return o!==c&&l!==h||(!(0!==o||!aa(t,n,e))||(!(0!==c||!aa(t,r,e))||(!(0!==l||!aa(n,t,r))||!(0!==h||!aa(n,e,r)))))}function aa(p,q,t){return q.x<=Math.max(p.x,t.x)&&q.x>=Math.min(p.x,t.x)&&q.y<=Math.max(p.y,t.y)&&q.y>=Math.min(p.y,t.y)}function sa(t){return t>0?1:t<0?-1:0}function ua(a,b){return area(a.prev,a,a.next)<0?area(a,b,a.next)>=0&&area(a,a.prev,b)>=0:area(a,b,a.prev)<0||area(a,a.next,b)<0}function ca(a,b){var t=new pa(a.i,a.x,a.y),e=new pa(b.i,b.x,b.y),n=a.next,r=b.prev;return a.next=b,b.prev=a,t.next=n,n.prev=t,e.next=t,t.prev=e,r.next=e,e.prev=r,e}function la(i,t,e,n){var p=new pa(i,t,e);return n?(p.next=n.next,p.prev=n,n.next.prev=p,n.next=p):(p.prev=p,p.next=p),p}function ha(p){p.next.prev=p.prev,p.prev.next=p.next,p.prevZ&&(p.prevZ.nextZ=p.nextZ),p.nextZ&&(p.nextZ.prevZ=p.prevZ)}function pa(i,t,e){this.i=i,this.x=t,this.y=e,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var da={area:function(t){for(var e=t.length,a=0,p=e-1,q=0;q<e;p=q++)a+=t[p].x*t[q].y-t[q].x*t[p].y;return.5*a},isClockWise:function(t){return da.area(t)<0},triangulateShape:function(t,e){var n=[],r=[],o=[];fa(t),ma(n,t);var c=t.length;e.forEach(fa);for(var l=0;l<e.length;l++)r.push(c),c+=e[l].length,ma(n,e[l]);for(var h=Ho(n,r),d=0;d<h.length;d+=3)o.push(h.slice(d,d+3));return o}};function fa(t){var e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function ma(t,e){for(var n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}var va=function(t){Object(d.a)(n,t);var e=_(n);function n(t,r){var o;Object(v.a)(this,n),(o=e.call(this)).type="ExtrudeBufferGeometry",o.parameters={shapes:t,options:r},t=Array.isArray(t)?t:[t];for(var c=Object(h.a)(o),l=[],d=[],f=0,m=t.length;f<m;f++){y(t[f])}function y(t){var e=[],n=void 0!==r.curveSegments?r.curveSegments:12,o=void 0!==r.steps?r.steps:1,h=void 0!==r.depth?r.depth:100,f=void 0===r.bevelEnabled||r.bevelEnabled,m=void 0!==r.bevelThickness?r.bevelThickness:6,v=void 0!==r.bevelSize?r.bevelSize:m-2,y=void 0!==r.bevelOffset?r.bevelOffset:0,_=void 0!==r.bevelSegments?r.bevelSegments:3,x=r.extrudePath,w=void 0!==r.UVGenerator?r.UVGenerator:ga;void 0!==r.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),h=r.amount);var E,M,S,T,D,O=!1;x&&(E=x.getSpacedPoints(o),O=!0,f=!1,M=x.computeFrenetFrames(o,!1),S=new z,T=new z,D=new z),f||(_=0,m=0,v=0,y=0);var C=t.extractPoints(n),A=C.shape,k=C.holes;if(!da.isClockWise(A)){A=A.reverse();for(var P=0,L=k.length;P<L;P++){var I=k[P];da.isClockWise(I)&&(k[P]=I.reverse())}}for(var R=da.triangulateShape(A,k),N=A,F=0,B=k.length;F<B;F++){var U=k[F];A=A.concat(U)}function V(t,e,n){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(n).add(t)}var H=A.length,G=R.length;function W(t,e,n){var r,o,c,l=t.x-e.x,h=t.y-e.y,d=n.x-t.x,f=n.y-t.y,m=l*l+h*h,v=l*f-h*d;if(Math.abs(v)>Number.EPSILON){var y=Math.sqrt(m),_=Math.sqrt(d*d+f*f),x=e.x-h/y,w=e.y+l/y,E=((n.x-f/_-x)*f-(n.y+d/_-w)*d)/(l*f-h*d),M=(r=x+l*E-t.x)*r+(o=w+h*E-t.y)*o;if(M<=2)return new j(r,o);c=Math.sqrt(M/2)}else{var S=!1;l>Number.EPSILON?d>Number.EPSILON&&(S=!0):l<-Number.EPSILON?d<-Number.EPSILON&&(S=!0):Math.sign(h)===Math.sign(f)&&(S=!0),S?(r=-h,o=l,c=Math.sqrt(m)):(r=l,o=h,c=Math.sqrt(m/2))}return new j(r/c,o/c)}for(var $=[],Q=0,X=N.length,Y=X-1,K=Q+1;Q<X;Q++,Y++,K++)Y===X&&(Y=0),K===X&&(K=0),$[Q]=W(N[Q],N[Y],N[K]);for(var J,Z=[],tt=$.concat(),et=0,nt=k.length;et<nt;et++){var it=k[et];J=[];for(var ot=0,at=it.length,st=at-1,ut=ot+1;ot<at;ot++,st++,ut++)st===at&&(st=0),ut===at&&(ut=0),J[ot]=W(it[ot],it[st],it[ut]);Z.push(J),tt=tt.concat(J)}for(var b=0;b<_;b++){for(var ct=b/_,lt=m*Math.cos(ct*Math.PI/2),ht=v*Math.sin(ct*Math.PI/2)+y,pt=0,ft=N.length;pt<ft;pt++){var mt=V(N[pt],$[pt],ht);Vt(mt.x,mt.y,-lt)}for(var vt=0,gt=k.length;vt<gt;vt++){var yt=k[vt];J=Z[vt];for(var _t=0,bt=yt.length;_t<bt;_t++){var xt=V(yt[_t],J[_t],ht);Vt(xt.x,xt.y,-lt)}}}for(var wt=v+y,Et=0;Et<H;Et++){var Mt=f?V(A[Et],tt[Et],wt):A[Et];O?(T.copy(M.normals[0]).multiplyScalar(Mt.x),S.copy(M.binormals[0]).multiplyScalar(Mt.y),D.copy(E[0]).add(T).add(S),Vt(D.x,D.y,D.z)):Vt(Mt.x,Mt.y,0)}for(var s=1;s<=o;s++)for(var St=0;St<H;St++){var Tt=f?V(A[St],tt[St],wt):A[St];O?(T.copy(M.normals[s]).multiplyScalar(Tt.x),S.copy(M.binormals[s]).multiplyScalar(Tt.y),D.copy(E[s]).add(T).add(S),Vt(D.x,D.y,D.z)):Vt(Tt.x,Tt.y,h/o*s)}for(var Dt=_-1;Dt>=0;Dt--){for(var Ot=Dt/_,Ct=m*Math.cos(Ot*Math.PI/2),At=v*Math.sin(Ot*Math.PI/2)+y,kt=0,Pt=N.length;kt<Pt;kt++){var jt=V(N[kt],$[kt],At);Vt(jt.x,jt.y,h+Ct)}for(var Lt=0,It=k.length;Lt<It;Lt++){var Rt=k[Lt];J=Z[Lt];for(var Nt=0,Ft=Rt.length;Nt<Ft;Nt++){var Bt=V(Rt[Nt],J[Nt],At);O?Vt(Bt.x,Bt.y+E[o-1].y,E[o-1].x+Ct):Vt(Bt.x,Bt.y,h+Ct)}}}function Ut(t,e){for(var i=t.length;--i>=0;){var n=i,r=i-1;r<0&&(r=t.length-1);for(var c=0,l=o+2*_;c<l;c++){var h=H*c,d=H*(c+1);Ht(e+n+h,e+r+h,e+r+d,e+n+d)}}}function Vt(t,n,r){e.push(t),e.push(n),e.push(r)}function zt(a,b,t){Gt(a),Gt(b),Gt(t);var e=l.length/3,n=w.generateTopUV(c,l,e-3,e-2,e-1);Wt(n[0]),Wt(n[1]),Wt(n[2])}function Ht(a,b,t,e){Gt(a),Gt(b),Gt(e),Gt(b),Gt(t),Gt(e);var n=l.length/3,r=w.generateSideWallUV(c,l,n-6,n-3,n-2,n-1);Wt(r[0]),Wt(r[1]),Wt(r[3]),Wt(r[1]),Wt(r[2]),Wt(r[3])}function Gt(t){l.push(e[3*t+0]),l.push(e[3*t+1]),l.push(e[3*t+2])}function Wt(t){d.push(t.x),d.push(t.y)}!function(){var t=l.length/3;if(f){for(var e=0,n=H*e,r=0;r<G;r++){var h=R[r];zt(h[2]+n,h[1]+n,h[0]+n)}n=H*(e=o+2*_);for(var d=0;d<G;d++){var m=R[d];zt(m[0]+n,m[1]+n,m[2]+n)}}else{for(var v=0;v<G;v++){var y=R[v];zt(y[2],y[1],y[0])}for(var x=0;x<G;x++){var w=R[x];zt(w[0]+H*o,w[1]+H*o,w[2]+H*o)}}c.addGroup(t,l.length/3-t,0)}(),function(){var t=l.length/3,e=0;Ut(N,e),e+=N.length;for(var n=0,r=k.length;n<r;n++){var o=k[n];Ut(o,e),e+=o.length}c.addGroup(t,l.length/3-t,1)}()}return o.setAttribute("position",new De(l,3)),o.setAttribute("uv",new De(d,2)),o.computeVertexNormals(),o}return Object(y.a)(n,[{key:"toJSON",value:function(){var data=Fe.prototype.toJSON.call(this);return function(t,e,data){if(data.shapes=[],Array.isArray(t))for(var n=0,r=t.length;n<r;n++){var o=t[n];data.shapes.push(o.uuid)}else data.shapes.push(t.uuid);void 0!==e.extrudePath&&(data.options.extrudePath=e.extrudePath.toJSON());return data}(this.parameters.shapes,this.parameters.options,data)}}]),n}(Fe),ga={generateTopUV:function(t,e,n,r,o){var c=e[3*n],l=e[3*n+1],h=e[3*r],d=e[3*r+1],f=e[3*o],m=e[3*o+1];return[new j(c,l),new j(h,d),new j(f,m)]},generateSideWallUV:function(t,e,n,r,o,c){var l=e[3*n],h=e[3*n+1],d=e[3*n+2],f=e[3*r],m=e[3*r+1],v=e[3*r+2],y=e[3*o],_=e[3*o+1],x=e[3*o+2],w=e[3*c],E=e[3*c+1],M=e[3*c+2];return Math.abs(h-m)<.01?[new j(l,1-d),new j(f,1-v),new j(y,1-x),new j(w,1-M)]:[new j(h,1-d),new j(m,1-v),new j(_,1-x),new j(E,1-M)]}};var ya=function(t){Object(d.a)(n,t);var e=_(n);function n(t,r){var o;return Object(v.a)(this,n),(o=e.call(this)).type="ExtrudeGeometry",o.parameters={shapes:t,options:r},o.fromBufferGeometry(new va(t,r)),o.mergeVertices(),o}return Object(y.a)(n,[{key:"toJSON",value:function(){var data=Object(c.a)(Object(m.a)(n.prototype),"toJSON",this).call(this);return function(t,e,data){if(data.shapes=[],Array.isArray(t))for(var n=0,r=t.length;n<r;n++){var o=t[n];data.shapes.push(o.uuid)}else data.shapes.push(t.uuid);void 0!==e.extrudePath&&(data.options.extrudePath=e.extrudePath.toJSON());return data}(this.parameters.shapes,this.parameters.options,data)}}]),n}(zo);function _a(t,e,n){Fe.call(this),this.type="ParametricBufferGeometry",this.parameters={func:t,slices:e,stacks:n};var r=[],o=[],c=[],l=[],h=1e-5,d=new z,f=new z,m=new z,v=new z,y=new z;t.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");for(var _=e+1,x=0;x<=n;x++)for(var w=x/n,E=0;E<=e;E++){var u=E/e;t(u,w,f),o.push(f.x,f.y,f.z),u-h>=0?(t(u-h,w,m),v.subVectors(f,m)):(t(u+h,w,m),v.subVectors(m,f)),w-h>=0?(t(u,w-h,m),y.subVectors(f,m)):(t(u,w+h,m),y.subVectors(m,f)),d.crossVectors(v,y).normalize(),c.push(d.x,d.y,d.z),l.push(u,w)}for(var M=0;M<n;M++)for(var S=0;S<e;S++){var a=M*_+S,b=M*_+S+1,T=(M+1)*_+S+1,D=(M+1)*_+S;r.push(a,b,D),r.push(b,T,D)}this.setIndex(r),this.setAttribute("position",new De(o,3)),this.setAttribute("normal",new De(c,3)),this.setAttribute("uv",new De(l,2))}function ba(t,e,n){zo.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:n},this.fromBufferGeometry(new _a(t,e,n)),this.mergeVertices()}_a.prototype=Object.create(Fe.prototype),_a.prototype.constructor=_a,ba.prototype=Object.create(zo.prototype),ba.prototype.constructor=ba;var xa=function(t){Object(d.a)(n,t);var e=_(n);function n(t,r){var o;Object(v.a)(this,n),(o=e.call(this)).type="ShapeBufferGeometry",o.parameters={shapes:t,curveSegments:r},r=r||12;var c=[],l=[],h=[],d=[],f=0,m=0;if(!1===Array.isArray(t))_(t);else for(var y=0;y<t.length;y++)_(t[y]),o.addGroup(f,m,y),f+=m,m=0;function _(t){var e=l.length/3,n=t.extractPoints(r),o=n.shape,f=n.holes;!1===da.isClockWise(o)&&(o=o.reverse());for(var v=0,y=f.length;v<y;v++){var _=f[v];!0===da.isClockWise(_)&&(f[v]=_.reverse())}for(var x=da.triangulateShape(o,f),w=0,E=f.length;w<E;w++){var M=f[w];o=o.concat(M)}for(var S=0,T=o.length;S<T;S++){var D=o[S];l.push(D.x,D.y,0),h.push(0,0,1),d.push(D.x,D.y)}for(var O=0,C=x.length;O<C;O++){var A=x[O],a=A[0]+e,b=A[1]+e,k=A[2]+e;c.push(a,b,k),m+=3}}return o.setIndex(c),o.setAttribute("position",new De(l,3)),o.setAttribute("normal",new De(h,3)),o.setAttribute("uv",new De(d,2)),o}return Object(y.a)(n,[{key:"toJSON",value:function(){var data=Fe.prototype.toJSON.call(this);return function(t,data){if(data.shapes=[],Array.isArray(t))for(var e=0,n=t.length;e<n;e++){var r=t[e];data.shapes.push(r.uuid)}else data.shapes.push(t.uuid);return data}(this.parameters.shapes,data)}}]),n}(Fe);var wa=function(t){Object(d.a)(n,t);var e=_(n);function n(t,r){var c;return Object(v.a)(this,n),(c=e.call(this)).type="ShapeGeometry","object"===Object(o.a)(r)&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),r=r.curveSegments),c.parameters={shapes:t,curveSegments:r},c.fromBufferGeometry(new xa(t,r)),c.mergeVertices(),c}return Object(y.a)(n,[{key:"toJSON",value:function(){var data=zo.prototype.toJSON.call(this);return function(t,data){if(data.shapes=[],Array.isArray(t))for(var e=0,n=t.length;e<n;e++){var r=t[e];data.shapes.push(r.uuid)}else data.shapes.push(t.uuid);return data}(this.parameters.shapes,data)}}]),n}(zo);function Ea(t){me.call(this),this.type="ShadowMaterial",this.color=new pe(0),this.transparent=!0,this.setValues(t)}function Ma(t){ln.call(this,t),this.type="RawShaderMaterial"}function Sa(t){me.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new pe(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new pe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new j(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.vertexTangents=!1,this.setValues(t)}function Ta(t){Sa.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new j(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,Object.defineProperty(this,"ior",{get:function(){return(1+.4*this.reflectivity)/(1-.4*this.reflectivity)},set:function(t){this.reflectivity=P.clamp(2.5*(t-1)/(t+1),0,1)}}),this.sheen=null,this.transmission=0,this.transmissionMap=null,this.setValues(t)}function Da(t){me.call(this),this.type="MeshPhongMaterial",this.color=new pe(16777215),this.specular=new pe(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new pe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new j(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Oa(t){me.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new pe(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new pe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new j(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Ca(t){me.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new j(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Aa(t){me.call(this),this.type="MeshLambertMaterial",this.color=new pe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new pe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function ka(t){me.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new pe(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new j(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Pa(t){vo.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}Ea.prototype=Object.create(me.prototype),Ea.prototype.constructor=Ea,Ea.prototype.isShadowMaterial=!0,Ea.prototype.copy=function(source){return me.prototype.copy.call(this,source),this.color.copy(source.color),this},Ma.prototype=Object.create(ln.prototype),Ma.prototype.constructor=Ma,Ma.prototype.isRawShaderMaterial=!0,Sa.prototype=Object.create(me.prototype),Sa.prototype.constructor=Sa,Sa.prototype.isMeshStandardMaterial=!0,Sa.prototype.copy=function(source){return me.prototype.copy.call(this,source),this.defines={STANDARD:""},this.color.copy(source.color),this.roughness=source.roughness,this.metalness=source.metalness,this.map=source.map,this.lightMap=source.lightMap,this.lightMapIntensity=source.lightMapIntensity,this.aoMap=source.aoMap,this.aoMapIntensity=source.aoMapIntensity,this.emissive.copy(source.emissive),this.emissiveMap=source.emissiveMap,this.emissiveIntensity=source.emissiveIntensity,this.bumpMap=source.bumpMap,this.bumpScale=source.bumpScale,this.normalMap=source.normalMap,this.normalMapType=source.normalMapType,this.normalScale.copy(source.normalScale),this.displacementMap=source.displacementMap,this.displacementScale=source.displacementScale,this.displacementBias=source.displacementBias,this.roughnessMap=source.roughnessMap,this.metalnessMap=source.metalnessMap,this.alphaMap=source.alphaMap,this.envMap=source.envMap,this.envMapIntensity=source.envMapIntensity,this.refractionRatio=source.refractionRatio,this.wireframe=source.wireframe,this.wireframeLinewidth=source.wireframeLinewidth,this.wireframeLinecap=source.wireframeLinecap,this.wireframeLinejoin=source.wireframeLinejoin,this.skinning=source.skinning,this.morphTargets=source.morphTargets,this.morphNormals=source.morphNormals,this.vertexTangents=source.vertexTangents,this},Ta.prototype=Object.create(Sa.prototype),Ta.prototype.constructor=Ta,Ta.prototype.isMeshPhysicalMaterial=!0,Ta.prototype.copy=function(source){return Sa.prototype.copy.call(this,source),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=source.clearcoat,this.clearcoatMap=source.clearcoatMap,this.clearcoatRoughness=source.clearcoatRoughness,this.clearcoatRoughnessMap=source.clearcoatRoughnessMap,this.clearcoatNormalMap=source.clearcoatNormalMap,this.clearcoatNormalScale.copy(source.clearcoatNormalScale),this.reflectivity=source.reflectivity,source.sheen?this.sheen=(this.sheen||new pe).copy(source.sheen):this.sheen=null,this.transmission=source.transmission,this.transmissionMap=source.transmissionMap,this},Da.prototype=Object.create(me.prototype),Da.prototype.constructor=Da,Da.prototype.isMeshPhongMaterial=!0,Da.prototype.copy=function(source){return me.prototype.copy.call(this,source),this.color.copy(source.color),this.specular.copy(source.specular),this.shininess=source.shininess,this.map=source.map,this.lightMap=source.lightMap,this.lightMapIntensity=source.lightMapIntensity,this.aoMap=source.aoMap,this.aoMapIntensity=source.aoMapIntensity,this.emissive.copy(source.emissive),this.emissiveMap=source.emissiveMap,this.emissiveIntensity=source.emissiveIntensity,this.bumpMap=source.bumpMap,this.bumpScale=source.bumpScale,this.normalMap=source.normalMap,this.normalMapType=source.normalMapType,this.normalScale.copy(source.normalScale),this.displacementMap=source.displacementMap,this.displacementScale=source.displacementScale,this.displacementBias=source.displacementBias,this.specularMap=source.specularMap,this.alphaMap=source.alphaMap,this.envMap=source.envMap,this.combine=source.combine,this.reflectivity=source.reflectivity,this.refractionRatio=source.refractionRatio,this.wireframe=source.wireframe,this.wireframeLinewidth=source.wireframeLinewidth,this.wireframeLinecap=source.wireframeLinecap,this.wireframeLinejoin=source.wireframeLinejoin,this.skinning=source.skinning,this.morphTargets=source.morphTargets,this.morphNormals=source.morphNormals,this},Oa.prototype=Object.create(me.prototype),Oa.prototype.constructor=Oa,Oa.prototype.isMeshToonMaterial=!0,Oa.prototype.copy=function(source){return me.prototype.copy.call(this,source),this.color.copy(source.color),this.map=source.map,this.gradientMap=source.gradientMap,this.lightMap=source.lightMap,this.lightMapIntensity=source.lightMapIntensity,this.aoMap=source.aoMap,this.aoMapIntensity=source.aoMapIntensity,this.emissive.copy(source.emissive),this.emissiveMap=source.emissiveMap,this.emissiveIntensity=source.emissiveIntensity,this.bumpMap=source.bumpMap,this.bumpScale=source.bumpScale,this.normalMap=source.normalMap,this.normalMapType=source.normalMapType,this.normalScale.copy(source.normalScale),this.displacementMap=source.displacementMap,this.displacementScale=source.displacementScale,this.displacementBias=source.displacementBias,this.alphaMap=source.alphaMap,this.wireframe=source.wireframe,this.wireframeLinewidth=source.wireframeLinewidth,this.wireframeLinecap=source.wireframeLinecap,this.wireframeLinejoin=source.wireframeLinejoin,this.skinning=source.skinning,this.morphTargets=source.morphTargets,this.morphNormals=source.morphNormals,this},Ca.prototype=Object.create(me.prototype),Ca.prototype.constructor=Ca,Ca.prototype.isMeshNormalMaterial=!0,Ca.prototype.copy=function(source){return me.prototype.copy.call(this,source),this.bumpMap=source.bumpMap,this.bumpScale=source.bumpScale,this.normalMap=source.normalMap,this.normalMapType=source.normalMapType,this.normalScale.copy(source.normalScale),this.displacementMap=source.displacementMap,this.displacementScale=source.displacementScale,this.displacementBias=source.displacementBias,this.wireframe=source.wireframe,this.wireframeLinewidth=source.wireframeLinewidth,this.skinning=source.skinning,this.morphTargets=source.morphTargets,this.morphNormals=source.morphNormals,this},Aa.prototype=Object.create(me.prototype),Aa.prototype.constructor=Aa,Aa.prototype.isMeshLambertMaterial=!0,Aa.prototype.copy=function(source){return me.prototype.copy.call(this,source),this.color.copy(source.color),this.map=source.map,this.lightMap=source.lightMap,this.lightMapIntensity=source.lightMapIntensity,this.aoMap=source.aoMap,this.aoMapIntensity=source.aoMapIntensity,this.emissive.copy(source.emissive),this.emissiveMap=source.emissiveMap,this.emissiveIntensity=source.emissiveIntensity,this.specularMap=source.specularMap,this.alphaMap=source.alphaMap,this.envMap=source.envMap,this.combine=source.combine,this.reflectivity=source.reflectivity,this.refractionRatio=source.refractionRatio,this.wireframe=source.wireframe,this.wireframeLinewidth=source.wireframeLinewidth,this.wireframeLinecap=source.wireframeLinecap,this.wireframeLinejoin=source.wireframeLinejoin,this.skinning=source.skinning,this.morphTargets=source.morphTargets,this.morphNormals=source.morphNormals,this},ka.prototype=Object.create(me.prototype),ka.prototype.constructor=ka,ka.prototype.isMeshMatcapMaterial=!0,ka.prototype.copy=function(source){return me.prototype.copy.call(this,source),this.defines={MATCAP:""},this.color.copy(source.color),this.matcap=source.matcap,this.map=source.map,this.bumpMap=source.bumpMap,this.bumpScale=source.bumpScale,this.normalMap=source.normalMap,this.normalMapType=source.normalMapType,this.normalScale.copy(source.normalScale),this.displacementMap=source.displacementMap,this.displacementScale=source.displacementScale,this.displacementBias=source.displacementBias,this.alphaMap=source.alphaMap,this.skinning=source.skinning,this.morphTargets=source.morphTargets,this.morphNormals=source.morphNormals,this},Pa.prototype=Object.create(vo.prototype),Pa.prototype.constructor=Pa,Pa.prototype.isLineDashedMaterial=!0,Pa.prototype.copy=function(source){return vo.prototype.copy.call(this,source),this.scale=source.scale,this.dashSize=source.dashSize,this.gapSize=source.gapSize,this};var ja=Object.freeze({__proto__:null,ShadowMaterial:Ea,SpriteMaterial:Ri,RawShaderMaterial:Ma,ShaderMaterial:ln,PointsMaterial:Do,MeshPhysicalMaterial:Ta,MeshStandardMaterial:Sa,MeshPhongMaterial:Da,MeshToonMaterial:Oa,MeshNormalMaterial:Ca,MeshLambertMaterial:Aa,MeshDepthMaterial:yi,MeshDistanceMaterial:_i,MeshBasicMaterial:ve,MeshMatcapMaterial:ka,LineDashedMaterial:Pa,LineBasicMaterial:vo,Material:me}),La={arraySlice:function(t,e,n){return La.isTypedArray(t)?new t.constructor(t.subarray(e,void 0!==n?n:t.length)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(object){return ArrayBuffer.isView(object)&&!(object instanceof DataView)},getKeyframeOrder:function(t){for(var e=t.length,n=new Array(e),r=0;r!==e;++r)n[r]=r;return n.sort((function(i,e){return t[i]-t[e]})),n},sortedArray:function(t,e,n){for(var r=t.length,o=new t.constructor(r),c=0,l=0;l!==r;++c)for(var h=n[c]*e,d=0;d!==e;++d)o[l++]=t[h+d];return o},flattenJSON:function(t,e,n,r){for(var i=1,o=t[0];void 0!==o&&void 0===o[r];)o=t[i++];if(void 0!==o){var c=o[r];if(void 0!==c)if(Array.isArray(c))do{void 0!==(c=o[r])&&(e.push(o.time),n.push.apply(n,c)),o=t[i++]}while(void 0!==o);else if(void 0!==c.toArray)do{void 0!==(c=o[r])&&(e.push(o.time),c.toArray(n,n.length)),o=t[i++]}while(void 0!==o);else do{void 0!==(c=o[r])&&(e.push(o.time),n.push(c)),o=t[i++]}while(void 0!==o)}},subclip:function(t,e,n,r,o){o=o||30;var c=t.clone();c.name=e;for(var l=[],h=0;h<c.tracks.length;++h){for(var track=c.tracks[h],d=track.getValueSize(),f=[],m=[],v=0;v<track.times.length;++v){var y=track.times[v]*o;if(!(y<n||y>=r)){f.push(track.times[v]);for(var _=0;_<d;++_)m.push(track.values[v*d+_])}}0!==f.length&&(track.times=La.convertArray(f,track.times.constructor),track.values=La.convertArray(m,track.values.constructor),l.push(track))}c.tracks=l;for(var x=1/0,w=0;w<c.tracks.length;++w)x>c.tracks[w].times[0]&&(x=c.tracks[w].times[0]);for(var E=0;E<c.tracks.length;++E)c.tracks[E].shift(-1*x);return c.resetDuration(),c},makeClipAdditive:function(t,e,n,r){void 0===e&&(e=0),void 0===n&&(n=t),(void 0===r||r<=0)&&(r=30);for(var o=n.tracks.length,c=e/r,l=function(e){var r=n.tracks[e],o=r.ValueTypeName;if("bool"===o||"string"===o)return"continue";var l=t.tracks.find((function(track){return track.name===r.name&&track.ValueTypeName===o}));if(void 0===l)return"continue";var h=0,d=r.getValueSize();r.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=d/3);var f=0,m=l.getValueSize();l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=m/3);var v=r.times.length-1,y=void 0;if(c<=r.times[0]){var _=h,x=d-h;y=La.arraySlice(r.values,_,x)}else if(c>=r.times[v]){var w=v*d+h,E=w+d-h;y=La.arraySlice(r.values,w,E)}else{var M=r.createInterpolant(),S=h,T=d-h;M.evaluate(c),y=La.arraySlice(M.resultBuffer,S,T)}"quaternion"===o&&(new V).fromArray(y).normalize().conjugate().toArray(y);for(var D=l.times.length,O=0;O<D;++O){var C=O*m+f;if("quaternion"===o)V.multiplyQuaternionsFlat(l.values,C,y,0,l.values,C);else for(var A=m-2*f,k=0;k<A;++k)l.values[C+k]-=y[k]}},h=0;h<o;++h)l(h);return t.blendMode=2501,t}};function Ia(t,e,n,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new e.constructor(n),this.sampleValues=e,this.valueSize=n}function Ra(t,e,n,r){Ia.call(this,t,e,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Na(t,e,n,r){Ia.call(this,t,e,n,r)}function Fa(t,e,n,r){Ia.call(this,t,e,n,r)}function Ba(t,e,n,r){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=La.convertArray(e,this.TimeBufferType),this.values=La.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}function Ua(t,e,n){Ba.call(this,t,e,n)}function Va(t,e,n,r){Ba.call(this,t,e,n,r)}function za(t,e,n,r){Ba.call(this,t,e,n,r)}function Ha(t,e,n,r){Ia.call(this,t,e,n,r)}function Ga(t,e,n,r){Ba.call(this,t,e,n,r)}function Wa(t,e,n,r){Ba.call(this,t,e,n,r)}function qa(t,e,n,r){Ba.call(this,t,e,n,r)}function $a(t,e,n,r){this.name=t,this.tracks=n,this.duration=void 0!==e?e:-1,this.blendMode=void 0!==r?r:2500,this.uuid=P.generateUUID(),this.duration<0&&this.resetDuration()}function Qa(t){if(void 0===t.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var e=function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return za;case"vector":case"vector2":case"vector3":case"vector4":return qa;case"color":return Va;case"quaternion":return Ga;case"bool":case"boolean":return Ua;case"string":return Wa}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}(t.type);if(void 0===t.times){var n=[],r=[];La.flattenJSON(t.keys,n,r,"value"),t.times=n,t.values=r}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}Object.assign(Ia.prototype,{evaluate:function(t){var e=this.parameterPositions,n=this._cachedIndex,r=e[n],o=e[n-1];t:{e:{var c;n:{r:if(!(t<r)){for(var l=n+2;;){if(void 0===r){if(t<o)break r;return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,t,o)}if(n===l)break;if(o=r,t<(r=e[++n]))break e}c=e.length;break n}if(t>=o)break t;var h=e[1];t<h&&(n=2,o=h);for(var d=n-2;;){if(void 0===o)return this._cachedIndex=0,this.beforeStart_(0,t,r);if(n===d)break;if(r=o,t>=(o=e[--n-1]))break e}c=n,n=0}for(;n<c;){var f=n+c>>>1;t<e[f]?c=f:n=f+1}if(r=e[n],void 0===(o=e[n-1]))return this._cachedIndex=0,this.beforeStart_(0,t,r);if(void 0===r)return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,o,t)}this._cachedIndex=n,this.intervalChanged_(n,o,r)}return this.interpolate_(n,o,t,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){for(var e=this.resultBuffer,n=this.sampleValues,r=this.valueSize,o=t*r,c=0;c!==r;++c)e[c]=n[o+c];return e},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(Ia.prototype,{beforeStart_:Ia.prototype.copySampleValue_,afterEnd_:Ia.prototype.copySampleValue_}),Ra.prototype=Object.assign(Object.create(Ia.prototype),{constructor:Ra,DefaultSettings_:{endingStart:2400,endingEnd:2400},intervalChanged_:function(t,e,n){var r=this.parameterPositions,o=t-2,c=t+1,l=r[o],h=r[c];if(void 0===l)switch(this.getSettings_().endingStart){case 2401:o=t,l=2*e-n;break;case 2402:l=e+r[o=r.length-2]-r[o+1];break;default:o=t,l=n}if(void 0===h)switch(this.getSettings_().endingEnd){case 2401:c=t,h=2*n-e;break;case 2402:c=1,h=n+r[1]-r[0];break;default:c=t-1,h=e}var d=.5*(n-e),f=this.valueSize;this._weightPrev=d/(e-l),this._weightNext=d/(h-n),this._offsetPrev=o*f,this._offsetNext=c*f},interpolate_:function(t,e,n,r){for(var o=this.resultBuffer,c=this.sampleValues,l=this.valueSize,h=t*l,d=h-l,f=this._offsetPrev,m=this._offsetNext,v=this._weightPrev,y=this._weightNext,p=(n-e)/(r-e),_=p*p,x=_*p,w=-v*x+2*v*_-v*p,E=(1+v)*x+(-1.5-2*v)*_+(-.5+v)*p+1,M=(-1-y)*x+(1.5+y)*_+.5*p,S=y*x-y*_,T=0;T!==l;++T)o[T]=w*c[f+T]+E*c[d+T]+M*c[h+T]+S*c[m+T];return o}}),Na.prototype=Object.assign(Object.create(Ia.prototype),{constructor:Na,interpolate_:function(t,e,n,r){for(var o=this.resultBuffer,c=this.sampleValues,l=this.valueSize,h=t*l,d=h-l,f=(n-e)/(r-e),m=1-f,v=0;v!==l;++v)o[v]=c[d+v]*m+c[h+v]*f;return o}}),Fa.prototype=Object.assign(Object.create(Ia.prototype),{constructor:Fa,interpolate_:function(t){return this.copySampleValue_(t-1)}}),Object.assign(Ba,{toJSON:function(track){var t,e=track.constructor;if(void 0!==e.toJSON)t=e.toJSON(track);else{t={name:track.name,times:La.convertArray(track.times,Array),values:La.convertArray(track.values,Array)};var n=track.getInterpolation();n!==track.DefaultInterpolation&&(t.interpolation=n)}return t.type=track.ValueTypeName,t}}),Object.assign(Ba.prototype,{constructor:Ba,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(t){return new Fa(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new Na(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new Ra(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){var e;switch(t){case 2300:e=this.InterpolantFactoryMethodDiscrete;break;case 2301:e=this.InterpolantFactoryMethodLinear;break;case 2302:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=e,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t)for(var e=this.times,n=0,r=e.length;n!==r;++n)e[n]+=t;return this},scale:function(t){if(1!==t)for(var e=this.times,n=0,r=e.length;n!==r;++n)e[n]*=t;return this},trim:function(t,e){for(var n=this.times,r=n.length,o=0,c=r-1;o!==r&&n[o]<t;)++o;for(;-1!==c&&n[c]>e;)--c;if(++c,0!==o||c!==r){o>=c&&(o=(c=Math.max(c,1))-1);var l=this.getValueSize();this.times=La.arraySlice(n,o,c),this.values=La.arraySlice(this.values,o*l,c*l)}return this},validate:function(){var t=!0,e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);var n=this.times,r=this.values,o=n.length;0===o&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);for(var c=null,l=0;l!==o;l++){var h=n[l];if("number"==typeof h&&isNaN(h)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,l,h),t=!1;break}if(null!==c&&c>h){console.error("THREE.KeyframeTrack: Out of order keys.",this,l,h,c),t=!1;break}c=h}if(void 0!==r&&La.isTypedArray(r))for(var d=0,f=r.length;d!==f;++d){var m=r[d];if(isNaN(m)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,d,m),t=!1;break}}return t},optimize:function(){for(var t=La.arraySlice(this.times),e=La.arraySlice(this.values),n=this.getValueSize(),r=2302===this.getInterpolation(),o=t.length-1,c=1,l=1;l<o;++l){var h=!1,time=t[l];if(time!==t[l+1]&&(1!==l||time!==time[0]))if(r)h=!0;else for(var d=l*n,f=d-n,m=d+n,v=0;v!==n;++v){var y=e[d+v];if(y!==e[f+v]||y!==e[m+v]){h=!0;break}}if(h){if(l!==c){t[c]=t[l];for(var _=l*n,x=c*n,w=0;w!==n;++w)e[x+w]=e[_+w]}++c}}if(o>0){t[c]=t[o];for(var E=o*n,M=c*n,S=0;S!==n;++S)e[M+S]=e[E+S];++c}return c!==t.length?(this.times=La.arraySlice(t,0,c),this.values=La.arraySlice(e,0,c*n)):(this.times=t,this.values=e),this},clone:function(){var t=La.arraySlice(this.times,0),e=La.arraySlice(this.values,0),track=new(0,this.constructor)(this.name,t,e);return track.createInterpolant=this.createInterpolant,track}}),Ua.prototype=Object.assign(Object.create(Ba.prototype),{constructor:Ua,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Va.prototype=Object.assign(Object.create(Ba.prototype),{constructor:Va,ValueTypeName:"color"}),za.prototype=Object.assign(Object.create(Ba.prototype),{constructor:za,ValueTypeName:"number"}),Ha.prototype=Object.assign(Object.create(Ia.prototype),{constructor:Ha,interpolate_:function(t,e,n,r){for(var o=this.resultBuffer,c=this.sampleValues,l=this.valueSize,h=(n-e)/(r-e),d=t*l,f=d+l;d!==f;d+=4)V.slerpFlat(o,0,c,d-l,c,d,h);return o}}),Ga.prototype=Object.assign(Object.create(Ba.prototype),{constructor:Ga,ValueTypeName:"quaternion",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function(t){return new Ha(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),Wa.prototype=Object.assign(Object.create(Ba.prototype),{constructor:Wa,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),qa.prototype=Object.assign(Object.create(Ba.prototype),{constructor:qa,ValueTypeName:"vector"}),Object.assign($a,{parse:function(t){for(var e=[],n=t.tracks,r=1/(t.fps||1),o=0,c=n.length;o!==c;++o)e.push(Qa(n[o]).scale(r));return new $a(t.name,t.duration,e,t.blendMode)},toJSON:function(t){for(var e=[],n=t.tracks,r={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode},o=0,c=n.length;o!==c;++o)e.push(Ba.toJSON(n[o]));return r},CreateFromMorphTargetSequence:function(t,e,n,r){for(var o=e.length,c=[],l=0;l<o;l++){var h=[],d=[];h.push((l+o-1)%o,l,(l+1)%o),d.push(0,1,0);var f=La.getKeyframeOrder(h);h=La.sortedArray(h,1,f),d=La.sortedArray(d,1,f),r||0!==h[0]||(h.push(o),d.push(d[0])),c.push(new za(".morphTargetInfluences["+e[l].name+"]",h,d).scale(1/n))}return new $a(t,-1,c)},findByName:function(t,e){var n=t;if(!Array.isArray(t)){var r=t;n=r.geometry&&r.geometry.animations||r.animations}for(var o=0;o<n.length;o++)if(n[o].name===e)return n[o];return null},CreateClipsFromMorphTargetSequences:function(t,e,n){for(var r={},pattern=/^([\w-]*?)([\d]+)$/,o=0,c=t.length;o<c;o++){var l=t[o],h=l.name.match(pattern);if(h&&h.length>1){var d=h[1],f=r[d];f||(r[d]=f=[]),f.push(l)}}var m=[];for(var v in r)m.push($a.CreateFromMorphTargetSequence(v,r[v],e,n));return m},parseAnimation:function(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(t,e,n,r,o){if(0!==n.length){var c=[],l=[];La.flattenJSON(n,c,l,r),0!==c.length&&o.push(new t(e,c,l))}},r=[],o=t.name||"default",c=t.fps||30,l=t.blendMode,h=t.length||-1,d=t.hierarchy||[],f=0;f<d.length;f++){var m=d[f].keys;if(m&&0!==m.length)if(m[0].morphTargets){var v={},y=void 0;for(y=0;y<m.length;y++)if(m[y].morphTargets)for(var _=0;_<m[y].morphTargets.length;_++)v[m[y].morphTargets[_]]=-1;for(var x in v){for(var w=[],E=[],M=0;M!==m[y].morphTargets.length;++M){var S=m[y];w.push(S.time),E.push(S.morphTarget===x?1:0)}r.push(new za(".morphTargetInfluence["+x+"]",w,E))}h=v.length*(c||1)}else{var T=".bones["+e[f].name+"]";n(qa,T+".position",m,"pos",r),n(Ga,T+".quaternion",m,"rot",r),n(qa,T+".scale",m,"scl",r)}}return 0===r.length?null:new $a(o,h,r,l)}}),Object.assign($a.prototype,{resetDuration:function(){for(var t=0,e=0,n=this.tracks.length;e!==n;++e){var track=this.tracks[e];t=Math.max(t,track.times[track.times.length-1])}return this.duration=t,this},trim:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},validate:function(){for(var t=!0,e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t},optimize:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this},clone:function(){for(var t=[],e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new $a(this.name,this.duration,t,this.blendMode)}});var Xa={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};function Ya(t,e,n){var r=this,o=!1,c=0,l=0,h=void 0,d=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(t){l++,!1===o&&void 0!==r.onStart&&r.onStart(t,c,l),o=!0},this.itemEnd=function(t){c++,void 0!==r.onProgress&&r.onProgress(t,c,l),c===l&&(o=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(t){void 0!==r.onError&&r.onError(t)},this.resolveURL=function(t){return h?h(t):t},this.setURLModifier=function(t){return h=t,this},this.addHandler=function(t,e){return d.push(t,e),this},this.removeHandler=function(t){var e=d.indexOf(t);return-1!==e&&d.splice(e,2),this},this.getHandler=function(t){for(var e=0,n=d.length;e<n;e+=2){var r=d[e],o=d[e+1];if(r.global&&(r.lastIndex=0),r.test(t))return o}return null}}var Ka=new Ya;function Ja(t){this.manager=void 0!==t?t:Ka,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}Object.assign(Ja.prototype,{load:function(){},loadAsync:function(t,e){var n=this;return new Promise((function(r,o){n.load(t,r,e,o)}))},parse:function(){},setCrossOrigin:function(t){return this.crossOrigin=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setPath:function(path){return this.path=path,this},setResourcePath:function(t){return this.resourcePath=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}});var Za={};function ts(t){Ja.call(this,t)}function es(t){Ja.call(this,t)}function ns(t){Ja.call(this,t)}function rs(t){Ja.call(this,t)}function is(t){Ja.call(this,t)}function os(t){Ja.call(this,t)}function as(t){Ja.call(this,t)}function ss(){this.type="Curve",this.arcLengthDivisions=200}function us(t,e,n,r,o,c,l,h){ss.call(this),this.type="EllipseCurve",this.aX=t||0,this.aY=e||0,this.xRadius=n||1,this.yRadius=r||1,this.aStartAngle=o||0,this.aEndAngle=c||2*Math.PI,this.aClockwise=l||!1,this.aRotation=h||0}function cs(t,e,n,r,o,c){us.call(this,t,e,n,n,r,o,c),this.type="ArcCurve"}function ls(){var t=0,e=0,n=0,r=0;function o(o,c,l,h){t=o,e=l,n=-3*o+3*c-2*l-h,r=2*o-2*c+l+h}return{initCatmullRom:function(t,e,n,r,c){o(e,n,c*(n-t),c*(r-e))},initNonuniformCatmullRom:function(t,e,n,r,c,l,h){var d=(e-t)/c-(n-t)/(c+l)+(n-e)/l,f=(n-e)/l-(r-e)/(l+h)+(r-n)/h;o(e,n,d*=l,f*=l)},calc:function(o){var c=o*o;return t+e*o+n*c+r*(c*o)}}}ts.prototype=Object.assign(Object.create(Ja.prototype),{constructor:ts,load:function(t,e,n,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var o=this,c=Xa.get(t);if(void 0!==c)return o.manager.itemStart(t),setTimeout((function(){e&&e(c),o.manager.itemEnd(t)}),0),c;if(void 0===Za[t]){var l,h=t.match(/^data:(.*?)(;base64)?,(.*)$/);if(h){var d=h[1],f=!!h[2],data=h[3];data=decodeURIComponent(data),f&&(data=atob(data));try{var m,v=(this.responseType||"").toLowerCase();switch(v){case"arraybuffer":case"blob":for(var view=new Uint8Array(data.length),y=0;y<data.length;y++)view[y]=data.charCodeAt(y);m="blob"===v?new Blob([view.buffer],{type:d}):view.buffer;break;case"document":var _=new DOMParser;m=_.parseFromString(data,d);break;case"json":m=JSON.parse(data);break;default:m=data}setTimeout((function(){e&&e(m),o.manager.itemEnd(t)}),0)}catch(e){setTimeout((function(){r&&r(e),o.manager.itemError(t),o.manager.itemEnd(t)}),0)}}else{for(var header in Za[t]=[],Za[t].push({onLoad:e,onProgress:n,onError:r}),(l=new XMLHttpRequest).open("GET",t,!0),l.addEventListener("load",(function(e){var n=this.response,r=Za[t];if(delete Za[t],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),Xa.add(t,n);for(var c=0,l=r.length;c<l;c++){var h=r[c];h.onLoad&&h.onLoad(n)}o.manager.itemEnd(t)}else{for(var d=0,f=r.length;d<f;d++){var m=r[d];m.onError&&m.onError(e)}o.manager.itemError(t),o.manager.itemEnd(t)}}),!1),l.addEventListener("progress",(function(e){for(var n=Za[t],r=0,o=n.length;r<o;r++){var c=n[r];c.onProgress&&c.onProgress(e)}}),!1),l.addEventListener("error",(function(e){var n=Za[t];delete Za[t];for(var r=0,c=n.length;r<c;r++){var l=n[r];l.onError&&l.onError(e)}o.manager.itemError(t),o.manager.itemEnd(t)}),!1),l.addEventListener("abort",(function(e){var n=Za[t];delete Za[t];for(var r=0,c=n.length;r<c;r++){var l=n[r];l.onError&&l.onError(e)}o.manager.itemError(t),o.manager.itemEnd(t)}),!1),void 0!==this.responseType&&(l.responseType=this.responseType),void 0!==this.withCredentials&&(l.withCredentials=this.withCredentials),l.overrideMimeType&&l.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)l.setRequestHeader(header,this.requestHeader[header]);l.send(null)}return o.manager.itemStart(t),l}Za[t].push({onLoad:e,onProgress:n,onError:r})},setResponseType:function(t){return this.responseType=t,this},setMimeType:function(t){return this.mimeType=t,this}}),es.prototype=Object.assign(Object.create(Ja.prototype),{constructor:es,load:function(t,e,n,r){var o=this,c=new ts(o.manager);c.setPath(o.path),c.setRequestHeader(o.requestHeader),c.setWithCredentials(o.withCredentials),c.load(t,(function(text){try{e(o.parse(JSON.parse(text)))}catch(e){r?r(e):console.error(e),o.manager.itemError(t)}}),n,r)},parse:function(t){for(var e=[],n=0;n<t.length;n++){var r=$a.parse(t[n]);e.push(r)}return e}}),ns.prototype=Object.assign(Object.create(Ja.prototype),{constructor:ns,load:function(t,e,n,r){var o=this,c=[],l=new Io;l.image=c;var h=new ts(this.manager);h.setPath(this.path),h.setResponseType("arraybuffer"),h.setRequestHeader(this.requestHeader),h.setWithCredentials(o.withCredentials);var d=0;function f(i){h.load(t[i],(function(t){var n=o.parse(t,!0);c[i]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(d+=1)&&(1===n.mipmapCount&&(l.minFilter=T),l.format=n.format,l.needsUpdate=!0,e&&e(l))}),n,r)}if(Array.isArray(t))for(var m=0,v=t.length;m<v;++m)f(m);else h.load(t,(function(t){var n=o.parse(t,!0);if(n.isCubemap)for(var r=n.mipmaps.length/n.mipmapCount,h=0;h<r;h++){c[h]={mipmaps:[]};for(var d=0;d<n.mipmapCount;d++)c[h].mipmaps.push(n.mipmaps[h*n.mipmapCount+d]),c[h].format=n.format,c[h].width=n.width,c[h].height=n.height}else l.image.width=n.width,l.image.height=n.height,l.mipmaps=n.mipmaps;1===n.mipmapCount&&(l.minFilter=T),l.format=n.format,l.needsUpdate=!0,e&&e(l)}),n,r);return l}}),rs.prototype=Object.assign(Object.create(Ja.prototype),{constructor:rs,load:function(t,e,n,r){void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var o=this,c=Xa.get(t);if(void 0!==c)return o.manager.itemStart(t),setTimeout((function(){e&&e(c),o.manager.itemEnd(t)}),0),c;var image=document.createElementNS("http://www.w3.org/1999/xhtml","img");function l(){image.removeEventListener("load",l,!1),image.removeEventListener("error",h,!1),Xa.add(t,this),e&&e(this),o.manager.itemEnd(t)}function h(e){image.removeEventListener("load",l,!1),image.removeEventListener("error",h,!1),r&&r(e),o.manager.itemError(t),o.manager.itemEnd(t)}return image.addEventListener("load",l,!1),image.addEventListener("error",h,!1),"data:"!==t.substr(0,5)&&void 0!==this.crossOrigin&&(image.crossOrigin=this.crossOrigin),o.manager.itemStart(t),image.src=t,image}}),is.prototype=Object.assign(Object.create(Ja.prototype),{constructor:is,load:function(t,e,n,r){var o=new fn,c=new rs(this.manager);c.setCrossOrigin(this.crossOrigin),c.setPath(this.path);var l=0;function h(i){c.load(t[i],(function(image){o.images[i]=image,6===++l&&(o.needsUpdate=!0,e&&e(o))}),void 0,r)}for(var d=0;d<t.length;++d)h(d);return o}}),os.prototype=Object.assign(Object.create(Ja.prototype),{constructor:os,load:function(t,e,n,r){var o=this,c=new vn,l=new ts(this.manager);return l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setPath(this.path),l.setWithCredentials(o.withCredentials),l.load(t,(function(t){var n=o.parse(t);n&&(void 0!==n.image?c.image=n.image:void 0!==n.data&&(c.image.width=n.width,c.image.height=n.height,c.image.data=n.data),c.wrapS=void 0!==n.wrapS?n.wrapS:1001,c.wrapT=void 0!==n.wrapT?n.wrapT:1001,c.magFilter=void 0!==n.magFilter?n.magFilter:T,c.minFilter=void 0!==n.minFilter?n.minFilter:T,c.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(c.format=n.format),void 0!==n.type&&(c.type=n.type),void 0!==n.mipmaps&&(c.mipmaps=n.mipmaps,c.minFilter=1008),1===n.mipmapCount&&(c.minFilter=T),c.needsUpdate=!0,e&&e(c,n))}),n,r),c}}),as.prototype=Object.assign(Object.create(Ja.prototype),{constructor:as,load:function(t,e,n,r){var o=new N,c=new rs(this.manager);return c.setCrossOrigin(this.crossOrigin),c.setPath(this.path),c.load(t,(function(image){o.image=image;var n=t.search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/);o.format=n?1022:D,o.needsUpdate=!0,void 0!==e&&e(o)}),n,r),o}}),Object.assign(ss.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(u,t){var e=this.getUtoTmapping(u);return this.getPoint(e,t)},getPoints:function(t){void 0===t&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return e},getSpacedPoints:function(t){void 0===t&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(void 0===t&&(t=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,n=[],r=this.getPoint(0),o=0;n.push(0);for(var p=1;p<=t;p++)o+=(e=this.getPoint(p/t)).distanceTo(r),n.push(o),r=e;return this.cacheArcLengths=n,n},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(u,t){var e,n=this.getLengths(),i=0,r=n.length;e=t||u*n[r-1];for(var o,c=0,l=r-1;c<=l;)if((o=n[i=Math.floor(c+(l-c)/2)]-e)<0)c=i+1;else{if(!(o>0)){l=i;break}l=i-1}if(n[i=l]===e)return i/(r-1);var h=n[i];return(i+(e-h)/(n[i+1]-h))/(r-1)},getTangent:function(t,e){var n=t-1e-4,r=t+1e-4;n<0&&(n=0),r>1&&(r=1);var o=this.getPoint(n),c=this.getPoint(r),l=e||(o.isVector2?new j:new z);return l.copy(c).sub(o).normalize(),l},getTangentAt:function(u,t){var e=this.getUtoTmapping(u);return this.getTangent(e,t)},computeFrenetFrames:function(t,e){for(var n=new z,r=[],o=[],c=[],l=new z,h=new _t,d=0;d<=t;d++){var u=d/t;r[d]=this.getTangentAt(u,new z),r[d].normalize()}o[0]=new z,c[0]=new z;var f=Number.MAX_VALUE,m=Math.abs(r[0].x),v=Math.abs(r[0].y),y=Math.abs(r[0].z);m<=f&&(f=m,n.set(1,0,0)),v<=f&&(f=v,n.set(0,1,0)),y<=f&&n.set(0,0,1),l.crossVectors(r[0],n).normalize(),o[0].crossVectors(r[0],l),c[0].crossVectors(r[0],o[0]);for(var _=1;_<=t;_++){if(o[_]=o[_-1].clone(),c[_]=c[_-1].clone(),l.crossVectors(r[_-1],r[_]),l.length()>Number.EPSILON){l.normalize();var x=Math.acos(P.clamp(r[_-1].dot(r[_]),-1,1));o[_].applyMatrix4(h.makeRotationAxis(l,x))}c[_].crossVectors(r[_],o[_])}if(!0===e){var w=Math.acos(P.clamp(o[0].dot(o[t]),-1,1));w/=t,r[0].dot(l.crossVectors(o[0],o[t]))>0&&(w=-w);for(var E=1;E<=t;E++)o[E].applyMatrix4(h.makeRotationAxis(r[E],w*E)),c[E].crossVectors(r[E],o[E])}return{tangents:r,normals:o,binormals:c}},clone:function(){return(new this.constructor).copy(this)},copy:function(source){return this.arcLengthDivisions=source.arcLengthDivisions,this},toJSON:function(){var data={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return data.arcLengthDivisions=this.arcLengthDivisions,data.type=this.type,data},fromJSON:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}),us.prototype=Object.create(ss.prototype),us.prototype.constructor=us,us.prototype.isEllipseCurve=!0,us.prototype.getPoint=function(t,e){for(var n=e||new j,r=2*Math.PI,o=this.aEndAngle-this.aStartAngle,c=Math.abs(o)<Number.EPSILON;o<0;)o+=r;for(;o>r;)o-=r;o<Number.EPSILON&&(o=c?0:r),!0!==this.aClockwise||c||(o===r?o=-r:o-=r);var l=this.aStartAngle+t*o,h=this.aX+this.xRadius*Math.cos(l),d=this.aY+this.yRadius*Math.sin(l);if(0!==this.aRotation){var f=Math.cos(this.aRotation),m=Math.sin(this.aRotation),v=h-this.aX,y=d-this.aY;h=v*f-y*m+this.aX,d=v*m+y*f+this.aY}return n.set(h,d)},us.prototype.copy=function(source){return ss.prototype.copy.call(this,source),this.aX=source.aX,this.aY=source.aY,this.xRadius=source.xRadius,this.yRadius=source.yRadius,this.aStartAngle=source.aStartAngle,this.aEndAngle=source.aEndAngle,this.aClockwise=source.aClockwise,this.aRotation=source.aRotation,this},us.prototype.toJSON=function(){var data=ss.prototype.toJSON.call(this);return data.aX=this.aX,data.aY=this.aY,data.xRadius=this.xRadius,data.yRadius=this.yRadius,data.aStartAngle=this.aStartAngle,data.aEndAngle=this.aEndAngle,data.aClockwise=this.aClockwise,data.aRotation=this.aRotation,data},us.prototype.fromJSON=function(t){return ss.prototype.fromJSON.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},cs.prototype=Object.create(us.prototype),cs.prototype.constructor=cs,cs.prototype.isArcCurve=!0;var hs=new z,ps=new ls,ds=new ls,fs=new ls;function ms(t,e,n,r){ss.call(this),this.type="CatmullRomCurve3",this.points=t||[],this.closed=e||!1,this.curveType=n||"centripetal",this.tension=void 0!==r?r:.5}function vs(t,e,n,r,o){var c=.5*(r-e),l=.5*(o-n),h=t*t;return(2*n-2*r+c+l)*(t*h)+(-3*n+3*r-2*c-l)*h+c*t+n}function gs(t,e,n,r){return function(t,p){var e=1-t;return e*e*p}(t,e)+function(t,p){return 2*(1-t)*t*p}(t,n)+function(t,p){return t*t*p}(t,r)}function ys(t,e,n,r,o){return function(t,p){var e=1-t;return e*e*e*p}(t,e)+function(t,p){var e=1-t;return 3*e*e*t*p}(t,n)+function(t,p){return 3*(1-t)*t*t*p}(t,r)+function(t,p){return t*t*t*p}(t,o)}function _s(t,e,n,r){ss.call(this),this.type="CubicBezierCurve",this.v0=t||new j,this.v1=e||new j,this.v2=n||new j,this.v3=r||new j}function bs(t,e,n,r){ss.call(this),this.type="CubicBezierCurve3",this.v0=t||new z,this.v1=e||new z,this.v2=n||new z,this.v3=r||new z}function xs(t,e){ss.call(this),this.type="LineCurve",this.v1=t||new j,this.v2=e||new j}function ws(t,e){ss.call(this),this.type="LineCurve3",this.v1=t||new z,this.v2=e||new z}function Es(t,e,n){ss.call(this),this.type="QuadraticBezierCurve",this.v0=t||new j,this.v1=e||new j,this.v2=n||new j}function Ms(t,e,n){ss.call(this),this.type="QuadraticBezierCurve3",this.v0=t||new z,this.v1=e||new z,this.v2=n||new z}function Ss(t){ss.call(this),this.type="SplineCurve",this.points=t||[]}ms.prototype=Object.create(ss.prototype),ms.prototype.constructor=ms,ms.prototype.isCatmullRomCurve3=!0,ms.prototype.getPoint=function(t,e){var n,r,o=e||new z,c=this.points,l=c.length,p=(l-(this.closed?0:1))*t,h=Math.floor(p),d=p-h;this.closed?h+=h>0?0:(Math.floor(Math.abs(h)/l)+1)*l:0===d&&h===l-1&&(h=l-2,d=1),this.closed||h>0?n=c[(h-1)%l]:(hs.subVectors(c[0],c[1]).add(c[0]),n=hs);var f=c[h%l],m=c[(h+1)%l];if(this.closed||h+2<l?r=c[(h+2)%l]:(hs.subVectors(c[l-1],c[l-2]).add(c[l-1]),r=hs),"centripetal"===this.curveType||"chordal"===this.curveType){var v="chordal"===this.curveType?.5:.25,y=Math.pow(n.distanceToSquared(f),v),_=Math.pow(f.distanceToSquared(m),v),x=Math.pow(m.distanceToSquared(r),v);_<1e-4&&(_=1),y<1e-4&&(y=_),x<1e-4&&(x=_),ps.initNonuniformCatmullRom(n.x,f.x,m.x,r.x,y,_,x),ds.initNonuniformCatmullRom(n.y,f.y,m.y,r.y,y,_,x),fs.initNonuniformCatmullRom(n.z,f.z,m.z,r.z,y,_,x)}else"catmullrom"===this.curveType&&(ps.initCatmullRom(n.x,f.x,m.x,r.x,this.tension),ds.initCatmullRom(n.y,f.y,m.y,r.y,this.tension),fs.initCatmullRom(n.z,f.z,m.z,r.z,this.tension));return o.set(ps.calc(d),ds.calc(d),fs.calc(d)),o},ms.prototype.copy=function(source){ss.prototype.copy.call(this,source),this.points=[];for(var t=0,e=source.points.length;t<e;t++){var n=source.points[t];this.points.push(n.clone())}return this.closed=source.closed,this.curveType=source.curveType,this.tension=source.tension,this},ms.prototype.toJSON=function(){var data=ss.prototype.toJSON.call(this);data.points=[];for(var t=0,e=this.points.length;t<e;t++){var n=this.points[t];data.points.push(n.toArray())}return data.closed=this.closed,data.curveType=this.curveType,data.tension=this.tension,data},ms.prototype.fromJSON=function(t){ss.prototype.fromJSON.call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++){var r=t.points[e];this.points.push((new z).fromArray(r))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},_s.prototype=Object.create(ss.prototype),_s.prototype.constructor=_s,_s.prototype.isCubicBezierCurve=!0,_s.prototype.getPoint=function(t,e){var n=e||new j,r=this.v0,o=this.v1,c=this.v2,l=this.v3;return n.set(ys(t,r.x,o.x,c.x,l.x),ys(t,r.y,o.y,c.y,l.y)),n},_s.prototype.copy=function(source){return ss.prototype.copy.call(this,source),this.v0.copy(source.v0),this.v1.copy(source.v1),this.v2.copy(source.v2),this.v3.copy(source.v3),this},_s.prototype.toJSON=function(){var data=ss.prototype.toJSON.call(this);return data.v0=this.v0.toArray(),data.v1=this.v1.toArray(),data.v2=this.v2.toArray(),data.v3=this.v3.toArray(),data},_s.prototype.fromJSON=function(t){return ss.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},bs.prototype=Object.create(ss.prototype),bs.prototype.constructor=bs,bs.prototype.isCubicBezierCurve3=!0,bs.prototype.getPoint=function(t,e){var n=e||new z,r=this.v0,o=this.v1,c=this.v2,l=this.v3;return n.set(ys(t,r.x,o.x,c.x,l.x),ys(t,r.y,o.y,c.y,l.y),ys(t,r.z,o.z,c.z,l.z)),n},bs.prototype.copy=function(source){return ss.prototype.copy.call(this,source),this.v0.copy(source.v0),this.v1.copy(source.v1),this.v2.copy(source.v2),this.v3.copy(source.v3),this},bs.prototype.toJSON=function(){var data=ss.prototype.toJSON.call(this);return data.v0=this.v0.toArray(),data.v1=this.v1.toArray(),data.v2=this.v2.toArray(),data.v3=this.v3.toArray(),data},bs.prototype.fromJSON=function(t){return ss.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},xs.prototype=Object.create(ss.prototype),xs.prototype.constructor=xs,xs.prototype.isLineCurve=!0,xs.prototype.getPoint=function(t,e){var n=e||new j;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n},xs.prototype.getPointAt=function(u,t){return this.getPoint(u,t)},xs.prototype.getTangent=function(t,e){var n=e||new j;return n.copy(this.v2).sub(this.v1).normalize(),n},xs.prototype.copy=function(source){return ss.prototype.copy.call(this,source),this.v1.copy(source.v1),this.v2.copy(source.v2),this},xs.prototype.toJSON=function(){var data=ss.prototype.toJSON.call(this);return data.v1=this.v1.toArray(),data.v2=this.v2.toArray(),data},xs.prototype.fromJSON=function(t){return ss.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},ws.prototype=Object.create(ss.prototype),ws.prototype.constructor=ws,ws.prototype.isLineCurve3=!0,ws.prototype.getPoint=function(t,e){var n=e||new z;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n},ws.prototype.getPointAt=function(u,t){return this.getPoint(u,t)},ws.prototype.copy=function(source){return ss.prototype.copy.call(this,source),this.v1.copy(source.v1),this.v2.copy(source.v2),this},ws.prototype.toJSON=function(){var data=ss.prototype.toJSON.call(this);return data.v1=this.v1.toArray(),data.v2=this.v2.toArray(),data},ws.prototype.fromJSON=function(t){return ss.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},Es.prototype=Object.create(ss.prototype),Es.prototype.constructor=Es,Es.prototype.isQuadraticBezierCurve=!0,Es.prototype.getPoint=function(t,e){var n=e||new j,r=this.v0,o=this.v1,c=this.v2;return n.set(gs(t,r.x,o.x,c.x),gs(t,r.y,o.y,c.y)),n},Es.prototype.copy=function(source){return ss.prototype.copy.call(this,source),this.v0.copy(source.v0),this.v1.copy(source.v1),this.v2.copy(source.v2),this},Es.prototype.toJSON=function(){var data=ss.prototype.toJSON.call(this);return data.v0=this.v0.toArray(),data.v1=this.v1.toArray(),data.v2=this.v2.toArray(),data},Es.prototype.fromJSON=function(t){return ss.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},Ms.prototype=Object.create(ss.prototype),Ms.prototype.constructor=Ms,Ms.prototype.isQuadraticBezierCurve3=!0,Ms.prototype.getPoint=function(t,e){var n=e||new z,r=this.v0,o=this.v1,c=this.v2;return n.set(gs(t,r.x,o.x,c.x),gs(t,r.y,o.y,c.y),gs(t,r.z,o.z,c.z)),n},Ms.prototype.copy=function(source){return ss.prototype.copy.call(this,source),this.v0.copy(source.v0),this.v1.copy(source.v1),this.v2.copy(source.v2),this},Ms.prototype.toJSON=function(){var data=ss.prototype.toJSON.call(this);return data.v0=this.v0.toArray(),data.v1=this.v1.toArray(),data.v2=this.v2.toArray(),data},Ms.prototype.fromJSON=function(t){return ss.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},Ss.prototype=Object.create(ss.prototype),Ss.prototype.constructor=Ss,Ss.prototype.isSplineCurve=!0,Ss.prototype.getPoint=function(t,e){var n=e||new j,r=this.points,p=(r.length-1)*t,o=Math.floor(p),c=p-o,l=r[0===o?o:o-1],h=r[o],d=r[o>r.length-2?r.length-1:o+1],f=r[o>r.length-3?r.length-1:o+2];return n.set(vs(c,l.x,h.x,d.x,f.x),vs(c,l.y,h.y,d.y,f.y)),n},Ss.prototype.copy=function(source){ss.prototype.copy.call(this,source),this.points=[];for(var t=0,e=source.points.length;t<e;t++){var n=source.points[t];this.points.push(n.clone())}return this},Ss.prototype.toJSON=function(){var data=ss.prototype.toJSON.call(this);data.points=[];for(var t=0,e=this.points.length;t<e;t++){var n=this.points[t];data.points.push(n.toArray())}return data},Ss.prototype.fromJSON=function(t){ss.prototype.fromJSON.call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++){var r=t.points[e];this.points.push((new j).fromArray(r))}return this};var Ts=Object.freeze({__proto__:null,ArcCurve:cs,CatmullRomCurve3:ms,CubicBezierCurve:_s,CubicBezierCurve3:bs,EllipseCurve:us,LineCurve:xs,LineCurve3:ws,QuadraticBezierCurve:Es,QuadraticBezierCurve3:Ms,SplineCurve:Ss});function Ds(){ss.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function Os(t){Ds.call(this),this.type="Path",this.currentPoint=new j,t&&this.setFromPoints(t)}function Cs(t){Os.call(this,t),this.uuid=P.generateUUID(),this.type="Shape",this.holes=[]}function As(t,e){Gt.call(this),this.type="Light",this.color=new pe(t),this.intensity=void 0!==e?e:1}function ks(t,e,n){As.call(this,t,n),this.type="HemisphereLight",this.position.copy(Gt.DefaultUp),this.updateMatrix(),this.groundColor=new pe(e)}function Ps(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new j(512,512),this.map=null,this.mapPass=null,this.matrix=new _t,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new _n,this._frameExtents=new j(1,1),this._viewportCount=1,this._viewports=[new F(0,0,1,1)]}function js(){Ps.call(this,new pn(50,1,.5,500)),this.focus=1}function Ls(t,e,n,r,o,c){As.call(this,t,e),this.type="SpotLight",this.position.copy(Gt.DefaultUp),this.updateMatrix(),this.target=new Gt,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==o?o:0,this.decay=void 0!==c?c:1,this.shadow=new js}function Is(){Ps.call(this,new pn(90,1,.5,500)),this._frameExtents=new j(4,2),this._viewportCount=6,this._viewports=[new F(2,1,1,1),new F(0,1,1,1),new F(3,1,1,1),new F(1,1,1,1),new F(3,0,1,1),new F(1,0,1,1)],this._cubeDirections=[new z(1,0,0),new z(-1,0,0),new z(0,0,1),new z(0,0,-1),new z(0,1,0),new z(0,-1,0)],this._cubeUps=[new z(0,1,0),new z(0,1,0),new z(0,1,0),new z(0,1,0),new z(0,0,1),new z(0,0,-1)]}function Rs(t,e,n,r){As.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new Is}function Ns(t,e,n,r,o,c){hn.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==t?t:-1,this.right=void 0!==e?e:1,this.top=void 0!==n?n:1,this.bottom=void 0!==r?r:-1,this.near=void 0!==o?o:.1,this.far=void 0!==c?c:2e3,this.updateProjectionMatrix()}function Fs(){Ps.call(this,new Ns(-5,5,5,-5,.5,500))}function Bs(t,e){As.call(this,t,e),this.type="DirectionalLight",this.position.copy(Gt.DefaultUp),this.updateMatrix(),this.target=new Gt,this.shadow=new Fs}function Us(t,e){As.call(this,t,e),this.type="AmbientLight"}function Vs(t,e,n,r){As.call(this,t,e),this.type="RectAreaLight",this.width=void 0!==n?n:10,this.height=void 0!==r?r:10}Ds.prototype=Object.assign(Object.create(ss.prototype),{constructor:Ds,add:function(t){this.curves.push(t)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new xs(e,t))},getPoint:function(t){for(var e=t*this.getLength(),n=this.getCurveLengths(),i=0;i<n.length;){if(n[i]>=e){var r=n[i]-e,o=this.curves[i],c=o.getLength(),u=0===c?0:1-r/c;return o.getPointAt(u)}i++}return null},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,n=0,r=this.curves.length;n<r;n++)e+=this.curves[n].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(t){void 0===t&&(t=40);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t){t=t||12;for(var e,n=[],r=0,o=this.curves;r<o.length;r++)for(var c=o[r],l=c&&c.isEllipseCurve?2*t:c&&(c.isLineCurve||c.isLineCurve3)?1:c&&c.isSplineCurve?t*c.points.length:t,h=c.getPoints(l),d=0;d<h.length;d++){var f=h[d];e&&e.equals(f)||(n.push(f),e=f)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},copy:function(source){ss.prototype.copy.call(this,source),this.curves=[];for(var t=0,e=source.curves.length;t<e;t++){var n=source.curves[t];this.curves.push(n.clone())}return this.autoClose=source.autoClose,this},toJSON:function(){var data=ss.prototype.toJSON.call(this);data.autoClose=this.autoClose,data.curves=[];for(var t=0,e=this.curves.length;t<e;t++){var n=this.curves[t];data.curves.push(n.toJSON())}return data},fromJSON:function(t){ss.prototype.fromJSON.call(this,t),this.autoClose=t.autoClose,this.curves=[];for(var e=0,n=t.curves.length;e<n;e++){var r=t.curves[e];this.curves.push((new Ts[r.type]).fromJSON(r))}return this}}),Os.prototype=Object.assign(Object.create(Ds.prototype),{constructor:Os,setFromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,n=t.length;e<n;e++)this.lineTo(t[e].x,t[e].y);return this},moveTo:function(t,e){return this.currentPoint.set(t,e),this},lineTo:function(t,e){var n=new xs(this.currentPoint.clone(),new j(t,e));return this.curves.push(n),this.currentPoint.set(t,e),this},quadraticCurveTo:function(t,e,n,r){var o=new Es(this.currentPoint.clone(),new j(t,e),new j(n,r));return this.curves.push(o),this.currentPoint.set(n,r),this},bezierCurveTo:function(t,e,n,r,o,c){var l=new _s(this.currentPoint.clone(),new j(t,e),new j(n,r),new j(o,c));return this.curves.push(l),this.currentPoint.set(o,c),this},splineThru:function(t){var e=new Ss([this.currentPoint.clone()].concat(t));return this.curves.push(e),this.currentPoint.copy(t[t.length-1]),this},arc:function(t,e,n,r,o,c){var l=this.currentPoint.x,h=this.currentPoint.y;return this.absarc(t+l,e+h,n,r,o,c),this},absarc:function(t,e,n,r,o,c){return this.absellipse(t,e,n,n,r,o,c),this},ellipse:function(t,e,n,r,o,c,l,h){var d=this.currentPoint.x,f=this.currentPoint.y;return this.absellipse(t+d,e+f,n,r,o,c,l,h),this},absellipse:function(t,e,n,r,o,c,l,h){var d=new us(t,e,n,r,o,c,l,h);if(this.curves.length>0){var f=d.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(d);var m=d.getPoint(1);return this.currentPoint.copy(m),this},copy:function(source){return Ds.prototype.copy.call(this,source),this.currentPoint.copy(source.currentPoint),this},toJSON:function(){var data=Ds.prototype.toJSON.call(this);return data.currentPoint=this.currentPoint.toArray(),data},fromJSON:function(t){return Ds.prototype.fromJSON.call(this,t),this.currentPoint.fromArray(t.currentPoint),this}}),Cs.prototype=Object.assign(Object.create(Os.prototype),{constructor:Cs,getPointsHoles:function(t){for(var e=[],n=0,r=this.holes.length;n<r;n++)e[n]=this.holes[n].getPoints(t);return e},extractPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},copy:function(source){Os.prototype.copy.call(this,source),this.holes=[];for(var t=0,e=source.holes.length;t<e;t++){var n=source.holes[t];this.holes.push(n.clone())}return this},toJSON:function(){var data=Os.prototype.toJSON.call(this);data.uuid=this.uuid,data.holes=[];for(var t=0,e=this.holes.length;t<e;t++){var n=this.holes[t];data.holes.push(n.toJSON())}return data},fromJSON:function(t){Os.prototype.fromJSON.call(this,t),this.uuid=t.uuid,this.holes=[];for(var e=0,n=t.holes.length;e<n;e++){var r=t.holes[e];this.holes.push((new Os).fromJSON(r))}return this}}),As.prototype=Object.assign(Object.create(Gt.prototype),{constructor:As,isLight:!0,copy:function(source){return Gt.prototype.copy.call(this,source),this.color.copy(source.color),this.intensity=source.intensity,this},toJSON:function(meta){var data=Gt.prototype.toJSON.call(this,meta);return data.object.color=this.color.getHex(),data.object.intensity=this.intensity,void 0!==this.groundColor&&(data.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(data.object.distance=this.distance),void 0!==this.angle&&(data.object.angle=this.angle),void 0!==this.decay&&(data.object.decay=this.decay),void 0!==this.penumbra&&(data.object.penumbra=this.penumbra),void 0!==this.shadow&&(data.object.shadow=this.shadow.toJSON()),data}}),ks.prototype=Object.assign(Object.create(As.prototype),{constructor:ks,isHemisphereLight:!0,copy:function(source){return As.prototype.copy.call(this,source),this.groundColor.copy(source.groundColor),this}}),Object.assign(Ps.prototype,{_projScreenMatrix:new _t,_lightPositionWorld:new z,_lookTarget:new z,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(t){var e=this.camera,n=this.matrix,r=this._projScreenMatrix,o=this._lookTarget,c=this._lightPositionWorld;c.setFromMatrixPosition(t.matrixWorld),e.position.copy(c),o.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(o),e.updateMatrixWorld(),r.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(r),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(e.projectionMatrix),n.multiply(e.matrixWorldInverse)},getViewport:function(t){return this._viewports[t]},getFrameExtents:function(){return this._frameExtents},copy:function(source){return this.camera=source.camera.clone(),this.bias=source.bias,this.radius=source.radius,this.mapSize.copy(source.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var object={};return 0!==this.bias&&(object.bias=this.bias),0!==this.normalBias&&(object.normalBias=this.normalBias),1!==this.radius&&(object.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(object.mapSize=this.mapSize.toArray()),object.camera=this.camera.toJSON(!1).object,delete object.camera.matrix,object}}),js.prototype=Object.assign(Object.create(Ps.prototype),{constructor:js,isSpotLightShadow:!0,updateMatrices:function(t){var e=this.camera,n=2*P.RAD2DEG*t.angle*this.focus,r=this.mapSize.width/this.mapSize.height,o=t.distance||e.far;n===e.fov&&r===e.aspect&&o===e.far||(e.fov=n,e.aspect=r,e.far=o,e.updateProjectionMatrix()),Ps.prototype.updateMatrices.call(this,t)}}),Ls.prototype=Object.assign(Object.create(As.prototype),{constructor:Ls,isSpotLight:!0,copy:function(source){return As.prototype.copy.call(this,source),this.distance=source.distance,this.angle=source.angle,this.penumbra=source.penumbra,this.decay=source.decay,this.target=source.target.clone(),this.shadow=source.shadow.clone(),this}}),Is.prototype=Object.assign(Object.create(Ps.prototype),{constructor:Is,isPointLightShadow:!0,updateMatrices:function(t,e){void 0===e&&(e=0);var n=this.camera,r=this.matrix,o=this._lightPositionWorld,c=this._lookTarget,l=this._projScreenMatrix;o.setFromMatrixPosition(t.matrixWorld),n.position.copy(o),c.copy(n.position),c.add(this._cubeDirections[e]),n.up.copy(this._cubeUps[e]),n.lookAt(c),n.updateMatrixWorld(),r.makeTranslation(-o.x,-o.y,-o.z),l.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(l)}}),Rs.prototype=Object.assign(Object.create(As.prototype),{constructor:Rs,isPointLight:!0,copy:function(source){return As.prototype.copy.call(this,source),this.distance=source.distance,this.decay=source.decay,this.shadow=source.shadow.clone(),this}}),Ns.prototype=Object.assign(Object.create(hn.prototype),{constructor:Ns,isOrthographicCamera:!0,copy:function(source,t){return hn.prototype.copy.call(this,source,t),this.left=source.left,this.right=source.right,this.top=source.top,this.bottom=source.bottom,this.near=source.near,this.far=source.far,this.zoom=source.zoom,this.view=null===source.view?null:Object.assign({},source.view),this},setViewOffset:function(t,e,n,r,o,c){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=o,this.view.height=c,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,o=n-t,c=n+t,l=r+e,h=r-e;if(null!==this.view&&this.view.enabled){var d=(this.right-this.left)/this.view.fullWidth/this.zoom,f=(this.top-this.bottom)/this.view.fullHeight/this.zoom;c=(o+=d*this.view.offsetX)+d*this.view.width,h=(l-=f*this.view.offsetY)-f*this.view.height}this.projectionMatrix.makeOrthographic(o,c,l,h,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(meta){var data=Gt.prototype.toJSON.call(this,meta);return data.object.zoom=this.zoom,data.object.left=this.left,data.object.right=this.right,data.object.top=this.top,data.object.bottom=this.bottom,data.object.near=this.near,data.object.far=this.far,null!==this.view&&(data.object.view=Object.assign({},this.view)),data}}),Fs.prototype=Object.assign(Object.create(Ps.prototype),{constructor:Fs,isDirectionalLightShadow:!0,updateMatrices:function(t){Ps.prototype.updateMatrices.call(this,t)}}),Bs.prototype=Object.assign(Object.create(As.prototype),{constructor:Bs,isDirectionalLight:!0,copy:function(source){return As.prototype.copy.call(this,source),this.target=source.target.clone(),this.shadow=source.shadow.clone(),this}}),Us.prototype=Object.assign(Object.create(As.prototype),{constructor:Us,isAmbientLight:!0}),Vs.prototype=Object.assign(Object.create(As.prototype),{constructor:Vs,isRectAreaLight:!0,copy:function(source){return As.prototype.copy.call(this,source),this.width=source.width,this.height=source.height,this},toJSON:function(meta){var data=As.prototype.toJSON.call(this,meta);return data.object.width=this.width,data.object.height=this.height,data}});var zs=function(){function t(){Object(v.a)(this,t),Object.defineProperty(this,"isSphericalHarmonics3",{value:!0}),this.coefficients=[];for(var e=0;e<9;e++)this.coefficients.push(new z)}return Object(y.a)(t,[{key:"set",value:function(t){for(var e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this}},{key:"zero",value:function(){for(var t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}},{key:"getAt",value:function(t,e){var n=t.x,r=t.y,o=t.z,c=this.coefficients;return e.copy(c[0]).multiplyScalar(.282095),e.addScaledVector(c[1],.488603*r),e.addScaledVector(c[2],.488603*o),e.addScaledVector(c[3],.488603*n),e.addScaledVector(c[4],n*r*1.092548),e.addScaledVector(c[5],r*o*1.092548),e.addScaledVector(c[6],.315392*(3*o*o-1)),e.addScaledVector(c[7],n*o*1.092548),e.addScaledVector(c[8],.546274*(n*n-r*r)),e}},{key:"getIrradianceAt",value:function(t,e){var n=t.x,r=t.y,o=t.z,c=this.coefficients;return e.copy(c[0]).multiplyScalar(.886227),e.addScaledVector(c[1],1.023328*r),e.addScaledVector(c[2],1.023328*o),e.addScaledVector(c[3],1.023328*n),e.addScaledVector(c[4],.858086*n*r),e.addScaledVector(c[5],.858086*r*o),e.addScaledVector(c[6],.743125*o*o-.247708),e.addScaledVector(c[7],.858086*n*o),e.addScaledVector(c[8],.429043*(n*n-r*r)),e}},{key:"add",value:function(t){for(var e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this}},{key:"addScaledSH",value:function(t,s){for(var e=0;e<9;e++)this.coefficients[e].addScaledVector(t.coefficients[e],s);return this}},{key:"scale",value:function(s){for(var t=0;t<9;t++)this.coefficients[t].multiplyScalar(s);return this}},{key:"lerp",value:function(t,e){for(var n=0;n<9;n++)this.coefficients[n].lerp(t.coefficients[n],e);return this}},{key:"equals",value:function(t){for(var e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0}},{key:"copy",value:function(t){return this.set(t.coefficients)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"fromArray",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,r=0;r<9;r++)n[r].fromArray(t,e+3*r);return this}},{key:"toArray",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,r=0;r<9;r++)n[r].toArray(t,e+3*r);return t}}],[{key:"getBasisAt",value:function(t,e){var n=t.x,r=t.y,o=t.z;e[0]=.282095,e[1]=.488603*r,e[2]=.488603*o,e[3]=.488603*n,e[4]=1.092548*n*r,e[5]=1.092548*r*o,e[6]=.315392*(3*o*o-1),e[7]=1.092548*n*o,e[8]=.546274*(n*n-r*r)}}]),t}();function Hs(t,e){As.call(this,void 0,e),this.type="LightProbe",this.sh=void 0!==t?t:new zs}function Gs(t){Ja.call(this,t),this.textures={}}Hs.prototype=Object.assign(Object.create(As.prototype),{constructor:Hs,isLightProbe:!0,copy:function(source){return As.prototype.copy.call(this,source),this.sh.copy(source.sh),this},fromJSON:function(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this},toJSON:function(meta){var data=As.prototype.toJSON.call(this,meta);return data.object.sh=this.sh.toArray(),data}}),Gs.prototype=Object.assign(Object.create(Ja.prototype),{constructor:Gs,load:function(t,e,n,r){var o=this,c=new ts(o.manager);c.setPath(o.path),c.setRequestHeader(o.requestHeader),c.setWithCredentials(o.withCredentials),c.load(t,(function(text){try{e(o.parse(JSON.parse(text)))}catch(e){r?r(e):console.error(e),o.manager.itemError(t)}}),n,r)},parse:function(t){var e=this.textures;function n(t){return void 0===e[t]&&console.warn("THREE.MaterialLoader: Undefined texture",t),e[t]}var r=new ja[t.type];if(void 0!==t.uuid&&(r.uuid=t.uuid),void 0!==t.name&&(r.name=t.name),void 0!==t.color&&void 0!==r.color&&r.color.setHex(t.color),void 0!==t.roughness&&(r.roughness=t.roughness),void 0!==t.metalness&&(r.metalness=t.metalness),void 0!==t.sheen&&(r.sheen=(new pe).setHex(t.sheen)),void 0!==t.emissive&&void 0!==r.emissive&&r.emissive.setHex(t.emissive),void 0!==t.specular&&void 0!==r.specular&&r.specular.setHex(t.specular),void 0!==t.shininess&&(r.shininess=t.shininess),void 0!==t.clearcoat&&(r.clearcoat=t.clearcoat),void 0!==t.clearcoatRoughness&&(r.clearcoatRoughness=t.clearcoatRoughness),void 0!==t.fog&&(r.fog=t.fog),void 0!==t.flatShading&&(r.flatShading=t.flatShading),void 0!==t.blending&&(r.blending=t.blending),void 0!==t.combine&&(r.combine=t.combine),void 0!==t.side&&(r.side=t.side),void 0!==t.opacity&&(r.opacity=t.opacity),void 0!==t.transparent&&(r.transparent=t.transparent),void 0!==t.alphaTest&&(r.alphaTest=t.alphaTest),void 0!==t.depthTest&&(r.depthTest=t.depthTest),void 0!==t.depthWrite&&(r.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(r.colorWrite=t.colorWrite),void 0!==t.stencilWrite&&(r.stencilWrite=t.stencilWrite),void 0!==t.stencilWriteMask&&(r.stencilWriteMask=t.stencilWriteMask),void 0!==t.stencilFunc&&(r.stencilFunc=t.stencilFunc),void 0!==t.stencilRef&&(r.stencilRef=t.stencilRef),void 0!==t.stencilFuncMask&&(r.stencilFuncMask=t.stencilFuncMask),void 0!==t.stencilFail&&(r.stencilFail=t.stencilFail),void 0!==t.stencilZFail&&(r.stencilZFail=t.stencilZFail),void 0!==t.stencilZPass&&(r.stencilZPass=t.stencilZPass),void 0!==t.wireframe&&(r.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(r.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(r.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(r.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.rotation&&(r.rotation=t.rotation),1!==t.linewidth&&(r.linewidth=t.linewidth),void 0!==t.dashSize&&(r.dashSize=t.dashSize),void 0!==t.gapSize&&(r.gapSize=t.gapSize),void 0!==t.scale&&(r.scale=t.scale),void 0!==t.polygonOffset&&(r.polygonOffset=t.polygonOffset),void 0!==t.polygonOffsetFactor&&(r.polygonOffsetFactor=t.polygonOffsetFactor),void 0!==t.polygonOffsetUnits&&(r.polygonOffsetUnits=t.polygonOffsetUnits),void 0!==t.skinning&&(r.skinning=t.skinning),void 0!==t.morphTargets&&(r.morphTargets=t.morphTargets),void 0!==t.morphNormals&&(r.morphNormals=t.morphNormals),void 0!==t.dithering&&(r.dithering=t.dithering),void 0!==t.vertexTangents&&(r.vertexTangents=t.vertexTangents),void 0!==t.visible&&(r.visible=t.visible),void 0!==t.toneMapped&&(r.toneMapped=t.toneMapped),void 0!==t.userData&&(r.userData=t.userData),void 0!==t.vertexColors&&("number"==typeof t.vertexColors?r.vertexColors=t.vertexColors>0:r.vertexColors=t.vertexColors),void 0!==t.uniforms)for(var o in t.uniforms){var c=t.uniforms[o];switch(r.uniforms[o]={},c.type){case"t":r.uniforms[o].value=n(c.value);break;case"c":r.uniforms[o].value=(new pe).setHex(c.value);break;case"v2":r.uniforms[o].value=(new j).fromArray(c.value);break;case"v3":r.uniforms[o].value=(new z).fromArray(c.value);break;case"v4":r.uniforms[o].value=(new F).fromArray(c.value);break;case"m3":r.uniforms[o].value=(new L).fromArray(c.value);break;case"m4":r.uniforms[o].value=(new _t).fromArray(c.value);break;default:r.uniforms[o].value=c.value}}if(void 0!==t.defines&&(r.defines=t.defines),void 0!==t.vertexShader&&(r.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(r.fragmentShader=t.fragmentShader),void 0!==t.extensions)for(var l in t.extensions)r.extensions[l]=t.extensions[l];if(void 0!==t.shading&&(r.flatShading=1===t.shading),void 0!==t.size&&(r.size=t.size),void 0!==t.sizeAttenuation&&(r.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(r.map=n(t.map)),void 0!==t.matcap&&(r.matcap=n(t.matcap)),void 0!==t.alphaMap&&(r.alphaMap=n(t.alphaMap)),void 0!==t.bumpMap&&(r.bumpMap=n(t.bumpMap)),void 0!==t.bumpScale&&(r.bumpScale=t.bumpScale),void 0!==t.normalMap&&(r.normalMap=n(t.normalMap)),void 0!==t.normalMapType&&(r.normalMapType=t.normalMapType),void 0!==t.normalScale){var h=t.normalScale;!1===Array.isArray(h)&&(h=[h,h]),r.normalScale=(new j).fromArray(h)}return void 0!==t.displacementMap&&(r.displacementMap=n(t.displacementMap)),void 0!==t.displacementScale&&(r.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(r.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(r.roughnessMap=n(t.roughnessMap)),void 0!==t.metalnessMap&&(r.metalnessMap=n(t.metalnessMap)),void 0!==t.emissiveMap&&(r.emissiveMap=n(t.emissiveMap)),void 0!==t.emissiveIntensity&&(r.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(r.specularMap=n(t.specularMap)),void 0!==t.envMap&&(r.envMap=n(t.envMap)),void 0!==t.envMapIntensity&&(r.envMapIntensity=t.envMapIntensity),void 0!==t.reflectivity&&(r.reflectivity=t.reflectivity),void 0!==t.refractionRatio&&(r.refractionRatio=t.refractionRatio),void 0!==t.lightMap&&(r.lightMap=n(t.lightMap)),void 0!==t.lightMapIntensity&&(r.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(r.aoMap=n(t.aoMap)),void 0!==t.aoMapIntensity&&(r.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(r.gradientMap=n(t.gradientMap)),void 0!==t.clearcoatMap&&(r.clearcoatMap=n(t.clearcoatMap)),void 0!==t.clearcoatRoughnessMap&&(r.clearcoatRoughnessMap=n(t.clearcoatRoughnessMap)),void 0!==t.clearcoatNormalMap&&(r.clearcoatNormalMap=n(t.clearcoatNormalMap)),void 0!==t.clearcoatNormalScale&&(r.clearcoatNormalScale=(new j).fromArray(t.clearcoatNormalScale)),void 0!==t.transmission&&(r.transmission=t.transmission),void 0!==t.transmissionMap&&(r.transmissionMap=n(t.transmissionMap)),r},setTextures:function(t){return this.textures=t,this}});var Ws=function(t){var e=t.lastIndexOf("/");return-1===e?"./":t.substr(0,e+1)};function qs(){Fe.call(this),this.type="InstancedBufferGeometry",this.instanceCount=1/0}function $s(t,e,n,r){"number"==typeof n&&(r=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),_e.call(this,t,e,n),this.meshPerAttribute=r||1}function Qs(t){Ja.call(this,t)}qs.prototype=Object.assign(Object.create(Fe.prototype),{constructor:qs,isInstancedBufferGeometry:!0,copy:function(source){return Fe.prototype.copy.call(this,source),this.instanceCount=source.instanceCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var data=Fe.prototype.toJSON.call(this);return data.instanceCount=this.instanceCount,data.isInstancedBufferGeometry=!0,data}}),$s.prototype=Object.assign(Object.create(_e.prototype),{constructor:$s,isInstancedBufferAttribute:!0,copy:function(source){return _e.prototype.copy.call(this,source),this.meshPerAttribute=source.meshPerAttribute,this},toJSON:function(){var data=_e.prototype.toJSON.call(this);return data.meshPerAttribute=this.meshPerAttribute,data.isInstancedBufferAttribute=!0,data}}),Qs.prototype=Object.assign(Object.create(Ja.prototype),{constructor:Qs,load:function(t,e,n,r){var o=this,c=new ts(o.manager);c.setPath(o.path),c.setRequestHeader(o.requestHeader),c.setWithCredentials(o.withCredentials),c.load(t,(function(text){try{e(o.parse(JSON.parse(text)))}catch(e){r?r(e):console.error(e),o.manager.itemError(t)}}),n,r)},parse:function(t){var e={},n={};function r(t,r){if(void 0!==e[r])return e[r];var o=t.interleavedBuffers[r],c=function(t,e){if(void 0!==n[e])return n[e];var r=t.arrayBuffers[e],o=new Uint32Array(r).buffer;return n[e]=o,o}(t,o.buffer),l=new Pi(new Ys[o.type](c),o.stride);return l.uuid=o.uuid,e[r]=l,l}var o=t.isInstancedBufferGeometry?new qs:new Fe,c=t.data.index;if(void 0!==c){var l=new Ys[c.type](c.array);o.setIndex(new _e(l,1))}var h=t.data.attributes;for(var d in h){var f=h[d],m=void 0;if(f.isInterleavedBufferAttribute){m=new Ii(r(t.data,f.data),f.itemSize,f.offset,f.normalized)}else{var v=new Ys[f.type](f.array);m=new(f.isInstancedBufferAttribute?$s:_e)(v,f.itemSize,f.normalized)}void 0!==f.name&&(m.name=f.name),o.setAttribute(d,m)}var y=t.data.morphAttributes;if(y)for(var _ in y){for(var x=y[_],w=[],E=0,M=x.length;E<M;E++){var S=x[E],T=void 0;if(S.isInterleavedBufferAttribute)T=new Ii(r(t.data,S.data),S.itemSize,S.offset,S.normalized);else T=new _e(new Ys[S.type](S.array),S.itemSize,S.normalized);void 0!==S.name&&(T.name=S.name),w.push(T)}o.morphAttributes[_]=w}t.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);var D=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==D)for(var O=0,C=D.length;O!==C;++O){var A=D[O];o.addGroup(A.start,A.count,A.materialIndex)}var k=t.data.boundingSphere;if(void 0!==k){var P=new z;void 0!==k.center&&P.fromArray(k.center),o.boundingSphere=new ct(P,k.radius)}return t.name&&(o.name=t.name),t.userData&&(o.userData=t.userData),o}});var Xs,Ys={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function Ks(t){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),Ja.call(this,t),this.options={premultiplyAlpha:"none"}}function Js(){this.type="ShapePath",this.color=new pe,this.subPaths=[],this.currentPath=null}function Zs(data){this.type="Font",this.data=data}function tu(t,e,n,r,data){var glyph=data.glyphs[t]||data.glyphs["?"];if(glyph){var o,c,l,h,d,f,m,v,path=new Js;if(glyph.o)for(var y=glyph._cachedOutline||(glyph._cachedOutline=glyph.o.split(" ")),_=0,x=y.length;_<x;){switch(y[_++]){case"m":o=y[_++]*e+n,c=y[_++]*e+r,path.moveTo(o,c);break;case"l":o=y[_++]*e+n,c=y[_++]*e+r,path.lineTo(o,c);break;case"q":l=y[_++]*e+n,h=y[_++]*e+r,d=y[_++]*e+n,f=y[_++]*e+r,path.quadraticCurveTo(d,f,l,h);break;case"b":l=y[_++]*e+n,h=y[_++]*e+r,d=y[_++]*e+n,f=y[_++]*e+r,m=y[_++]*e+n,v=y[_++]*e+r,path.bezierCurveTo(d,f,m,v,l,h)}}return{offsetX:glyph.ha*e,path:path}}console.error('THREE.Font: character "'+t+'" does not exists in font family '+data.familyName+".")}function eu(t){Ja.call(this,t)}Ks.prototype=Object.assign(Object.create(Ja.prototype),{constructor:Ks,isImageBitmapLoader:!0,setOptions:function(t){return this.options=t,this},load:function(t,e,n,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var o=this,c=Xa.get(t);if(void 0!==c)return o.manager.itemStart(t),setTimeout((function(){e&&e(c),o.manager.itemEnd(t)}),0),c;var l={};l.credentials="anonymous"===this.crossOrigin?"same-origin":"include",fetch(t,l).then((function(t){return t.blob()})).then((function(t){return createImageBitmap(t,o.options)})).then((function(n){Xa.add(t,n),e&&e(n),o.manager.itemEnd(t)})).catch((function(e){r&&r(e),o.manager.itemError(t),o.manager.itemEnd(t)})),o.manager.itemStart(t)}}),Object.assign(Js.prototype,{moveTo:function(t,e){return this.currentPath=new Os,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e),this},lineTo:function(t,e){return this.currentPath.lineTo(t,e),this},quadraticCurveTo:function(t,e,n,r){return this.currentPath.quadraticCurveTo(t,e,n,r),this},bezierCurveTo:function(t,e,n,r,o,c){return this.currentPath.bezierCurveTo(t,e,n,r,o,c),this},splineThru:function(t){return this.currentPath.splineThru(t),this},toShapes:function(t,e){function n(t){for(var e=[],n=0,r=t.length;n<r;n++){var o=t[n],c=new Cs;c.curves=o.curves,e.push(c)}return e}function r(t,e){for(var n=e.length,r=!1,p=n-1,q=0;q<n;p=q++){var o=e[p],c=e[q],l=c.x-o.x,h=c.y-o.y;if(Math.abs(h)>Number.EPSILON){if(h<0&&(o=e[q],l=-l,c=e[p],h=-h),t.y<o.y||t.y>c.y)continue;if(t.y===o.y){if(t.x===o.x)return!0}else{var d=h*(t.x-o.x)-l*(t.y-o.y);if(0===d)return!0;if(d<0)continue;r=!r}}else{if(t.y!==o.y)continue;if(c.x<=t.x&&t.x<=o.x||o.x<=t.x&&t.x<=c.x)return!0}}return r}var o,c,l,h=da.isClockWise,d=this.subPaths;if(0===d.length)return[];if(!0===e)return n(d);var f=[];if(1===d.length)return c=d[0],(l=new Cs).curves=c.curves,f.push(l),f;var m=!h(d[0].getPoints());m=t?!m:m;var v,y,_=[],x=[],w=[],E=0;x[E]=void 0,w[E]=[];for(var M=0,S=d.length;M<S;M++)o=h(v=(c=d[M]).getPoints()),(o=t?!o:o)?(!m&&x[E]&&E++,x[E]={s:new Cs,p:v},x[E].s.curves=c.curves,m&&E++,w[E]=[]):w[E].push({h:c,p:v[0]});if(!x[0])return n(d);if(x.length>1){for(var T=!1,D=[],O=0,C=x.length;O<C;O++)_[O]=[];for(var A=0,k=x.length;A<k;A++)for(var P=w[A],j=0;j<P.length;j++){for(var L=P[j],I=!0,R=0;R<x.length;R++)r(L.p,x[R].p)&&(A!==R&&D.push({froms:A,tos:R,hole:j}),I?(I=!1,_[R].push(L)):T=!0);I&&_[A].push(L)}D.length>0&&(T||(w=_))}for(var N=0,F=x.length;N<F;N++){l=x[N].s,f.push(l);for(var B=0,U=(y=w[N]).length;B<U;B++)l.holes.push(y[B].h)}return f}}),Object.assign(Zs.prototype,{isFont:!0,generateShapes:function(text,t){void 0===t&&(t=100);for(var e=[],n=function(text,t,data){for(var e=Array.from?Array.from(text):String(text).split(""),n=t/data.resolution,r=(data.boundingBox.yMax-data.boundingBox.yMin+data.underlineThickness)*n,o=[],c=0,l=0,h=0;h<e.length;h++){var d=e[h];if("\n"===d)c=0,l-=r;else{var f=tu(d,n,c,l,data);c+=f.offsetX,o.push(f.path)}}return o}(text,t,this.data),p=0,r=n.length;p<r;p++)Array.prototype.push.apply(e,n[p].toShapes());return e}}),eu.prototype=Object.assign(Object.create(Ja.prototype),{constructor:eu,load:function(t,e,n,r){var o=this,c=new ts(this.manager);c.setPath(this.path),c.setRequestHeader(this.requestHeader),c.setWithCredentials(o.withCredentials),c.load(t,(function(text){var t;try{t=JSON.parse(text)}catch(e){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),t=JSON.parse(text.substring(65,text.length-2))}var n=o.parse(t);e&&e(n)}),n,r)},parse:function(t){return new Zs(t)}});var nu=function(){return void 0===Xs&&(Xs=new(window.AudioContext||window.webkitAudioContext)),Xs};function ru(t){Ja.call(this,t)}function iu(t,e,n){Hs.call(this,void 0,n);var r=(new pe).set(t),o=(new pe).set(e),c=new z(r.r,r.g,r.b),l=new z(o.r,o.g,o.b),h=Math.sqrt(Math.PI),d=h*Math.sqrt(.75);this.sh.coefficients[0].copy(c).add(l).multiplyScalar(h),this.sh.coefficients[1].copy(c).sub(l).multiplyScalar(d)}function ou(t,e){Hs.call(this,void 0,e);var n=(new pe).set(t);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}ru.prototype=Object.assign(Object.create(Ja.prototype),{constructor:ru,load:function(t,e,n,r){var o=this,c=new ts(o.manager);c.setResponseType("arraybuffer"),c.setPath(o.path),c.setRequestHeader(o.requestHeader),c.setWithCredentials(o.withCredentials),c.load(t,(function(n){try{var c=n.slice(0);nu().decodeAudioData(c,(function(t){e(t)}))}catch(e){r?r(e):console.error(e),o.manager.itemError(t)}}),n,r)}}),iu.prototype=Object.assign(Object.create(Hs.prototype),{constructor:iu,isHemisphereLightProbe:!0,copy:function(source){return Hs.prototype.copy.call(this,source),this},toJSON:function(meta){return Hs.prototype.toJSON.call(this,meta)}}),ou.prototype=Object.assign(Object.create(Hs.prototype),{constructor:ou,isAmbientLightProbe:!0,copy:function(source){return Hs.prototype.copy.call(this,source),this},toJSON:function(meta){return Hs.prototype.toJSON.call(this,meta)}});var au=new _t,su=new _t;Object.assign(function(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new pn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new pn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}.prototype,{update:function(t){var e=this._cache;if(e.focus!==t.focus||e.fov!==t.fov||e.aspect!==t.aspect*this.aspect||e.near!==t.near||e.far!==t.far||e.zoom!==t.zoom||e.eyeSep!==this.eyeSep){e.focus=t.focus,e.fov=t.fov,e.aspect=t.aspect*this.aspect,e.near=t.near,e.far=t.far,e.zoom=t.zoom,e.eyeSep=this.eyeSep;var n,r,o=t.projectionMatrix.clone(),c=e.eyeSep/2,l=c*e.near/e.focus,h=e.near*Math.tan(P.DEG2RAD*e.fov*.5)/e.zoom;su.elements[12]=-c,au.elements[12]=c,n=-h*e.aspect+l,r=h*e.aspect+l,o.elements[0]=2*e.near/(r-n),o.elements[8]=(r+n)/(r-n),this.cameraL.projectionMatrix.copy(o),n=-h*e.aspect-l,r=h*e.aspect-l,o.elements[0]=2*e.near/(r-n),o.elements[8]=(r+n)/(r-n),this.cameraR.projectionMatrix.copy(o)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(su),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(au)}});var uu=function(){function t(e){Object(v.a)(this,t),this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}return Object(y.a)(t,[{key:"start",value:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}},{key:"stop",value:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}},{key:"getElapsedTime",value:function(){return this.getDelta(),this.elapsedTime}},{key:"getDelta",value:function(){var t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var e=("undefined"==typeof performance?Date:performance).now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}]),t}(),cu=function(t){Object(d.a)(n,t);var e=_(n);function n(t){var r;return Object(v.a)(this,n),(r=e.call(this)).type="Audio",r.listener=t,r.context=t.context,r.gain=r.context.createGain(),r.gain.connect(t.getInput()),r.autoplay=!1,r.buffer=null,r.detune=0,r.loop=!1,r.loopStart=0,r.loopEnd=0,r.offset=0,r.duration=void 0,r.playbackRate=1,r.isPlaying=!1,r.hasPlaybackControl=!0,r.source=null,r.sourceType="empty",r._startedAt=0,r._progress=0,r._connected=!1,r.filters=[],r}return Object(y.a)(n,[{key:"getOutput",value:function(){return this.gain}},{key:"setNodeSource",value:function(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this}},{key:"setMediaElementSource",value:function(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this}},{key:"setMediaStreamSource",value:function(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this}},{key:"setBuffer",value:function(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this}},{key:"play",value:function(t){if(void 0===t&&(t=0),!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){this._startedAt=this.context.currentTime+t;var source=this.context.createBufferSource();return source.buffer=this.buffer,source.loop=this.loop,source.loopStart=this.loopStart,source.loopEnd=this.loopEnd,source.onended=this.onEnded.bind(this),source.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=source,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")}},{key:"pause",value:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"stop",value:function(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"connect",value:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}},{key:"disconnect",value:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}},{key:"getFilters",value:function(){return this.filters}},{key:"setFilters",value:function(t){return t||(t=[]),!0===this._connected?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}},{key:"setDetune",value:function(t){if(this.detune=t,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}},{key:"getDetune",value:function(){return this.detune}},{key:"getFilter",value:function(){return this.getFilters()[0]}},{key:"setFilter",value:function(filter){return this.setFilters(filter?[filter]:[])}},{key:"setPlaybackRate",value:function(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"onEnded",value:function(){this.isPlaying=!1}},{key:"getLoop",value:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}},{key:"setLoop",value:function(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"setLoopStart",value:function(t){return this.loopStart=t,this}},{key:"setLoopEnd",value:function(t){return this.loopEnd=t,this}},{key:"getVolume",value:function(){return this.gain.gain.value}},{key:"setVolume",value:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}]),n}(Gt),lu=function(){function t(audio,e){Object(v.a)(this,t),this.analyser=audio.context.createAnalyser(),this.analyser.fftSize=void 0!==e?e:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),audio.getOutput().connect(this.analyser)}return Object(y.a)(t,[{key:"getFrequencyData",value:function(){return this.analyser.getByteFrequencyData(this.data),this.data}},{key:"getAverageFrequency",value:function(){for(var t=0,data=this.getFrequencyData(),e=0;e<data.length;e++)t+=data[e];return t/data.length}}]),t}();function hu(t,e,n){var r,o,c;switch(this.binding=t,this.valueSize=n,e){case"quaternion":r=this._slerp,o=this._slerpAdditive,c=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":r=this._select,o=this._select,c=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:r=this._lerp,o=this._lerpAdditive,c=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=o,this._setIdentity=c,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}Object.assign(hu.prototype,{accumulate:function(t,e){var n=this.buffer,r=this.valueSize,o=t*r+r,c=this.cumulativeWeight;if(0===c){for(var l=0;l!==r;++l)n[o+l]=n[l];c=e}else{var h=e/(c+=e);this._mixBufferRegion(n,o,0,h,r)}this.cumulativeWeight=c},accumulateAdditive:function(t){var e=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(e,r,0,t,n),this.cumulativeWeightAdditive+=t},apply:function(t){var e=this.valueSize,n=this.buffer,r=t*e+e,o=this.cumulativeWeight,c=this.cumulativeWeightAdditive,l=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){var h=e*this._origIndex;this._mixBufferRegion(n,r,h,1-o,e)}c>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*e,1,e);for(var d=e,f=e+e;d!==f;++d)if(n[d]!==n[d+e]){l.setValue(n,r);break}},saveOriginalState:function(){var t=this.binding,e=this.buffer,n=this.valueSize,r=n*this._origIndex;t.getValue(e,r);for(var o=n,c=r;o!==c;++o)e[o]=e[r+o%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0},restoreOriginalState:function(){var t=3*this.valueSize;this.binding.setValue(this.buffer,t)},_setAdditiveIdentityNumeric:function(){for(var t=this._addIndex*this.valueSize,e=t+this.valueSize,n=t;n<e;n++)this.buffer[n]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1},_setAdditiveIdentityOther:function(){for(var t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize,n=0;n<this.valueSize;n++)this.buffer[e+n]=this.buffer[t+n]},_select:function(t,e,n,r,o){if(r>=.5)for(var c=0;c!==o;++c)t[e+c]=t[n+c]},_slerp:function(t,e,n,r){V.slerpFlat(t,e,t,e,t,n,r)},_slerpAdditive:function(t,e,n,r,o){var c=this._workIndex*o;V.multiplyQuaternionsFlat(t,c,t,e,t,n),V.slerpFlat(t,e,t,e,t,c,r)},_lerp:function(t,e,n,r,o){for(var s=1-r,c=0;c!==o;++c){var l=e+c;t[l]=t[l]*s+t[n+c]*r}},_lerpAdditive:function(t,e,n,r,o){for(var c=0;c!==o;++c){var l=e+c;t[l]=t[l]+t[n+c]*r}}});var pu=new RegExp("[\\[\\]\\.:\\/]","g"),du="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",fu=/((?:WC+[\/:])*)/.source.replace("WC","[^\\[\\]\\.:\\/]"),mu=/(WCOD+)?/.source.replace("WCOD",du),vu=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC","[^\\[\\]\\.:\\/]"),gu=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC","[^\\[\\]\\.:\\/]"),yu=new RegExp("^"+fu+mu+vu+gu+"$"),_u=["material","materials","bones"];function bu(t,path,e){var n=e||xu.parseTrackName(path);this._targetGroup=t,this._bindings=t.subscribe_(path,n)}function xu(t,path,e){this.path=path,this.parsedPath=e||xu.parseTrackName(path),this.node=xu.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}Object.assign(bu.prototype,{getValue:function(t,e){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(t,e)},setValue:function(t,e){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,o=n.length;r!==o;++r)n[r].setValue(t,e)},bind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()},unbind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}}),Object.assign(xu,{Composite:bu,create:function(t,path,e){return t&&t.isAnimationObjectGroup?new xu.Composite(t,path,e):new xu(t,path,e)},sanitizeNodeName:function(t){return t.replace(/\s/g,"_").replace(pu,"")},parseTrackName:function(t){var e=yu.exec(t);if(!e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);var n={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var o=n.nodeName.substring(r+1);-1!==_u.indexOf(o)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=o)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return n},findNode:function(t,e){if(!e||""===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){var n=t.skeleton.getBoneByName(e);if(void 0!==n)return n}if(t.children){var r=function t(n){for(var r=0;r<n.length;r++){var o=n[r];if(o.name===e||o.uuid===e)return o;var c=t(o.children);if(c)return c}return null}(t.children);if(r)return r}return null}}),Object.assign(xu.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){for(var source=this.resolvedProperty,n=0,r=source.length;n!==r;++n)t[e++]=source[n]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.targetObject[this.propertyName]=t[e]},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){for(var n=this.resolvedProperty,r=0,o=n.length;r!==o;++r)n[r]=t[e++]},function(t,e){for(var n=this.resolvedProperty,r=0,o=n.length;r!==o;++r)n[r]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){for(var n=this.resolvedProperty,r=0,o=n.length;r!==o;++r)n[r]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){var t=this.node,e=this.parsedPath,n=e.objectName,r=e.propertyName,o=e.propertyIndex;if(t||(t=xu.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(n){var c=e.objectIndex;switch(n){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(var l=0;l<t.length;l++)if(t[l].name===c){c=l;break}break;default:if(void 0===t[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[n]}if(void 0!==c){if(void 0===t[c])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[c]}}var h=t[r];if(void 0!==h){var d=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?d=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(d=this.Versioning.MatrixWorldNeedsUpdate);var f=this.BindingType.Direct;if(void 0!==o){if("morphTargetInfluences"===r){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[o]&&(o=t.morphTargetDictionary[o])}f=this.BindingType.ArrayElement,this.resolvedProperty=h,this.propertyIndex=o}else void 0!==h.fromArray&&void 0!==h.toArray?(f=this.BindingType.HasFromToArray,this.resolvedProperty=h):Array.isArray(h)?(f=this.BindingType.EntireArray,this.resolvedProperty=h):this.propertyName=r;this.getValue=this.GetterByBindingType[f],this.setValue=this.SetterByBindingTypeAndVersioning[f][d]}else{var m=e.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+m+"."+r+" but it wasn't found.",t)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(xu.prototype,{_getValue_unbound:xu.prototype.getValue,_setValue_unbound:xu.prototype.setValue}),Object.assign(function(){this.uuid=P.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var e=0,n=arguments.length;e!==n;++e)t[arguments[e].uuid]=e;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var r=this;this.stats={objects:{get total(){return r._objects.length},get inUse(){return this.total-r.nCachedObjects_}},get bindingsPerObject(){return r._bindings.length}}}.prototype,{isAnimationObjectGroup:!0,add:function(){for(var t=this._objects,e=this._indicesByUUID,n=this._paths,r=this._parsedPaths,o=this._bindings,c=o.length,l=void 0,h=t.length,d=this.nCachedObjects_,f=0,m=arguments.length;f!==m;++f){var object=arguments[f],v=object.uuid,y=e[v];if(void 0===y){y=h++,e[v]=y,t.push(object);for(var _=0,x=c;_!==x;++_)o[_].push(new xu(object,n[_],r[_]))}else if(y<d){l=t[y];var w=--d,E=t[w];e[E.uuid]=y,t[y]=E,e[v]=w,t[w]=object;for(var M=0,S=c;M!==S;++M){var T=o[M],D=T[w],O=T[y];T[y]=D,void 0===O&&(O=new xu(object,n[M],r[M])),T[w]=O}}else t[y]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=d},remove:function(){for(var t=this._objects,e=this._indicesByUUID,n=this._bindings,r=n.length,o=this.nCachedObjects_,c=0,l=arguments.length;c!==l;++c){var object=arguments[c],h=object.uuid,d=e[h];if(void 0!==d&&d>=o){var f=o++,m=t[f];e[m.uuid]=d,t[d]=m,e[h]=f,t[f]=object;for(var v=0,y=r;v!==y;++v){var _=n[v],x=_[f],w=_[d];_[d]=x,_[f]=w}}}this.nCachedObjects_=o},uncache:function(){for(var t=this._objects,e=this._indicesByUUID,n=this._bindings,r=n.length,o=this.nCachedObjects_,c=t.length,l=0,h=arguments.length;l!==h;++l){var object=arguments[l],d=object.uuid,f=e[d];if(void 0!==f)if(delete e[d],f<o){var m=--o,v=t[m],y=--c,_=t[y];e[v.uuid]=f,t[f]=v,e[_.uuid]=m,t[m]=_,t.pop();for(var x=0,w=r;x!==w;++x){var E=n[x],M=E[m],S=E[y];E[f]=M,E[m]=S,E.pop()}}else{var T=--c,D=t[T];T>0&&(e[D.uuid]=f),t[f]=D,t.pop();for(var O=0,C=r;O!==C;++O){var A=n[O];A[f]=A[T],A.pop()}}}this.nCachedObjects_=o},subscribe_:function(path,t){var e=this._bindingsIndicesByPath,n=e[path],r=this._bindings;if(void 0!==n)return r[n];var o=this._paths,c=this._parsedPaths,l=this._objects,h=l.length,d=this.nCachedObjects_,f=new Array(h);n=r.length,e[path]=n,o.push(path),c.push(t),r.push(f);for(var m=d,v=l.length;m!==v;++m){var object=l[m];f[m]=new xu(object,path,t)}return f},unsubscribe_:function(path){var t=this._bindingsIndicesByPath,e=t[path];if(void 0!==e){var n=this._paths,r=this._parsedPaths,o=this._bindings,c=o.length-1,l=o[c];t[path[c]]=e,o[e]=l,o.pop(),r[e]=r[c],r.pop(),n[e]=n[c],n.pop()}}});var wu=function(){function t(e,n,r,o){Object(v.a)(this,t),this._mixer=e,this._clip=n,this._localRoot=r||null,this.blendMode=o||n.blendMode;for(var c=n.tracks,l=c.length,h=new Array(l),d={endingStart:2400,endingEnd:2400},f=0;f!==l;++f){var m=c[f].createInterpolant(null);h[f]=m,m.settings=d}this._interpolantSettings=d,this._interpolants=h,this._propertyBindings=new Array(l),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}return Object(y.a)(t,[{key:"play",value:function(){return this._mixer._activateAction(this),this}},{key:"stop",value:function(){return this._mixer._deactivateAction(this),this.reset()}},{key:"reset",value:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}},{key:"isRunning",value:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}},{key:"isScheduled",value:function(){return this._mixer._isActiveAction(this)}},{key:"startAt",value:function(time){return this._startTime=time,this}},{key:"setLoop",value:function(t,e){return this.loop=t,this.repetitions=e,this}},{key:"setEffectiveWeight",value:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}},{key:"getEffectiveWeight",value:function(){return this._effectiveWeight}},{key:"fadeIn",value:function(t){return this._scheduleFading(t,0,1)}},{key:"fadeOut",value:function(t){return this._scheduleFading(t,1,0)}},{key:"crossFadeFrom",value:function(t,e,n){if(t.fadeOut(e),this.fadeIn(e),n){var r=this._clip.duration,o=t._clip.duration,c=o/r,l=r/o;t.warp(1,c,e),this.warp(l,1,e)}return this}},{key:"crossFadeTo",value:function(t,e,n){return t.crossFadeFrom(this,e,n)}},{key:"stopFading",value:function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}},{key:"setEffectiveTimeScale",value:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}},{key:"getEffectiveTimeScale",value:function(){return this._effectiveTimeScale}},{key:"setDuration",value:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}},{key:"syncWith",value:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}},{key:"halt",value:function(t){return this.warp(this._effectiveTimeScale,0,t)}},{key:"warp",value:function(t,e,n){var r=this._mixer,o=r.time,c=this.timeScale,l=this._timeScaleInterpolant;null===l&&(l=r._lendControlInterpolant(),this._timeScaleInterpolant=l);var h=l.parameterPositions,d=l.sampleValues;return h[0]=o,h[1]=o+n,d[0]=t/c,d[1]=e/c,this}},{key:"stopWarping",value:function(){var t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}},{key:"getMixer",value:function(){return this._mixer}},{key:"getClip",value:function(){return this._clip}},{key:"getRoot",value:function(){return this._localRoot||this._mixer._root}},{key:"_update",value:function(time,t,e,n){if(this.enabled){var r=this._startTime;if(null!==r){var o=(time-r)*e;if(o<0||0===e)return;this._startTime=null,t=e*o}t*=this._updateTimeScale(time);var c=this._updateTime(t),l=this._updateWeight(time);if(l>0){var h=this._interpolants,d=this._propertyBindings;switch(this.blendMode){case 2501:for(var f=0,m=h.length;f!==m;++f)h[f].evaluate(c),d[f].accumulateAdditive(l);break;case 2500:default:for(var v=0,y=h.length;v!==y;++v)h[v].evaluate(c),d[v].accumulate(n,l)}}}else this._updateWeight(time)}},{key:"_updateWeight",value:function(time){var t=0;if(this.enabled){t=this.weight;var e=this._weightInterpolant;if(null!==e){var n=e.evaluate(time)[0];t*=n,time>e.parameterPositions[1]&&(this.stopFading(),0===n&&(this.enabled=!1))}}return this._effectiveWeight=t,t}},{key:"_updateTimeScale",value:function(time){var t=0;if(!this.paused){t=this.timeScale;var e=this._timeScaleInterpolant;if(null!==e)t*=e.evaluate(time)[0],time>e.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}return this._effectiveTimeScale=t,t}},{key:"_updateTime",value:function(t){var e=this._clip.duration,n=this.loop,time=this.time+t,r=this._loopCount,o=2202===n;if(0===t)return-1===r?time:o&&1==(1&r)?e-time:time;if(2200===n){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(time>=e)time=e;else{if(!(time<0)){this.time=time;break t}time=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=time,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(-1===r&&(t>=0?(r=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),time>=e||time<0){var c=Math.floor(time/e);time-=e*c,r+=Math.abs(c);var l=this.repetitions-r;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,time=t>0?e:0,this.time=time,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(1===l){var h=t<0;this._setEndings(h,!h,o)}else this._setEndings(!1,!1,o);this._loopCount=r,this.time=time,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:c})}}else this.time=time;if(o&&1==(1&r))return e-time}return time}},{key:"_setEndings",value:function(t,e,n){var r=this._interpolantSettings;n?(r.endingStart=2401,r.endingEnd=2401):(r.endingStart=t?this.zeroSlopeAtStart?2401:2400:2402,r.endingEnd=e?this.zeroSlopeAtEnd?2401:2400:2402)}},{key:"_scheduleFading",value:function(t,e,n){var r=this._mixer,o=r.time,c=this._weightInterpolant;null===c&&(c=r._lendControlInterpolant(),this._weightInterpolant=c);var l=c.parameterPositions,h=c.sampleValues;return l[0]=o,h[0]=e,l[1]=o+t,h[1]=n,this}}]),t}();function Eu(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}Eu.prototype=Object.assign(Object.create(O.prototype),{constructor:Eu,_bindAction:function(t,e){var n=t._localRoot||this._root,r=t._clip.tracks,o=r.length,c=t._propertyBindings,l=t._interpolants,h=n.uuid,d=this._bindingsByRootAndName,f=d[h];void 0===f&&(f={},d[h]=f);for(var m=0;m!==o;++m){var track=r[m],v=track.name,y=f[v];if(void 0!==y)c[m]=y;else{if(void 0!==(y=c[m])){null===y._cacheIndex&&(++y.referenceCount,this._addInactiveBinding(y,h,v));continue}var path=e&&e._propertyBindings[m].binding.parsedPath;++(y=new hu(xu.create(n,v,path),track.ValueTypeName,track.getValueSize())).referenceCount,this._addInactiveBinding(y,h,v),c[m]=y}l[m].resultBuffer=y.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,n=t._clip.uuid,r=this._actionsByClip[n];this._bindAction(t,r&&r.knownActions[0]),this._addInactiveAction(t,n,e)}for(var o=t._propertyBindings,c=0,l=o.length;c!==l;++c){var h=o[c];0==h.useCount++&&(this._lendBinding(h),h.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){for(var e=t._propertyBindings,n=0,r=e.length;n!==r;++n){var o=e[n];0==--o.useCount&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){var e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,n){var r=this._actions,o=this._actionsByClip,c=o[e];if(void 0===c)c={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,o[e]=c;else{var l=c.knownActions;t._byClipCacheIndex=l.length,l.push(t)}t._cacheIndex=r.length,r.push(t),c.actionByRoot[n]=t},_removeInactiveAction:function(t){var e=this._actions,n=e[e.length-1],r=t._cacheIndex;n._cacheIndex=r,e[r]=n,e.pop(),t._cacheIndex=null;var o=t._clip.uuid,c=this._actionsByClip,l=c[o],h=l.knownActions,d=h[h.length-1],f=t._byClipCacheIndex;d._byClipCacheIndex=f,h[f]=d,h.pop(),t._byClipCacheIndex=null,delete l.actionByRoot[(t._localRoot||this._root).uuid],0===h.length&&delete c[o],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){for(var e=t._propertyBindings,n=0,r=e.length;n!==r;++n){var o=e[n];0==--o.referenceCount&&this._removeInactiveBinding(o)}},_lendAction:function(t){var e=this._actions,n=t._cacheIndex,r=this._nActiveActions++,o=e[r];t._cacheIndex=r,e[r]=t,o._cacheIndex=n,e[n]=o},_takeBackAction:function(t){var e=this._actions,n=t._cacheIndex,r=--this._nActiveActions,o=e[r];t._cacheIndex=r,e[r]=t,o._cacheIndex=n,e[n]=o},_addInactiveBinding:function(t,e,n){var r=this._bindingsByRootAndName,o=this._bindings,c=r[e];void 0===c&&(c={},r[e]=c),c[n]=t,t._cacheIndex=o.length,o.push(t)},_removeInactiveBinding:function(t){var e=this._bindings,n=t.binding,r=n.rootNode.uuid,o=n.path,c=this._bindingsByRootAndName,l=c[r],h=e[e.length-1],d=t._cacheIndex;h._cacheIndex=d,e[d]=h,e.pop(),delete l[o],0===Object.keys(l).length&&delete c[r]},_lendBinding:function(t){var e=this._bindings,n=t._cacheIndex,r=this._nActiveBindings++,o=e[r];t._cacheIndex=r,e[r]=t,o._cacheIndex=n,e[n]=o},_takeBackBinding:function(t){var e=this._bindings,n=t._cacheIndex,r=--this._nActiveBindings,o=e[r];t._cacheIndex=r,e[r]=t,o._cacheIndex=n,e[n]=o},_lendControlInterpolant:function(){var t=this._controlInterpolants,e=this._nActiveControlInterpolants++,n=t[e];return void 0===n&&((n=new Na(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=e,t[e]=n),n},_takeBackControlInterpolant:function(t){var e=this._controlInterpolants,n=t.__cacheIndex,r=--this._nActiveControlInterpolants,o=e[r];t.__cacheIndex=r,e[r]=t,o.__cacheIndex=n,e[n]=o},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(t,e,n){var r=e||this._root,o=r.uuid,c="string"==typeof t?$a.findByName(r,t):t,l=null!==c?c.uuid:t,h=this._actionsByClip[l],d=null;if(void 0===n&&(n=null!==c?c.blendMode:2500),void 0!==h){var f=h.actionByRoot[o];if(void 0!==f&&f.blendMode===n)return f;d=h.knownActions[0],null===c&&(c=d._clip)}if(null===c)return null;var m=new wu(this,c,e,n);return this._bindAction(m,d),this._addInactiveAction(m,l,o),m},existingAction:function(t,e){var n=e||this._root,r=n.uuid,o="string"==typeof t?$a.findByName(n,t):t,c=o?o.uuid:t,l=this._actionsByClip[c];return void 0!==l&&l.actionByRoot[r]||null},stopAllAction:function(){for(var t=this._actions,e=this._nActiveActions-1;e>=0;--e)t[e].stop();return this},update:function(t){t*=this.timeScale;for(var e=this._actions,n=this._nActiveActions,time=this.time+=t,r=Math.sign(t),o=this._accuIndex^=1,c=0;c!==n;++c){e[c]._update(time,t,r,o)}for(var l=this._bindings,h=this._nActiveBindings,d=0;d!==h;++d)l[d].apply(o);return this},setTime:function(t){this.time=0;for(var e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(t)},getRoot:function(){return this._root},uncacheClip:function(t){var e=this._actions,n=t.uuid,r=this._actionsByClip,o=r[n];if(void 0!==o){for(var c=o.knownActions,l=0,h=c.length;l!==h;++l){var d=c[l];this._deactivateAction(d);var f=d._cacheIndex,m=e[e.length-1];d._cacheIndex=null,d._byClipCacheIndex=null,m._cacheIndex=f,e[f]=m,e.pop(),this._removeInactiveBindingsForAction(d)}delete r[n]}},uncacheRoot:function(t){var e=t.uuid,n=this._actionsByClip;for(var r in n){var o=n[r].actionByRoot[e];void 0!==o&&(this._deactivateAction(o),this._removeInactiveAction(o))}var c=this._bindingsByRootAndName[e];if(void 0!==c)for(var l in c){var h=c[l];h.restoreOriginalState(),this._removeInactiveBinding(h)}},uncacheAction:function(t,e){var n=this.existingAction(t,e);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}});var Mu=function(){function t(e){Object(v.a)(this,t),"string"==typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}return Object(y.a)(t,[{key:"clone",value:function(){return new t(void 0===this.value.clone?this.value:this.value.clone())}}]),t}();function Su(t,e,n){Pi.call(this,t,e),this.meshPerAttribute=n||1}function Tu(t,e,n,r,o){this.buffer=t,this.type=e,this.itemSize=n,this.elementSize=r,this.count=o,this.version=0}function Du(t,e,n,r){this.ray=new yt(t,e),this.near=n||0,this.far=r||1/0,this.camera=null,this.layers=new At,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function Ou(a,b){return a.distance-b.distance}function Cu(object,t,e,n){if(object.layers.test(t.layers)&&object.raycast(t,e),!0===n)for(var r=object.children,o=0,c=r.length;o<c;o++)Cu(r[o],t,e,!0)}Su.prototype=Object.assign(Object.create(Pi.prototype),{constructor:Su,isInstancedInterleavedBuffer:!0,copy:function(source){return Pi.prototype.copy.call(this,source),this.meshPerAttribute=source.meshPerAttribute,this},clone:function(data){var t=Pi.prototype.clone.call(this,data);return t.meshPerAttribute=this.meshPerAttribute,t},toJSON:function(data){var t=Pi.prototype.toJSON.call(this,data);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}),Object.defineProperty(Tu.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(Tu.prototype,{isGLBufferAttribute:!0,setBuffer:function(t){return this.buffer=t,this},setType:function(t,e){return this.type=t,this.elementSize=e,this},setItemSize:function(t){return this.itemSize=t,this},setCount:function(t){return this.count=t,this}}),Object.assign(Du.prototype,{set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(object,t,e){var n=e||[];return Cu(object,this,n,t),n.sort(Ou),n},intersectObjects:function(t,e,n){var r=n||[];if(!1===Array.isArray(t))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),r;for(var o=0,c=t.length;o<c;o++)Cu(t[o],this,r,e);return r.sort(Ou),r}});var Au=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(v.a)(this,t),this.radius=e,this.phi=n,this.theta=r,this}return Object(y.a)(t,[{key:"set",value:function(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}},{key:"makeSafe",value:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}},{key:"setFromVector3",value:function(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}},{key:"setFromCartesianCoords",value:function(t,e,n){return this.radius=Math.sqrt(t*t+e*e+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,n),this.phi=Math.acos(P.clamp(e/this.radius,-1,1))),this}}]),t}(),ku=new j,Pu=function(){function t(e,n){Object(v.a)(this,t),Object.defineProperty(this,"isBox2",{value:!0}),this.min=void 0!==e?e:new j(1/0,1/0),this.max=void 0!==n?n:new j(-1/0,-1/0)}return Object(y.a)(t,[{key:"set",value:function(t,e){return this.min.copy(t),this.max.copy(e),this}},{key:"setFromPoints",value:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}},{key:"setFromCenterAndSize",value:function(t,e){var n=ku.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.min.copy(t.min),this.max.copy(t.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y}},{key:"getCenter",value:function(t){return void 0===t&&(console.warn("THREE.Box2: .getCenter() target is now required"),t=new j),this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(t){return void 0===t&&(console.warn("THREE.Box2: .getSize() target is now required"),t=new j),this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(t){return this.min.min(t),this.max.max(t),this}},{key:"expandByVector",value:function(t){return this.min.sub(t),this.max.add(t),this}},{key:"expandByScalar",value:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this}},{key:"containsPoint",value:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)}},{key:"containsBox",value:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}},{key:"getParameter",value:function(t,e){return void 0===e&&(console.warn("THREE.Box2: .getParameter() target is now required"),e=new j),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}},{key:"intersectsBox",value:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)}},{key:"clampPoint",value:function(t,e){return void 0===e&&(console.warn("THREE.Box2: .clampPoint() target is now required"),e=new j),e.copy(t).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(t){return ku.copy(t).clamp(this.min,this.max).sub(t).length()}},{key:"intersect",value:function(t){return this.min.max(t.min),this.max.min(t.max),this}},{key:"union",value:function(t){return this.min.min(t.min),this.max.max(t.max),this}},{key:"translate",value:function(t){return this.min.add(t),this.max.add(t),this}},{key:"equals",value:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}]),t}(),ju=new z,Lu=new z,Iu=function(){function t(e,n){Object(v.a)(this,t),this.start=void 0!==e?e:new z,this.end=void 0!==n?n:new z}return Object(y.a)(t,[{key:"set",value:function(t,e){return this.start.copy(t),this.end.copy(e),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(line){return this.start.copy(line.start),this.end.copy(line.end),this}},{key:"getCenter",value:function(t){return void 0===t&&(console.warn("THREE.Line3: .getCenter() target is now required"),t=new z),t.addVectors(this.start,this.end).multiplyScalar(.5)}},{key:"delta",value:function(t){return void 0===t&&(console.warn("THREE.Line3: .delta() target is now required"),t=new z),t.subVectors(this.end,this.start)}},{key:"distanceSq",value:function(){return this.start.distanceToSquared(this.end)}},{key:"distance",value:function(){return this.start.distanceTo(this.end)}},{key:"at",value:function(t,e){return void 0===e&&(console.warn("THREE.Line3: .at() target is now required"),e=new z),this.delta(e).multiplyScalar(t).add(this.start)}},{key:"closestPointToPointParameter",value:function(t,e){ju.subVectors(t,this.start),Lu.subVectors(this.end,this.start);var n=Lu.dot(Lu),r=Lu.dot(ju)/n;return e&&(r=P.clamp(r,0,1)),r}},{key:"closestPointToPoint",value:function(t,e,n){var r=this.closestPointToPointParameter(t,e);return void 0===n&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),n=new z),this.delta(n).multiplyScalar(r).add(this.start)}},{key:"applyMatrix4",value:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this}},{key:"equals",value:function(line){return line.start.equals(this.start)&&line.end.equals(this.end)}}]),t}();function Ru(t){Gt.call(this),this.material=t,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}Ru.prototype=Object.create(Gt.prototype),Ru.prototype.constructor=Ru,Ru.prototype.isImmediateRenderObject=!0;var Nu=new z,Fu=new _t,Bu=new _t,Uu=function(t){Object(d.a)(n,t);var e=_(n);function n(object){var t;Object(v.a)(this,n);for(var r=function t(object){var e=[];object&&object.isBone&&e.push(object);for(var n=0;n<object.children.length;n++)e.push.apply(e,t(object.children[n]));return e}(object),o=new Fe,c=[],l=[],h=new pe(0,0,1),d=new pe(0,1,0),f=0;f<r.length;f++){var m=r[f];m.parent&&m.parent.isBone&&(c.push(0,0,0),c.push(0,0,0),l.push(h.r,h.g,h.b),l.push(d.r,d.g,d.b))}o.setAttribute("position",new De(c,3)),o.setAttribute("color",new De(l,3));var y=new vo({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});return(t=e.call(this,o,y)).type="SkeletonHelper",t.isSkeletonHelper=!0,t.root=object,t.bones=r,t.matrix=object.matrixWorld,t.matrixAutoUpdate=!1,t}return Object(y.a)(n,[{key:"updateMatrixWorld",value:function(t){var e=this.bones,r=this.geometry,o=r.getAttribute("position");Bu.getInverse(this.root.matrixWorld);for(var l=0,h=0;l<e.length;l++){var d=e[l];d.parent&&d.parent.isBone&&(Fu.multiplyMatrices(Bu,d.matrixWorld),Nu.setFromMatrixPosition(Fu),o.setXYZ(h,Nu.x,Nu.y,Nu.z),Fu.multiplyMatrices(Bu,d.parent.matrixWorld),Nu.setFromMatrixPosition(Fu),o.setXYZ(h+1,Nu.x,Nu.y,Nu.z),h+=2)}r.getAttribute("position").needsUpdate=!0,Object(c.a)(Object(m.a)(n.prototype),"updateMatrixWorld",this).call(this,t)}}]),n}(So);var Vu=function(t){Object(d.a)(n,t);var e=_(n);function n(t,r,o,c){var l;Object(v.a)(this,n),t=t||10,r=r||10,o=new pe(void 0!==o?o:4473924),c=new pe(void 0!==c?c:8947848);for(var h=r/2,d=t/r,f=t/2,m=[],y=[],_=0,x=0,w=-f;_<=r;_++,w+=d){m.push(-f,0,w,f,0,w),m.push(w,0,-f,w,0,f);var E=_===h?o:c;E.toArray(y,x),x+=3,E.toArray(y,x),x+=3,E.toArray(y,x),x+=3,E.toArray(y,x),x+=3}var M=new Fe;M.setAttribute("position",new De(m,3)),M.setAttribute("color",new De(y,3));var S=new vo({vertexColors:!0,toneMapped:!1});return(l=e.call(this,M,S)).type="GridHelper",l}return n}(So);var zu=function(t){Object(d.a)(n,t);var e=_(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;Object(v.a)(this,n);var o=[0,0,0,r,0,0,0,0,0,0,r,0,0,0,0,0,0,r],c=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],l=new Fe;l.setAttribute("position",new De(o,3)),l.setAttribute("color",new De(c,3));var h=new vo({vertexColors:!0,toneMapped:!1});return(t=e.call(this,l,h)).type="AxesHelper",t}return n}(So),Hu=(Math.pow(2,8),[.125,.215,.35,.446,.526,.582]),Gu=5+Hu.length,Wu=(r={},Object(l.a)(r,3e3,0),Object(l.a)(r,3001,1),Object(l.a)(r,3002,2),Object(l.a)(r,3004,3),Object(l.a)(r,3005,4),Object(l.a)(r,3006,5),Object(l.a)(r,3007,6),qu());Wu._lodPlanes,Wu._sizeLods,Wu._sigmas,Math.sqrt(5);function qu(){for(var t=[],e=[],n=[],r=8,o=0;o<Gu;o++){var c=Math.pow(2,r);e.push(c);var l=1/c;o>4?l=Hu[o-8+4-1]:0==o&&(l=0),n.push(l);for(var h=1/(c-1),d=-h/2,f=1+h/2,m=[d,d,f,d,f,f,d,d,f,f,d,f],v=new Float32Array(108),y=new Float32Array(72),_=new Float32Array(36),x=0;x<6;x++){var w=x%3*2/3-1,E=x>2?0:-1,M=[w,E,0,w+2/3,E,0,w+2/3,E+1,0,w,E,0,w+2/3,E+1,0,w,E+1,0];v.set(M,18*x),y.set(m,12*x);var S=[x,x,x,x,x,x];_.set(S,6*x)}var T=new Fe;T.setAttribute("position",new _e(v,3)),T.setAttribute("uv",new _e(y,2)),T.setAttribute("faceIndex",new _e(_,1)),t.push(T),r>4&&r--}return{_lodPlanes:t,_sizeLods:e,_sigmas:n}}function $u(t){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),ms.call(this,t),this.type="catmullrom"}ss.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(ss.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},Object.assign(Ds.prototype,{createPointsGeometry:function(t){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var e=new zo,n=0,r=t.length;n<r;n++){var o=t[n];e.vertices.push(new z(o.x,o.y,o.z||0))}return e}}),Object.assign(Os.prototype,{fromPoints:function(t){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(t)}}),Object.create(ms.prototype),Object.create(ms.prototype),$u.prototype=Object.create(ms.prototype),Object.assign($u.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),Vu.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Uu.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(Ja.prototype,{extractUrlBase:function(t){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Ws(t)}}),Ja.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Object.assign(Pu.prototype,{center:function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},size:function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(W.prototype,{center:function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},size:function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(ct.prototype,{empty:function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}}),_n.prototype.setFromMatrix=function(t){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(t)},Iu.prototype.center=function(t){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(t)},Object.assign(P,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(t){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),P.floorPowerOfTwo(t)},nextPowerOfTwo:function(t){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),P.ceilPowerOfTwo(t)}}),Object.assign(L.prototype,{flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(t){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(_t.prototype,{extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new z).setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(q){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(q)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(t){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(t,e,n,r,o,c){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,r,n,o,c)}}),Qt.prototype.isIntersectionLine=function(line){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(line)},V.prototype.multiplyVector3=function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},Object.assign(yt.prototype,{isIntersectionBox:function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}}),Object.assign(oe.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(t,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(t,e)},midpoint:function(t){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(t)},normal:function(t){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(t)},plane:function(t){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(t)}}),Object.assign(oe,{barycoordFromPoint:function(t,a,b,e,n){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),oe.getBarycoord(t,a,b,e,n)},normal:function(a,b,t,e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),oe.getNormal(a,b,t,e)}}),Object.assign(Cs.prototype,{extractAllPoints:function(t){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(t)},extrude:function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new ya(this,t)},makeGeometry:function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new wa(this,t)}}),Object.assign(j.prototype,{fromAttribute:function(t,e,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},distanceToManhattan:function(t){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(z.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},applyProjection:function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)},fromAttribute:function(t,e,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},distanceToManhattan:function(t){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(F.prototype,{fromAttribute:function(t,e,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(zo.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(t){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}}),Object.assign(Gt.prototype,{getChildByName:function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(t){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}}),Object.defineProperties(Gt.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.assign(nn.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}),Object.defineProperties(nn.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Object.defineProperties(io.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(uo.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),oo.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(ss.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(t){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=t}}),pn.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(As.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties(_e.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),35048===this.usage},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(35048)}}}),Object.assign(_e.prototype,{setDynamic:function(t){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===t?35048:35044),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(Fe.prototype,{addIndex:function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},addAttribute:function(t,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),e&&e.isBufferAttribute||e&&e.isInterleavedBufferAttribute?"index"===t?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(t,e):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(t,new _e(arguments[1],arguments[2])))},addDrawCall:function(t,e,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(t){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(t)},applyMatrix:function(t){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}}),Object.defineProperties(Fe.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(qs.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(t){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=t}}}),Object.defineProperties(Du.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(t){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=t}}}),Object.defineProperties(Pi.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),35048===this.usage},set:function(t){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(t)}}}),Object.assign(Pi.prototype,{setDynamic:function(t){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===t?35048:35044),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(va.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.assign(ki.prototype,{dispose:function(){console.error("THREE.Scene: .dispose() has been removed.")}}),Object.defineProperties(Mu.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(me.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new pe}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===t}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(t){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=t}}}),Object.defineProperties(Da.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(Ta.prototype,{transparency:{get:function(){return console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission},set:function(t){console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission=t}}}),Object.defineProperties(ln.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),Object.assign(Ci.prototype,{clearTarget:function(t,e,n,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(t),this.clear(e,n,r)},animate:function(t){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(t)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Object.defineProperties(Ci.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(t){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===t?3001:3e3}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),Object.defineProperties(bi.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(B.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),Object.defineProperties(cu.prototype,{load:{value:function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var e=this;return(new ru).load(t,(function(t){e.setBuffer(t)})),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),lu.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},dn.prototype.updateCubeMap=function(t,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(t,e)},dn.prototype.clear=function(t,e,n,r){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(t,e,n,r)};I.crossOrigin=void 0,I.loadTexture=function(t,e,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var o=new as;o.setCrossOrigin(this.crossOrigin);var c=o.load(t,n,void 0,r);return e&&(c.mapping=e),c},I.loadTextureCube=function(t,e,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var o=new is;o.setCrossOrigin(this.crossOrigin);var c=o.load(t,n,void 0,r);return e&&(c.mapping=e),c},I.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},I.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"122"}}))},1:function(t,e,n){"use strict";n.d(e,"b",(function(){return Ur})),n.d(e,"a",(function(){return Ur}));n(18),n(102),n(80),n(278),n(60),n(271),n(72),n(133),n(280),n(282),n(151),n(40),n(77),n(29),n(148),n(48),n(68),n(104),n(181),n(61),n(67),n(185),n(19),n(54),n(66);var r=n(33);function o(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var l,h,d,f,m,v,y,_,x,w,E,M,S,T,D,O,C,A,k,P,j,L,I,R,N,F,B,U={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},V={duration:.5,overwrite:!1,delay:0},z=1e8,H=2*Math.PI,G=H/4,W=0,$=Math.sqrt,Q=Math.cos,X=Math.sin,Y=function(t){return"string"==typeof t},K=function(t){return"function"==typeof t},J=function(t){return"number"==typeof t},Z=function(t){return void 0===t},tt=function(t){return"object"===Object(r.a)(t)},et=function(t){return!1!==t},nt=function(){return"undefined"!=typeof window},it=function(t){return K(t)||Y(t)},ot="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},at=Array.isArray,st=/(?:-?\.?\d|\.)+/gi,ut=/[-+=.]*\d+[.e\-+]*\d*[e\-\+]*\d*/g,ct=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,lt=/[-+=.]*\d+(?:\.|e-|e)*\d*/gi,ht=/[+-]=-?[\.\d]+/,pt=/[#\-+.]*\b[a-z\d-=+%.]+/gi,ft={},mt={},vt=function(t){return(mt=zt(t,ft))&&Sn},gt=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},yt=function(t,e){return!e&&console.warn(t)},_t=function(t,e){return t&&(ft[t]=e)&&mt&&(mt[t]=e)||ft},bt=function(){return 0},xt={},wt=[],Et={},Mt={},St={},Tt=30,Dt=[],Ot="",Ct=function(t){var e,i,n=t[0];if(tt(n)||K(n)||(t=[t]),!(e=(n._gsap||{}).harness)){for(i=Dt.length;i--&&!Dt[i].targetTest(n););e=Dt[i]}for(i=t.length;i--;)t[i]&&(t[i]._gsap||(t[i]._gsap=new Xe(t[i],e)))||t.splice(i,1);return t},At=function(t){return t._gsap||Ct(me(t))[0]._gsap},kt=function(t,e,n){return(n=t[e])&&K(n)?t[e]():Z(n)&&t.getAttribute&&t.getAttribute(e)||n},Pt=function(t,e){return(t=t.split(",")).forEach(e)||t},jt=function(t){return Math.round(1e5*t)/1e5||0},Lt=function(t,e){for(var n=e.length,i=0;t.indexOf(e[i])<0&&++i<n;);return i<n},It=function(t,e,n){var r,o=J(t[1]),c=(o?2:1)+(e<2?0:1),l=t[c];if(o&&(l.duration=t[1]),l.parent=n,e){for(r=l;n&&!("immediateRender"in r);)r=n.vars.defaults||{},n=et(n.vars.inherit)&&n.parent;l.immediateRender=et(r.immediateRender),e<2?l.runBackwards=1:l.startAt=t[c-1]}return l},Rt=function(){var i,t,e=wt.length,a=wt.slice(0);for(Et={},wt.length=0,i=0;i<e;i++)(t=a[i])&&t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0)._lazy=0)},Nt=function(t,time,e,n){wt.length&&Rt(),t.render(time,e,n),wt.length&&Rt()},Ft=function(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match(pt).length<2?e:Y(t)?t.trim():t},Bt=function(p){return p},Ut=function(t,e){for(var p in e)p in t||(t[p]=e[p]);return t},Vt=function(t,e){for(var p in e)p in t||"duration"===p||"ease"===p||(t[p]=e[p])},zt=function(base,t){for(var p in t)base[p]=t[p];return base},Ht=function t(base,e){for(var p in e)base[p]=tt(e[p])?t(base[p]||(base[p]={}),e[p]):e[p];return base},Gt=function(t,e){var p,n={};for(p in t)p in e||(n[p]=t[p]);return n},Wt=function(t){var e=t.parent||l,n=t.keyframes?Vt:Ut;if(et(t.inherit))for(;e;)n(t,e.vars.defaults),e=e.parent||e._dp;return t},qt=function(t,e,n,r){void 0===n&&(n="_first"),void 0===r&&(r="_last");var o=e._prev,c=e._next;o?o._next=c:t[n]===e&&(t[n]=c),c?c._prev=o:t[r]===e&&(t[r]=o),e._next=e._prev=e.parent=null},$t=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove(t),t._act=0},Qt=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var a=t;a;)a._dirty=1,a=a.parent;return t},Xt=function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t},Yt=function(t){return t._repeat?Kt(t._tTime,t=t.duration()+t._rDelay)*t:0},Kt=function(t,e){return(t/=e)&&~~t===t?~~t-1:~~t},Jt=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},Zt=function(t){return t._end=jt(t._start+(t._tDur/Math.abs(t._ts||t._rts||1e-8)||0))},te=function(t,e){var n=t._dp;return n&&n.smoothChildTiming&&t._ts&&(t._start=jt(t._dp._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),Zt(t),n._dirty||Qt(n,t)),t},ee=function(t,e){var n;if((e._time||e._initted&&!e._dur)&&(n=Jt(t.rawTime(),e),(!e._dur||le(0,e.totalDuration(),n)-e._tTime>1e-8)&&e.render(n,!0)),Qt(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(n=t;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;t._zTime=-1e-8}},ne=function(t,e,n,r){return e.parent&&$t(e),e._start=jt(n+e._delay),e._end=jt(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),function(t,e,n,r,o){void 0===n&&(n="_first"),void 0===r&&(r="_last");var c,l=t[r];if(o)for(c=e[o];l&&l[o]>c;)l=l._prev;l?(e._next=l._next,l._next=e):(e._next=t[n],t[n]=e),e._next?e._next._prev=e:t[r]=e,e._prev=l,e.parent=e._dp=t}(t,e,"_first","_last",t._sort?"_start":0),t._recent=e,r||ee(t,e),t},re=function(t,e){return(ft.ScrollTrigger||gt("scrollTrigger",e))&&ft.ScrollTrigger.create(e,t)},ie=function(t,e,n,r){return nn(t,e),t._initted?!n&&t._pt&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&v!==Re.frame?(wt.push(t),t._lazy=[e,r],1):void 0:1},oe=function(t,e,n,r){var o=t._repeat,c=jt(e)||0,l=t._tTime/t._tDur;return l&&!r&&(t._time*=c/t._dur),t._dur=c,t._tDur=o?o<0?1e10:jt(c*(o+1)+t._rDelay*o):c,l&&!r?te(t,t._tTime=t._tDur*l):t.parent&&Zt(t),n||Qt(t.parent,t),t},ae=function(t){return t instanceof Ke?Qt(t):oe(t,t._dur)},se={_start:0,endTime:bt},ue=function t(e,n){var i,r,o=e.labels,c=e._recent||se,l=e.duration()>=z?c.endTime(!1):e._dur;return Y(n)&&(isNaN(n)||n in o)?"<"===(i=n.charAt(0))||">"===i?("<"===i?c._start:c.endTime(c._repeat>=0))+(parseFloat(n.substr(1))||0):(i=n.indexOf("="))<0?(n in o||(o[n]=l),o[n]):(r=+(n.charAt(i-1)+n.substr(i+1)),i>1?t(e,n.substr(0,i-1))+r:l+r):null==n?l:+n},ce=function(t,e){return t||0===t?e(t):e},le=function(t,e,n){return n<t?t:n>e?e:n},he=function(t){return(t=(t+"").substr((parseFloat(t)+"").length))&&isNaN(t)?t:""},pe=[].slice,de=function(t,e){return t&&tt(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&tt(t[0]))&&!t.nodeType&&t!==h},fe=function(t,e,n){return void 0===n&&(n=[]),t.forEach((function(t){var r;return Y(t)&&!e||de(t,1)?(r=n).push.apply(r,me(t)):n.push(t)}))||n},me=function(t,e){return!Y(t)||e||!d&&Ne()?at(t)?fe(t,e):de(t)?pe.call(t,0):t?[t]:[]:pe.call(f.querySelectorAll(t),0)},ve=function(a){return a.sort((function(){return.5-Math.random()}))},ge=function(t){if(K(t))return t;var e=tt(t)?t:{each:t},n=Ge(e.ease),r=e.from||0,base=parseFloat(e.base)||0,o={},c=r>0&&r<1,l=isNaN(r)||c,h=e.axis,d=r,f=r;return Y(r)?d=f={center:.5,edges:.5,end:1}[r]||0:!c&&l&&(d=r[0],f=r[1]),function(i,t,a){var c,m,v,y,_,x,w,E,M,S=(a||e).length,T=o[S];if(!T){if(!(M="auto"===e.grid?0:(e.grid||[1,z])[1])){for(w=-z;w<(w=a[M++].getBoundingClientRect().left)&&M<S;);M--}for(T=o[S]=[],c=l?Math.min(M,S)*d-.5:r%M,m=l?S*f/M-.5:r/M|0,w=0,E=z,x=0;x<S;x++)v=x%M-c,y=m-(x/M|0),T[x]=_=h?Math.abs("y"===h?y:v):$(v*v+y*y),_>w&&(w=_),_<E&&(E=_);"random"===r&&ve(T),T.max=w-E,T.min=E,T.v=S=(parseFloat(e.amount)||parseFloat(e.each)*(M>S?S-1:h?"y"===h?S/M:M:Math.max(M,S/M))||0)*("edges"===r?-1:1),T.b=S<0?base-S:base,T.u=he(e.amount||e.each)||0,n=n&&S<0?ze(n):n}return S=(T[i]-T.min)/T.max||0,jt(T.b+(n?n(S):S)*T.v)+T.u}},ye=function(t){var p=t<1?Math.pow(10,(t+"").length-2):1;return function(e){return Math.floor(Math.round(parseFloat(e)/t)*t*p)/p+(J(e)?0:he(e))}},_e=function(t,e){var n,r,o=at(t);return!o&&tt(t)&&(n=o=t.radius||z,t.values?(t=me(t.values),(r=!J(t[0]))&&(n*=n)):t=ye(t.increment)),ce(e,o?K(t)?function(e){return r=t(e),Math.abs(r-e)<=n?r:e}:function(e){for(var o,c,l=parseFloat(r?e.x:e),h=parseFloat(r?e.y:0),d=z,f=0,i=t.length;i--;)(o=r?(o=t[i].x-l)*o+(c=t[i].y-h)*c:Math.abs(t[i]-l))<d&&(d=o,f=i);return f=!n||d<=n?t[f]:e,r||f===e||J(e)?f:f+he(e)}:ye(t))},be=function(t,e,n,r){return ce(at(t)?!e:!0===n?!!(n=0):!r,(function(){return at(t)?t[~~(Math.random()*t.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((t+Math.random()*(e-t))/n)*n*r)/r}))},xe=function(a,t,e){return ce(e,(function(e){return a[~~t(e)]}))},we=function(t){for(var i,e,n,r,o=0,s="";~(i=t.indexOf("random(",o));)n=t.indexOf(")",i),r="["===t.charAt(i+7),e=t.substr(i+7,n-i-7).match(r?pt:st),s+=t.substr(o,i-o)+be(r?e:+e[0],r?0:+e[1],+e[2]||1e-5),o=n+1;return s+t.substr(o,t.length-o)},Ee=function(t,e,n,r,o){var c=e-t,l=r-n;return ce(o,(function(e){return n+((e-t)/c*l||0)}))},Me=function(t,e,n){var p,r,label,o=t.labels,c=z;for(p in o)(r=o[p]-e)<0==!!n&&r&&c>(r=Math.abs(r))&&(label=p,c=r);return label},Se=function(t,e,n){var r,o,c=t.vars,l=c[e];if(l)return r=c[e+"Params"],o=c.callbackScope||t,n&&wt.length&&Rt(),r?l.apply(o,r):l.call(o)},Te=function(t){return $t(t),t.progress()<1&&Se(t,"onInterrupt"),t},De=function(t){var e=(t=!t.name&&t.default||t).name,n=K(t),r=e&&!n&&t.init?function(){this._props=[]}:t,o={init:bt,render:vn,add:tn,kill:yn,modifier:gn,rawVars:0},c={targetTest:0,get:0,getSetter:pn,aliases:{},register:0};if(Ne(),t!==r){if(Mt[e])return;Ut(r,Ut(Gt(t,o),c)),zt(r.prototype,zt(o,Gt(t,c))),Mt[r.prop=e]=r,t.targetTest&&(Dt.push(r),xt[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}_t(e,r),t.register&&t.register(Sn,r,xn)},Oe={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},Ce=function(t,e,n){return 255*(6*(t=t<0?t+1:t>1?t-1:t)<1?e+(n-e)*t*6:t<.5?n:3*t<2?e+(n-e)*(2/3-t)*6:e)+.5|0},Ae=function(t,e,n){var r,g,b,o,s,c,l,h,d,f,a=t?J(t)?[t>>16,t>>8&255,255&t]:0:Oe.black;if(!a){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),Oe[t])a=Oe[t];else if("#"===t.charAt(0))4===t.length&&(r=t.charAt(1),g=t.charAt(2),b=t.charAt(3),t="#"+r+r+g+g+b+b),a=[(t=parseInt(t.substr(1),16))>>16,t>>8&255,255&t];else if("hsl"===t.substr(0,3))if(a=f=t.match(st),e){if(~t.indexOf("="))return a=t.match(ut),n&&a.length<4&&(a[3]=1),a}else o=+a[0]%360/360,s=+a[1]/100,r=2*(c=+a[2]/100)-(g=c<=.5?c*(s+1):c+s-c*s),a.length>3&&(a[3]*=1),a[0]=Ce(o+1/3,r,g),a[1]=Ce(o,r,g),a[2]=Ce(o-1/3,r,g);else a=t.match(st)||Oe.transparent;a=a.map(Number)}return e&&!f&&(r=a[0]/255,g=a[1]/255,b=a[2]/255,c=((l=Math.max(r,g,b))+(h=Math.min(r,g,b)))/2,l===h?o=s=0:(d=l-h,s=c>.5?d/(2-l-h):d/(l+h),o=l===r?(g-b)/d+(g<b?6:0):l===g?(b-r)/d+2:(r-g)/d+4,o*=60),a[0]=~~(o+.5),a[1]=~~(100*s+.5),a[2]=~~(100*c+.5)),n&&a.length<4&&(a[3]=1),a},ke=function(t){var e=[],n=[],i=-1;return t.split(je).forEach((function(t){var a=t.match(ct)||[];e.push.apply(e,a),n.push(i+=a.length+1)})),e.c=n,e},Pe=function(s,t,e){var n,r,o,c,l="",h=(s+l).match(je),d=t?"hsla(":"rgba(",i=0;if(!h)return s;if(h=h.map((function(e){return(e=Ae(e,t,1))&&d+(t?e[0]+","+e[1]+"%,"+e[2]+"%,"+e[3]:e.join(","))+")"})),e&&(o=ke(s),(n=e.c).join(l)!==o.c.join(l)))for(c=(r=s.replace(je,"1").split(ct)).length-1;i<c;i++)l+=r[i]+(~n.indexOf(i)?h.shift()||d+"0,0,0,0)":(o.length?o:h.length?h:e).shift());if(!r)for(c=(r=s.split(je)).length-1;i<c;i++)l+=r[i]+h[i];return l+r[c]},je=function(){var p,s="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(p in Oe)s+="|"+p+"\\b";return new RegExp(s+")","gi")}(),Le=/hsl[a]?\(/,Ie=function(a){var t,e=a.join(" ");if(je.lastIndex=0,je.test(e))return t=Le.test(e),a[1]=Pe(a[1],t),a[0]=Pe(a[0],t,ke(a[1])),!0},Re=(D=Date.now,O=500,C=33,A=D(),k=A,j=P=1e3/240,I=function t(e){var n,r,time,o,c=D()-k,l=!0===e;if(c>O&&(A+=c-C),((n=(time=(k+=c)-A)-j)>0||l)&&(o=++M.frame,S=time-1e3*M.time,M.time=time/=1e3,j+=n+(n>=P?4:P-n),r=1),l||(x=w(t)),r)for(T=0;T<L.length;T++)L[T](time,S,o,e)},M={time:0,frame:0,tick:function(){I(!0)},deltaRatio:function(t){return S/(1e3/(t||60))},wake:function(){m&&(!d&&nt()&&(h=d=window,f=h.document||{},ft.gsap=Sn,(h.gsapVersions||(h.gsapVersions=[])).push(Sn.version),vt(mt||h.GreenSockGlobals||!h.gsap&&h||{}),E=h.requestAnimationFrame),x&&M.sleep(),w=E||function(t){return setTimeout(t,j-1e3*M.time+1|0)},_=1,I(2))},sleep:function(){(E?h.cancelAnimationFrame:clearTimeout)(x),_=0,w=bt},lagSmoothing:function(t,e){O=t||1/1e-8,C=Math.min(e,O,0)},fps:function(t){P=1e3/(t||240),j=1e3*M.time+P},add:function(t){L.indexOf(t)<0&&L.push(t),Ne()},remove:function(t){var i;~(i=L.indexOf(t))&&L.splice(i,1)&&T>=i&&T--},_listeners:L=[]}),Ne=function(){return!_&&Re.wake()},Fe={},Be=/^[\d.\-M][\d.\-,\s]/,Ue=/["']/g,Ve=function(t){for(var e,n,r,o={},c=t.substr(1,t.length-3).split(":"),l=c[0],i=1,h=c.length;i<h;i++)n=c[i],e=i!==h-1?n.lastIndexOf(","):n.length,r=n.substr(0,e),o[l]=isNaN(r)?r.replace(Ue,"").trim():+r,l=n.substr(e+1).trim();return o},ze=function(t){return function(p){return 1-t(1-p)}},He=function t(e,n){for(var r,o=e._first;o;)o instanceof Ke?t(o,n):!o.vars.yoyoEase||o._yoyo&&o._repeat||o._yoyo===n||(o.timeline?t(o.timeline,n):(r=o._ease,o._ease=o._yEase,o._yEase=r,o._yoyo=n)),o=o._next},Ge=function(t,e){return t&&(K(t)?t:Fe[t]||function(t){var e,n,r,o,c=(t+"").split("("),l=Fe[c[0]];return l&&c.length>1&&l.config?l.config.apply(null,~t.indexOf("{")?[Ve(c[1])]:(e=t,n=e.indexOf("(")+1,r=e.indexOf(")"),o=e.indexOf("(",n),e.substring(n,~o&&o<r?e.indexOf(")",r+1):r)).split(",").map(Ft)):Fe._CE&&Be.test(t)?Fe._CE("",t):l}(t))||e},We=function(t,e,n,r){void 0===n&&(n=function(p){return 1-e(1-p)}),void 0===r&&(r=function(p){return p<.5?e(2*p)/2:1-e(2*(1-p))/2});var o,c={easeIn:e,easeOut:n,easeInOut:r};return Pt(t,(function(t){for(var p in Fe[t]=ft[t]=c,Fe[o=t.toLowerCase()]=n,c)Fe[o+("easeIn"===p?".in":"easeOut"===p?".out":".inOut")]=Fe[t+"."+p]=c[p]})),c},qe=function(t){return function(p){return p<.5?(1-t(1-2*p))/2:.5+t(2*(p-.5))/2}},$e=function t(e,n,r){var o=n>=1?n:1,c=(r||(e?.3:.45))/(n<1?n:1),l=c/H*(Math.asin(1/o)||0),h=function(p){return 1===p?1:o*Math.pow(2,-10*p)*X((p-l)*c)+1},d="out"===e?h:"in"===e?function(p){return 1-h(1-p)}:qe(h);return c=H/c,d.config=function(n,r){return t(e,n,r)},d},Qe=function t(e,n){void 0===n&&(n=1.70158);var r=function(p){return p?--p*p*((n+1)*p+n)+1:0},o="out"===e?r:"in"===e?function(p){return 1-r(1-p)}:qe(r);return o.config=function(n){return t(e,n)},o};Pt("Linear,Quad,Cubic,Quart,Quint,Strong",(function(t,i){var e=i<5?i+1:i;We(t+",Power"+(e-1),i?function(p){return Math.pow(p,e)}:function(p){return p},(function(p){return 1-Math.pow(1-p,e)}),(function(p){return p<.5?Math.pow(2*p,e)/2:1-Math.pow(2*(1-p),e)/2}))})),Fe.Linear.easeNone=Fe.none=Fe.Linear.easeIn,We("Elastic",$e("in"),$e("out"),$e()),R=7.5625,F=1/(N=2.75),We("Bounce",(function(p){return 1-B(1-p)}),B=function(p){return p<F?R*p*p:p<.7272727272727273?R*Math.pow(p-1.5/N,2)+.75:p<.9090909090909092?R*(p-=2.25/N)*p+.9375:R*Math.pow(p-2.625/N,2)+.984375}),We("Expo",(function(p){return p?Math.pow(2,10*(p-1)):0})),We("Circ",(function(p){return-($(1-p*p)-1)})),We("Sine",(function(p){return 1===p?1:1-Q(p*G)})),We("Back",Qe("in"),Qe("out"),Qe()),Fe.SteppedEase=Fe.steps=ft.SteppedEase={config:function(t,e){void 0===t&&(t=1);var n=1/t,r=t+(e?0:1),o=e?1:0;return function(p){return((r*le(0,1-1e-8,p)|0)+o)*n}}},V.ease=Fe["quad.out"],Pt("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(t){return Ot+=t+","+t+"Params,"}));var Xe=function(t,e){this.id=W++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:kt,this.set=e?e.getSetter:pn},Ye=function(){function t(t,time){var e=t.parent||l;this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,oe(this,+t.duration,1,1),this.data=t.data,_||Re.wake(),e&&ne(e,this,time||0===time?time:e._time,1),t.reversed&&this.reverse(),t.paused&&this.paused(!0)}var e=t.prototype;return e.delay=function(t){return t||0===t?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},e.duration=function(t){return arguments.length?this.totalDuration(this._repeat>0?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},e.totalDuration=function(t){return arguments.length?(this._dirty=0,oe(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(t,e){if(Ne(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(te(this,t);n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&t<this._tDur||this._ts<0&&t>0||!this._tDur&&!t)&&ne(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!e||this._initted&&1e-8===Math.abs(this._zTime)||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),Nt(this,t,e)),this},e.time=function(t,e){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+Yt(this))%this._dur||(t?this._dur:0),e):this._time},e.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+Yt(this),e):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(t,e){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*n,e):this._repeat?Kt(this._tTime,n)+1:1},e.timeScale=function(t){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===t)return this;var e=this.parent&&this._ts?Jt(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||-1e-8===t?0:this._rts,Xt(this.totalTime(le(-this._delay,this._tDur,e),!0))},e.paused=function(t){return arguments.length?(this._ps!==t&&(this._ps=t,t?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Ne(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&(this._tTime-=1e-8)&&1e-8!==Math.abs(this._zTime)))),this):this._ps},e.startTime=function(t){if(arguments.length){this._start=t;var e=this.parent||this._dp;return e&&(e._sort||!this.parent)&&ne(e,this,t-this._delay),this}return this._start},e.endTime=function(t){return this._start+(et(t)?this.totalDuration():this.duration())/Math.abs(this._ts)},e.rawTime=function(t){var e=this.parent||this._dp;return e?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Jt(e.rawTime(t),this):this._tTime:this._tTime},e.globalTime=function(t){for(var e=this,time=arguments.length?t:e.rawTime();e;)time=e._start+time/(e._ts||1),e=e._dp;return time},e.repeat=function(t){return arguments.length?(this._repeat=t,ae(this)):this._repeat},e.repeatDelay=function(t){return arguments.length?(this._rDelay=t,ae(this)):this._rDelay},e.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},e.seek=function(t,e){return this.totalTime(ue(this,t),et(e))},e.restart=function(t,e){return this.play().totalTime(t?-this._delay:0,et(e))},e.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},e.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},e.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=0,this._zTime=-1e-8,this},e.isActive=function(){var t,e=this.parent||this._dp,n=this._start;return!(e&&!(this._ts&&this._initted&&e.isActive()&&(t=e.rawTime(!0))>=n&&t<this.endTime(!0)-1e-8))},e.eventCallback=function(t,e,n){var r=this.vars;return arguments.length>1?(e?(r[t]=e,n&&(r[t+"Params"]=n),"onUpdate"===t&&(this._onUpdate=e)):delete r[t],this):r[t]},e.then=function(t){var e=this;return new Promise((function(n){var r=K(t)?t:Bt,o=function(){var t=e.then;e.then=null,K(r)&&(r=r(e))&&(r.then||r===e)&&(e.then=t),n(r),e.then=t};e._initted&&1===e.totalProgress()&&e._ts>=0||!e._tTime&&e._ts<0?o():e._prom=o}))},e.kill=function(){Te(this)},t}();Ut(Ye.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var Ke=function(t){function e(e,time){var n;return void 0===e&&(e={}),(n=t.call(this,e,time)||this).labels={},n.smoothChildTiming=!!e.smoothChildTiming,n.autoRemoveChildren=!!e.autoRemoveChildren,n._sort=et(e.sortChildren),n.parent&&ee(n.parent,o(n)),e.scrollTrigger&&re(o(n),e.scrollTrigger),n}c(e,t);var n=e.prototype;return n.to=function(t,e,n){return new sn(t,It(arguments,0,this),ue(this,J(e)?arguments[3]:n)),this},n.from=function(t,e,n){return new sn(t,It(arguments,1,this),ue(this,J(e)?arguments[3]:n)),this},n.fromTo=function(t,e,n,r){return new sn(t,It(arguments,2,this),ue(this,J(e)?arguments[4]:r)),this},n.set=function(t,e,n){return e.duration=0,e.parent=this,Wt(e).repeatDelay||(e.repeat=0),e.immediateRender=!!e.immediateRender,new sn(t,e,ue(this,n),1),this},n.call=function(t,e,n){return ne(this,sn.delayedCall(0,t,e),ue(this,n))},n.staggerTo=function(t,e,n,r,o,c,l){return n.duration=e,n.stagger=n.stagger||r,n.onComplete=c,n.onCompleteParams=l,n.parent=this,new sn(t,n,ue(this,o)),this},n.staggerFrom=function(t,e,n,r,o,c,l){return n.runBackwards=1,Wt(n).immediateRender=et(n.immediateRender),this.staggerTo(t,e,n,r,o,c,l)},n.staggerFromTo=function(t,e,n,r,o,c,l,h){return r.startAt=n,Wt(r).immediateRender=et(r.immediateRender),this.staggerTo(t,e,r,o,c,l,h)},n.render=function(t,e,n){var time,r,o,c,h,d,f,m,v,y,_,x,w=this._time,E=this._dirty?this.totalDuration():this._tDur,M=this._dur,S=this!==l&&t>E-1e-8&&t>=0?E:t<1e-8?0:t,T=this._zTime<0!=t<0&&(this._initted||!M);if(S!==this._tTime||n||T){if(w!==this._time&&M&&(S+=this._time-w,t+=this._time-w),time=S,v=this._start,d=!(m=this._ts),T&&(M||(w=this._zTime),(t||!e)&&(this._zTime=t)),this._repeat&&(_=this._yoyo,h=M+this._rDelay,time=jt(S%h),S===E?(c=this._repeat,time=M):((c=~~(S/h))&&c===S/h&&(time=M,c--),time>M&&(time=M)),y=Kt(this._tTime,h),!w&&this._tTime&&y!==c&&(y=c),_&&1&c&&(time=M-time,x=1),c!==y&&!this._lock)){var D=_&&1&y,O=D===(_&&1&c);if(c<y&&(D=!D),w=D?0:M,this._lock=1,this.render(w||(x?0:jt(c*h)),e,!M)._lock=0,!e&&this.parent&&Se(this,"onRepeat"),this.vars.repeatRefresh&&!x&&(this.invalidate()._lock=1),w!==this._time||d!==!this._ts)return this;if(M=this._dur,E=this._tDur,O&&(this._lock=2,w=D?M:-1e-4,this.render(w,!0),this.vars.repeatRefresh&&!x&&this.invalidate()),this._lock=0,!this._ts&&!d)return this;He(this,x)}if(this._hasPause&&!this._forcing&&this._lock<2&&(f=function(t,e,time){var n;if(time>e)for(n=t._first;n&&n._start<=time;){if(!n._dur&&"isPause"===n.data&&n._start>e)return n;n=n._next}else for(n=t._last;n&&n._start>=time;){if(!n._dur&&"isPause"===n.data&&n._start<e)return n;n=n._prev}}(this,jt(w),jt(time)))&&(S-=time-(time=f._start)),this._tTime=S,this._time=time,this._act=!m,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=t),!w&&time&&!e&&Se(this,"onStart"),time>=w&&t>=0)for(r=this._first;r;){if(o=r._next,(r._act||time>=r._start)&&r._ts&&f!==r){if(r.parent!==this)return this.render(t,e,n);if(r.render(r._ts>0?(time-r._start)*r._ts:(r._dirty?r.totalDuration():r._tDur)+(time-r._start)*r._ts,e,n),time!==this._time||!this._ts&&!d){f=0,o&&(S+=this._zTime=-1e-8);break}}r=o}else{r=this._last;for(var C=t<0?t:time;r;){if(o=r._prev,(r._act||C<=r._end)&&r._ts&&f!==r){if(r.parent!==this)return this.render(t,e,n);if(r.render(r._ts>0?(C-r._start)*r._ts:(r._dirty?r.totalDuration():r._tDur)+(C-r._start)*r._ts,e,n),time!==this._time||!this._ts&&!d){f=0,o&&(S+=this._zTime=C?-1e-8:1e-8);break}}r=o}}if(f&&!e&&(this.pause(),f.render(time>=w?0:-1e-8)._zTime=time>=w?1:-1,this._ts))return this._start=v,Zt(this),this.render(t,e,n);this._onUpdate&&!e&&Se(this,"onUpdate",!0),(S===E&&E>=this.totalDuration()||!S&&w)&&(v!==this._start&&Math.abs(m)===Math.abs(this._ts)||this._lock||((t||!M)&&(S===E&&this._ts>0||!S&&this._ts<0)&&$t(this,1),e||t<0&&!w||!S&&!w||(Se(this,S===E?"onComplete":"onReverseComplete",!0),this._prom&&!(S<E&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(t,e){var n=this;if(J(e)||(e=ue(this,e)),!(t instanceof Ye)){if(at(t))return t.forEach((function(t){return n.add(t,e)})),this;if(Y(t))return this.addLabel(t,e);if(!K(t))return this;t=sn.delayedCall(0,t)}return this!==t?ne(this,t,e):this},n.getChildren=function(t,e,n,r){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===n&&(n=!0),void 0===r&&(r=-z);for(var a=[],o=this._first;o;)o._start>=r&&(o instanceof sn?e&&a.push(o):(n&&a.push(o),t&&a.push.apply(a,o.getChildren(!0,e,n)))),o=o._next;return a},n.getById=function(t){for(var e=this.getChildren(1,1,1),i=e.length;i--;)if(e[i].vars.id===t)return e[i]},n.remove=function(t){return Y(t)?this.removeLabel(t):K(t)?this.killTweensOf(t):(qt(this,t),t===this._recent&&(this._recent=this._last),Qt(this))},n.totalTime=function(e,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=jt(Re.time-(this._ts>0?e/this._ts:(this.totalDuration()-e)/-this._ts))),t.prototype.totalTime.call(this,e,n),this._forcing=0,this):this._tTime},n.addLabel=function(label,t){return this.labels[label]=ue(this,t),this},n.removeLabel=function(label){return delete this.labels[label],this},n.addPause=function(t,e,n){var r=sn.delayedCall(0,e||bt,n);return r.data="isPause",this._hasPause=1,ne(this,r,ue(this,t))},n.removePause=function(t){var e=this._first;for(t=ue(this,t);e;)e._start===t&&"isPause"===e.data&&$t(e),e=e._next},n.killTweensOf=function(t,e,n){for(var r=this.getTweensOf(t,n),i=r.length;i--;)Je!==r[i]&&r[i].kill(t,e);return this},n.getTweensOf=function(t,e){for(var n,a=[],r=me(t),o=this._first,c=J(e);o;)o instanceof sn?Lt(o._targets,r)&&(c?(!Je||o._initted&&o._ts)&&o.globalTime(0)<=e&&o.globalTime(o.totalDuration())>e:!e||o.isActive())&&a.push(o):(n=o.getTweensOf(r,e)).length&&a.push.apply(a,n),o=o._next;return a},n.tweenTo=function(t,e){e=e||{};var n=this,r=ue(n,t),o=e,c=o.startAt,l=o.onStart,h=o.onStartParams,d=sn.to(n,Ut(e,{ease:"none",lazy:!1,time:r,overwrite:"auto",duration:e.duration||Math.abs((r-(c&&"time"in c?c.time:n._time))/n.timeScale())||1e-8,onStart:function(){n.pause();var t=e.duration||Math.abs((r-n._time)/n.timeScale());d._dur!==t&&oe(d,t,0,1).render(d._time,!0,!0),l&&l.apply(d,h||[])}}));return d},n.tweenFromTo=function(t,e,n){return this.tweenTo(e,Ut({startAt:{time:ue(this,t)}},n))},n.recent=function(){return this._recent},n.nextLabel=function(t){return void 0===t&&(t=this._time),Me(this,ue(this,t))},n.previousLabel=function(t){return void 0===t&&(t=this._time),Me(this,ue(this,t),1)},n.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+1e-8)},n.shiftChildren=function(t,e,n){void 0===n&&(n=0);for(var p,r=this._first,o=this.labels;r;)r._start>=n&&(r._start+=t,r._end+=t),r=r._next;if(e)for(p in o)o[p]>=n&&(o[p]+=t);return Qt(this)},n.invalidate=function(){var e=this._first;for(this._lock=0;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},n.clear=function(t){void 0===t&&(t=!0);for(var e,n=this._first;n;)e=n._next,this.remove(n),n=e;return this._time=this._tTime=this._pTime=0,t&&(this.labels={}),Qt(this)},n.totalDuration=function(t){var e,n,r,o=0,c=this,h=c._last,d=z;if(arguments.length)return c.timeScale((c._repeat<0?c.duration():c.totalDuration())/(c.reversed()?-t:t));if(c._dirty){for(r=c.parent;h;)e=h._prev,h._dirty&&h.totalDuration(),(n=h._start)>d&&c._sort&&h._ts&&!c._lock?(c._lock=1,ne(c,h,n-h._delay,1)._lock=0):d=n,n<0&&h._ts&&(o-=n,(!r&&!c._dp||r&&r.smoothChildTiming)&&(c._start+=n/c._ts,c._time-=n,c._tTime-=n),c.shiftChildren(-n,!1,-Infinity),d=0),h._end>o&&h._ts&&(o=h._end),h=e;oe(c,c===l&&c._time>o?c._time:o,1,1),c._dirty=0}return c._tDur},e.updateRoot=function(time){if(l._ts&&(Nt(l,Jt(time,l)),v=Re.frame),Re.frame>=Tt){Tt+=U.autoSleep||120;var t=l._first;if((!t||!t._ts)&&U.autoSleep&&Re._listeners.length<2){for(;t&&!t._ts;)t=t._next;t||Re.sleep()}}},e}(Ye);Ut(Ke.prototype,{_lock:0,_hasPause:0,_forcing:0});var Je,Ze=function(t,e,n,r,o,c,l){var h,d,f,m,v,y,_,a,x=new xn(this._pt,t,e,0,1,mn,null,o),w=0,E=0;for(x.b=n,x.e=r,n+="",(_=~(r+="").indexOf("random("))&&(r=we(r)),c&&(c(a=[n,r],t,e),n=a[0],r=a[1]),d=n.match(lt)||[];h=lt.exec(r);)m=h[0],v=r.substring(w,h.index),f?f=(f+1)%5:"rgba("===v.substr(-5)&&(f=1),m!==d[E++]&&(y=parseFloat(d[E-1])||0,x._pt={_next:x._pt,p:v||1===E?v:",",s:y,c:"="===m.charAt(1)?parseFloat(m.substr(2))*("-"===m.charAt(0)?-1:1):parseFloat(m)-y,m:f&&f<4?Math.round:0},w=lt.lastIndex);return x.c=w<r.length?r.substring(w,r.length):"",x.fp=l,(ht.test(r)||_)&&(x.e=0),this._pt=x,x},tn=function(t,e,n,r,o,c,l,h,d){K(r)&&(r=r(o||0,t,c));var f,m=t[e],v="get"!==n?n:K(m)?d?t[e.indexOf("set")||!K(t["get"+e.substr(3)])?e:"get"+e.substr(3)](d):t[e]():m,y=K(m)?d?ln:cn:un;if(Y(r)&&(~r.indexOf("random(")&&(r=we(r)),"="===r.charAt(1)&&(r=parseFloat(v)+parseFloat(r.substr(2))*("-"===r.charAt(0)?-1:1)+(he(v)||0))),v!==r)return isNaN(v*r)?(!m&&!(e in t)&&gt(e,r),Ze.call(this,t,e,v,r,y,h||U.stringFilter,d)):(f=new xn(this._pt,t,e,+v||0,r-(v||0),"boolean"==typeof m?fn:dn,0,y),d&&(f.fp=d),l&&f.modifier(l,this,t),this._pt=f)},en=function(t,e,n,r,o,c){var l,h,d,i;if(Mt[t]&&!1!==(l=new Mt[t]).init(o,l.rawVars?e[t]:function(t,e,n,r,o){if(K(t)&&(t=rn(t,o,e,n,r)),!tt(t)||t.style&&t.nodeType||at(t)||ot(t))return Y(t)?rn(t,o,e,n,r):t;var p,c={};for(p in t)c[p]=rn(t[p],o,e,n,r);return c}(e[t],r,o,c,n),n,r,c)&&(n._pt=h=new xn(n._pt,o,t,0,1,l.render,l,0,l.priority),n!==y))for(d=n._ptLookup[n._targets.indexOf(o)],i=l._props.length;i--;)d[l._props[i]]=h;return l},nn=function t(e,time){var n,i,p,r,o,c,h,d,f,m,v,y,_,x=e.vars,w=x.ease,E=x.startAt,M=x.immediateRender,S=x.lazy,T=x.onUpdate,D=x.onUpdateParams,O=x.callbackScope,C=x.runBackwards,A=x.yoyoEase,k=x.keyframes,P=x.autoRevert,j=e._dur,L=e._startAt,I=e._targets,R=e.parent,N=R&&"nested"===R.data?R.parent._targets:I,F="auto"===e._overwrite,B=e.timeline;if(B&&(!k||!w)&&(w="none"),e._ease=Ge(w,V.ease),e._yEase=A?ze(Ge(!0===A?w:A,V.ease)):0,A&&e._yoyo&&!e._repeat&&(A=e._yEase,e._yEase=e._ease,e._ease=A),!B){if(y=(d=I[0]?At(I[0]).harness:0)&&x[d.prop],n=Gt(x,xt),L&&L.render(-1,!0).kill(),E){if($t(e._startAt=sn.set(I,Ut({data:"isStart",overwrite:!1,parent:R,immediateRender:!0,lazy:et(S),startAt:null,delay:0,onUpdate:T,onUpdateParams:D,callbackScope:O,stagger:0},E))),M)if(time>0)P||(e._startAt=0);else if(j&&!(time<0&&L))return void(time&&(e._zTime=time))}else if(C&&j)if(L)!P&&(e._startAt=0);else if(time&&(M=!1),p=Ut({overwrite:!1,data:"isFromStart",lazy:M&&et(S),immediateRender:M,stagger:0,parent:R},n),y&&(p[d.prop]=y),$t(e._startAt=sn.set(I,p)),M){if(!time)return}else t(e._startAt,1e-8);for(e._pt=0,S=j&&et(S)||S&&!j,i=0;i<I.length;i++){if(h=(o=I[i])._gsap||Ct(I)[i]._gsap,e._ptLookup[i]=m={},Et[h.id]&&wt.length&&Rt(),v=N===I?i:N.indexOf(o),d&&!1!==(f=new d).init(o,y||n,e,v,N)&&(e._pt=r=new xn(e._pt,o,f.name,0,1,f.render,f,0,f.priority),f._props.forEach((function(t){m[t]=r})),f.priority&&(c=1)),!d||y)for(p in n)Mt[p]&&(f=en(p,n,e,v,o,N))?f.priority&&(c=1):m[p]=r=tn.call(e,o,p,"get",n[p],v,N,0,x.stringFilter);e._op&&e._op[i]&&e.kill(o,e._op[i]),F&&e._pt&&(Je=e,l.killTweensOf(o,m,e.globalTime(0)),_=!e.parent,Je=0),e._pt&&S&&(Et[h.id]=1)}c&&bn(e),e._onInit&&e._onInit(e)}e._from=!B&&!!x.runBackwards,e._onUpdate=T,e._initted=(!e._op||e._pt)&&!_},rn=function(t,e,i,n,r){return K(t)?t.call(e,i,n,r):Y(t)&&~t.indexOf("random(")?we(t):t},on=Ot+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",an=(on+",id,stagger,delay,duration,paused,scrollTrigger").split(","),sn=function(t){function e(e,n,time,r){var c;"number"==typeof n&&(time.duration=n,n=time,time=null);var h,i,d,f,p,m,v,y,_=(c=t.call(this,r?n:Wt(n),time)||this).vars,x=_.duration,w=_.delay,E=_.immediateRender,M=_.stagger,S=_.overwrite,T=_.keyframes,D=_.defaults,O=_.scrollTrigger,C=_.yoyoEase,A=c.parent,k=(at(e)||ot(e)?J(e[0]):"length"in n)?[e]:me(e);if(c._targets=k.length?Ct(k):yt("GSAP target "+e+" not found. https://greensock.com",!U.nullTargetWarn)||[],c._ptLookup=[],c._overwrite=S,T||M||it(x)||it(w)){if(n=c.vars,(h=c.timeline=new Ke({data:"nested",defaults:D||{}})).kill(),h.parent=o(c),T)Ut(h.vars.defaults,{ease:"none"}),T.forEach((function(t){return h.to(k,t,">")}));else{if(f=k.length,v=M?ge(M):bt,tt(M))for(p in M)~on.indexOf(p)&&(y||(y={}),y[p]=M[p]);for(i=0;i<f;i++){for(p in d={},n)an.indexOf(p)<0&&(d[p]=n[p]);d.stagger=0,C&&(d.yoyoEase=C),y&&zt(d,y),m=k[i],d.duration=+rn(x,o(c),i,m,k),d.delay=(+rn(w,o(c),i,m,k)||0)-c._delay,!M&&1===f&&d.delay&&(c._delay=w=d.delay,c._start+=w,d.delay=0),h.to(m,d,v(i,m,k))}h.duration()?x=w=0:c.timeline=0}x||c.duration(x=h.duration())}else c.timeline=0;return!0===S&&(Je=o(c),l.killTweensOf(k),Je=0),A&&ee(A,o(c)),(E||!x&&!T&&c._start===jt(A._time)&&et(E)&&function t(e){return!e||e._ts&&t(e.parent)}(o(c))&&"nested"!==A.data)&&(c._tTime=-1e-8,c.render(Math.max(0,-w))),O&&re(o(c),O),c}c(e,t);var n=e.prototype;return n.render=function(t,e,n){var time,r,o,c,l,h,d,f,m,v=this._time,y=this._tDur,_=this._dur,x=t>y-1e-8&&t>=0?y:t<1e-8?0:t;if(_){if(x!==this._tTime||!t||n||this._startAt&&this._zTime<0!=t<0){if(time=x,f=this.timeline,this._repeat){if(c=_+this._rDelay,time=jt(x%c),x===y?(o=this._repeat,time=_):((o=~~(x/c))&&o===x/c&&(time=_,o--),time>_&&(time=_)),(h=this._yoyo&&1&o)&&(m=this._yEase,time=_-time),l=Kt(this._tTime,c),time===v&&!n&&this._initted)return this;o!==l&&(f&&this._yEase&&He(f,h),!this.vars.repeatRefresh||h||this._lock||(this._lock=n=1,this.render(jt(c*o),!0).invalidate()._lock=0))}if(!this._initted){if(ie(this,t<0?t:time,n,e))return this._tTime=0,this;if(_!==this._dur)return this.render(t,e,n)}for(this._tTime=x,this._time=time,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=d=(m||this._ease)(time/_),this._from&&(this.ratio=d=1-d),time&&!v&&!e&&Se(this,"onStart"),r=this._pt;r;)r.r(d,r.d),r=r._next;f&&f.render(t<0?t:!time&&h?-1e-8:f._dur*d,e,n)||this._startAt&&(this._zTime=t),this._onUpdate&&!e&&(t<0&&this._startAt&&this._startAt.render(t,!0,n),Se(this,"onUpdate")),this._repeat&&o!==l&&this.vars.onRepeat&&!e&&this.parent&&Se(this,"onRepeat"),x!==this._tDur&&x||this._tTime!==x||(t<0&&this._startAt&&!this._onUpdate&&this._startAt.render(t,!0,!0),(t||!_)&&(x===this._tDur&&this._ts>0||!x&&this._ts<0)&&$t(this,1),e||t<0&&!v||!x&&!v||(Se(this,x===y?"onComplete":"onReverseComplete",!0),this._prom&&!(x<y&&this.timeScale()>0)&&this._prom()))}}else!function(t,e,n,r){var o,c,l=t.ratio,h=e<0||!e&&l&&!t._start&&t._zTime>1e-8&&!t._dp._lock||(t._ts<0||t._dp._ts<0)&&"isFromStart"!==t.data&&"isStart"!==t.data?0:1,d=t._rDelay,f=0;if(d&&t._repeat&&(f=le(0,t._tDur,e),Kt(f,d)!==(c=Kt(t._tTime,d))&&(l=1-h,t.vars.repeatRefresh&&t._initted&&t.invalidate())),h!==l||r||1e-8===t._zTime||!e&&t._zTime){if(!t._initted&&ie(t,e,r,n))return;for(c=t._zTime,t._zTime=e||(n?1e-8:0),n||(n=e&&!c),t.ratio=h,t._from&&(h=1-h),t._time=0,t._tTime=f,n||Se(t,"onStart"),o=t._pt;o;)o.r(h,o.d),o=o._next;t._startAt&&e<0&&t._startAt.render(e,!0,!0),t._onUpdate&&!n&&Se(t,"onUpdate"),f&&t._repeat&&!n&&t.parent&&Se(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===h&&(h&&$t(t,1),n||(Se(t,h?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)}(this,t,e,n);return this},n.targets=function(){return this._targets},n.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._act=this._lazy=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),t.prototype.invalidate.call(this)},n.kill=function(t,e){if(void 0===e&&(e="all"),!(t||e&&"all"!==e)&&(this._lazy=0,this.parent))return Te(this);if(this.timeline){var n=this.timeline.totalDuration();return this.timeline.killTweensOf(t,e,Je&&!0!==Je.vars.overwrite)._first||Te(this),this.parent&&n!==this.timeline.totalDuration()&&oe(this,this._dur*this.timeline._tDur/n,0,1),this}var r,o,c,l,p,h,i,d=this._targets,f=t?me(t):d,m=this._ptLookup,v=this._pt;if((!e||"all"===e)&&function(t,e){for(var i=t.length,n=i===e.length;n&&i--&&t[i]===e[i];);return i<0}(d,f))return"all"===e&&(this._pt=0),Te(this);for(r=this._op=this._op||[],"all"!==e&&(Y(e)&&(p={},Pt(e,(function(t){return p[t]=1})),e=p),e=function(t,e){var n,p,i,r,o=t[0]?At(t[0]).harness:0,c=o&&o.aliases;if(!c)return e;for(p in n=zt({},e),c)if(p in n)for(i=(r=c[p].split(",")).length;i--;)n[r[i]]=n[p];return n}(d,e)),i=d.length;i--;)if(~f.indexOf(d[i]))for(p in o=m[i],"all"===e?(r[i]=e,l=o,c={}):(c=r[i]=r[i]||{},l=e),l)(h=o&&o[p])&&("kill"in h.d&&!0!==h.d.kill(p)||qt(this,h,"_pt"),delete o[p]),"all"!==c&&(c[p]=1);return this._initted&&!this._pt&&v&&Te(this),this},e.to=function(t,n){return new e(t,n,arguments[2])},e.from=function(t,n){return new e(t,It(arguments,1))},e.delayedCall=function(t,n,r,o){return new e(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:n,onReverseComplete:n,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:o})},e.fromTo=function(t,n,r){return new e(t,It(arguments,2))},e.set=function(t,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new e(t,n)},e.killTweensOf=function(t,e,n){return l.killTweensOf(t,e,n)},e}(Ye);Ut(sn.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),Pt("staggerTo,staggerFrom,staggerFromTo",(function(t){sn[t]=function(){var e=new Ke,n=pe.call(arguments,0);return n.splice("staggerFromTo"===t?5:4,0,0),e[t].apply(e,n)}}));var un=function(t,e,n){return t[e]=n},cn=function(t,e,n){return t[e](n)},ln=function(t,e,n,data){return t[e](data.fp,n)},hn=function(t,e,n){return t.setAttribute(e,n)},pn=function(t,e){return K(t[e])?cn:Z(t[e])&&t.setAttribute?hn:un},dn=function(t,data){return data.set(data.t,data.p,Math.round(1e4*(data.s+data.c*t))/1e4,data)},fn=function(t,data){return data.set(data.t,data.p,!!(data.s+data.c*t),data)},mn=function(t,data){var e=data._pt,s="";if(!t&&data.b)s=data.b;else if(1===t&&data.e)s=data.e;else{for(;e;)s=e.p+(e.m?e.m(e.s+e.c*t):Math.round(1e4*(e.s+e.c*t))/1e4)+s,e=e._next;s+=data.c}data.set(data.t,data.p,s,data)},vn=function(t,data){for(var e=data._pt;e;)e.r(t,e.d),e=e._next},gn=function(t,e,n,r){for(var o,c=this._pt;c;)o=c._next,c.p===r&&c.modifier(t,e,n),c=o},yn=function(t){for(var e,n,r=this._pt;r;)n=r._next,r.p===t&&!r.op||r.op===t?qt(this,r,"_pt"):r.dep||(e=1),r=n;return!e},_n=function(t,e,n,data){data.mSet(t,e,data.m.call(data.tween,n,data.mt),data)},bn=function(t){for(var e,n,r,o,c=t._pt;c;){for(e=c._next,n=r;n&&n.pr>c.pr;)n=n._next;(c._prev=n?n._prev:o)?c._prev._next=c:r=c,(c._next=n)?n._prev=c:o=c,c=e}t._pt=r},xn=function(){function t(t,e,n,r,o,c,data,l,h){this.t=e,this.s=r,this.c=o,this.p=n,this.r=c||dn,this.d=data||this,this.set=l||un,this.pr=h||0,this._next=t,t&&(t._prev=this)}return t.prototype.modifier=function(t,e,n){this.mSet=this.mSet||this.set,this.set=_n,this.m=t,this.mt=n,this.tween=e},t}();Pt(Ot+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(t){return xt[t]=1})),ft.TweenMax=ft.TweenLite=sn,ft.TimelineLite=ft.TimelineMax=Ke,l=new Ke({sortChildren:!1,defaults:V,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),U.stringFilter=Ie;var wn={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.forEach((function(t){return De(t)}))},timeline:function(t){return new Ke(t)},getTweensOf:function(t,e){return l.getTweensOf(t,e)},getProperty:function(t,e,n,r){Y(t)&&(t=me(t)[0]);var o=At(t||{}).get,c=n?Bt:Ft;return"native"===n&&(n=""),t?e?c((Mt[e]&&Mt[e].get||o)(t,e,n,r)):function(e,n,r){return c((Mt[e]&&Mt[e].get||o)(t,e,n,r))}:t},quickSetter:function(t,e,n){if((t=me(t)).length>1){var r=t.map((function(t){return Sn.quickSetter(t,e,n)})),o=r.length;return function(t){for(var i=o;i--;)r[i](t)}}t=t[0]||{};var c=Mt[e],l=At(t),p=l.harness&&(l.harness.aliases||{})[e]||e,h=c?function(e){var p=new c;y._pt=0,p.init(t,n?e+n:e,y,0,[t]),p.render(1,p),y._pt&&vn(1,y)}:l.set(t,p);return c?h:function(e){return h(t,p,n?e+n:e,l,1)}},isTweening:function(t){return l.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=Ge(t.ease,V.ease)),Ht(V,t||{})},config:function(t){return Ht(U,t||{})},registerEffect:function(t){var e=t.name,n=t.effect,r=t.plugins,o=t.defaults,c=t.extendTimeline;(r||"").split(",").forEach((function(t){return t&&!Mt[t]&&!ft[t]&&yt(e+" effect requires "+t+" plugin.")})),St[e]=function(t,e,r){return n(me(t),Ut(e||{},o),r)},c&&(Ke.prototype[e]=function(t,n,r){return this.add(St[e](t,tt(n)?n:(r=n)&&{},this),r)})},registerEase:function(t,e){Fe[t]=Ge(e)},parseEase:function(t,e){return arguments.length?Ge(t,e):Fe},getById:function(t){return l.getById(t)},exportRoot:function(t,e){void 0===t&&(t={});var n,r,o=new Ke(t);for(o.smoothChildTiming=et(t.smoothChildTiming),l.remove(o),o._dp=0,o._time=o._tTime=l._time,n=l._first;n;)r=n._next,!e&&!n._dur&&n instanceof sn&&n.vars.onComplete===n._targets[0]||ne(o,n,n._start-n._delay),n=r;return ne(l,o,0),o},utils:{wrap:function t(e,n,r){var o=n-e;return at(e)?xe(e,t(0,e.length),n):ce(r,(function(t){return(o+(t-e)%o)%o+e}))},wrapYoyo:function t(e,n,r){var o=n-e,c=2*o;return at(e)?xe(e,t(0,e.length-1),n):ce(r,(function(t){return e+((t=(c+(t-e)%c)%c||0)>o?c-t:t)}))},distribute:ge,random:be,snap:_e,normalize:function(t,e,n){return Ee(t,e,0,1,n)},getUnit:he,clamp:function(t,e,n){return ce(n,(function(n){return le(t,e,n)}))},splitColor:Ae,toArray:me,mapRange:Ee,pipe:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return e.reduce((function(t,e){return e(t)}),t)}},unitize:function(t,e){return function(n){return t(parseFloat(n))+(e||he(n))}},interpolate:function t(e,n,progress,r){var o=isNaN(e+n)?0:function(p){return(1-p)*e+p*n};if(!o){var p,i,c,l,h,d=Y(e),f={};if(!0===progress&&(r=1)&&(progress=null),d)e={p:e},n={p:n};else if(at(e)&&!at(n)){for(c=[],l=e.length,h=l-2,i=1;i<l;i++)c.push(t(e[i-1],e[i]));l--,o=function(p){p*=l;var i=Math.min(h,~~p);return c[i](p-i)},progress=n}else r||(e=zt(at(e)?[]:{},e));if(!c){for(p in n)tn.call(f,e,p,"get",n[p]);o=function(p){return vn(p,f)||(d?e.p:e)}}}return ce(progress,o)},shuffle:ve},install:vt,effects:St,ticker:Re,updateRoot:Ke.updateRoot,plugins:Mt,globalTimeline:l,core:{PropTween:xn,globals:_t,Tween:sn,Timeline:Ke,Animation:Ye,getCache:At,_removeLinkedListItem:qt}};Pt("to,from,fromTo,delayedCall,set,killTweensOf",(function(t){return wn[t]=sn[t]})),Re.add(Ke.updateRoot),y=wn.to({},{duration:0});var En=function(t,e){for(var n=t._pt;n&&n.p!==e&&n.op!==e&&n.fp!==e;)n=n._next;return n},Mn=function(t,e){return{name:t,rawVars:1,init:function(t,n,r){r._onInit=function(t){var r,p;if(Y(n)&&(r={},Pt(n,(function(t){return r[t]=1})),n=r),e){for(p in r={},n)r[p]=e(n[p]);n=r}!function(t,e){var p,i,n,r=t._targets;for(p in e)for(i=r.length;i--;)(n=t._ptLookup[i][p])&&(n=n.d)&&(n._pt&&(n=En(n,p)),n&&n.modifier&&n.modifier(e[p],t,r[i],p))}(t,n)}}}},Sn=wn.registerPlugin({name:"attr",init:function(t,e,n,r,o){var p,c;for(p in e)(c=this.add(t,"setAttribute",(t.getAttribute(p)||0)+"",e[p],r,o,0,0,p))&&(c.op=p),this._props.push(p)}},{name:"endArray",init:function(t,e){for(var i=e.length;i--;)this.add(t,i,t[i]||0,e[i])}},Mn("roundProps",ye),Mn("modifiers"),Mn("snap",_e))||wn;sn.version=Ke.version=Sn.version="3.5.1",m=1,nt()&&Ne();Fe.Power0,Fe.Power1,Fe.Power2,Fe.Power3,Fe.Power4,Fe.Linear,Fe.Quad,Fe.Cubic,Fe.Quart,Fe.Quint,Fe.Strong,Fe.Elastic,Fe.Back,Fe.SteppedEase,Fe.Bounce,Fe.Sine,Fe.Expo,Fe.Circ;var Tn,Dn,On,Cn,An,kn,Pn,jn,Ln={},In=180/Math.PI,Rn=Math.PI/180,Nn=Math.atan2,Fn=/([A-Z])/g,Bn=/(?:left|right|width|margin|padding|x)/i,Un=/[\s,\(]\S/,Vn={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},zn=function(t,data){return data.set(data.t,data.p,Math.round(1e4*(data.s+data.c*t))/1e4+data.u,data)},Hn=function(t,data){return data.set(data.t,data.p,1===t?data.e:Math.round(1e4*(data.s+data.c*t))/1e4+data.u,data)},Gn=function(t,data){return data.set(data.t,data.p,t?Math.round(1e4*(data.s+data.c*t))/1e4+data.u:data.b,data)},Wn=function(t,data){var e=data.s+data.c*t;data.set(data.t,data.p,~~(e+(e<0?-.5:.5))+data.u,data)},qn=function(t,data){return data.set(data.t,data.p,t?data.e:data.b,data)},$n=function(t,data){return data.set(data.t,data.p,1!==t?data.b:data.e,data)},Qn=function(t,e,n){return t.style[e]=n},Xn=function(t,e,n){return t.style.setProperty(e,n)},Yn=function(t,e,n){return t._gsap[e]=n},Kn=function(t,e,n){return t._gsap.scaleX=t._gsap.scaleY=n},Jn=function(t,e,n,data,r){var o=t._gsap;o.scaleX=o.scaleY=n,o.renderTransform(r,o)},Zn=function(t,e,n,data,r){var o=t._gsap;o[e]=n,o.renderTransform(r,o)},er="transform",nr=er+"Origin",rr=function(t,e){var n=Dn.createElementNS?Dn.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):Dn.createElement(t);return n.style?n:Dn.createElement(t)},ir=function t(e,n,r){var o=getComputedStyle(e);return o[n]||o.getPropertyValue(n.replace(Fn,"-$1").toLowerCase())||o.getPropertyValue(n)||!r&&t(e,ar(n)||n,1)||""},or="O,Moz,ms,Ms,Webkit".split(","),ar=function(t,element,e){var s=(element||An).style,i=5;if(t in s&&!e)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);i--&&!(or[i]+t in s););return i<0?null:(3===i?"ms":i>=0?or[i]:"")+t},sr=function(){"undefined"!=typeof window&&window.document&&(Tn=window,Dn=Tn.document,On=Dn.documentElement,An=rr("div")||{style:{}},kn=rr("div"),er=ar(er),nr=er+"Origin",An.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",jn=!!ar("perspective"),Cn=1)},ur=function t(e){var n,svg=rr("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,o=this.nextSibling,c=this.style.cssText;if(On.appendChild(svg),svg.appendChild(this),this.style.display="block",e)try{n=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch(t){}else this._gsapBBox&&(n=this._gsapBBox());return r&&(o?r.insertBefore(this,o):r.appendChild(this)),On.removeChild(svg),this.style.cssText=c,n},cr=function(t,e){for(var i=e.length;i--;)if(t.hasAttribute(e[i]))return t.getAttribute(e[i])},lr=function(t){var e;try{e=t.getBBox()}catch(n){e=ur.call(t,!0)}return e&&(e.width||e.height)||t.getBBox===ur||(e=ur.call(t,!0)),!e||e.width||e.x||e.y?e:{x:+cr(t,["x","cx","x1"])||0,y:+cr(t,["y","cy","y1"])||0,width:0,height:0}},pr=function(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!lr(t))},dr=function(t,e){if(e){var style=t.style;e in Ln&&e!==nr&&(e=er),style.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),style.removeProperty(e.replace(Fn,"-$1").toLowerCase())):style.removeAttribute(e)}},fr=function(t,e,n,r,o,c){var l=new xn(t._pt,e,n,0,1,c?$n:qn);return t._pt=l,l.b=r,l.e=o,t._props.push(n),l},mr={deg:1,rad:1,turn:1},vr=function t(e,n,r,o){var c,l,h,d,f=parseFloat(r)||0,m=(r+"").trim().substr((f+"").length)||"px",style=An.style,v=Bn.test(n),y="svg"===e.tagName.toLowerCase(),_=(y?"client":"offset")+(v?"Width":"Height"),x="px"===o,w="%"===o;return o===m||!f||mr[o]||mr[m]?f:("px"!==m&&!x&&(f=t(e,n,r,"px")),d=e.getCTM&&pr(e),w&&(Ln[n]||~n.indexOf("adius"))?jt(f/(d?e.getBBox()[v?"width":"height"]:e[_])*100):(style[v?"width":"height"]=100+(x?m:o),l=~n.indexOf("adius")||"em"===o&&e.appendChild&&!y?e:e.parentNode,d&&(l=(e.ownerSVGElement||{}).parentNode),l&&l!==Dn&&l.appendChild||(l=Dn.body),(h=l._gsap)&&w&&h.width&&v&&h.time===Re.time?jt(f/h.width*100):((w||"%"===m)&&(style.position=ir(e,"position")),l===e&&(style.position="static"),l.appendChild(An),c=An[_],l.removeChild(An),style.position="absolute",v&&w&&((h=At(l)).time=Re.time,h.width=l[_]),jt(x?c*f/100:c&&f?100/c*f:0))))},gr=function(t,e,n,r){var o;return Cn||sr(),e in Vn&&"transform"!==e&&~(e=Vn[e]).indexOf(",")&&(e=e.split(",")[0]),Ln[e]&&"transform"!==e?(o=Cr(t,r),o="transformOrigin"!==e?o[e]:Ar(ir(t,nr))+" "+o.zOrigin+"px"):(!(o=t.style[e])||"auto"===o||r||~(o+"").indexOf("calc("))&&(o=wr[e]&&wr[e](t,e,n)||ir(t,e)||kt(t,e)||("opacity"===e?1:0)),n&&!~(o+"").indexOf(" ")?vr(t,e,o,n)+n:o},yr=function(t,e,n,r){if(!n||"none"===n){var p=ar(e,t,1),s=p&&ir(t,p,1);s&&s!==n?(e=p,n=s):"borderColor"===e&&(n=ir(t,"borderTopColor"))}var a,o,c,l,h,d,f,m,v,y,_,x,w=new xn(this._pt,t.style,e,0,1,mn),E=0,M=0;if(w.b=n,w.e=r,n+="","auto"===(r+="")&&(t.style[e]=r,r=ir(t,e)||r,t.style[e]=n),Ie(a=[n,r]),r=a[1],c=(n=a[0]).match(ct)||[],(r.match(ct)||[]).length){for(;o=ct.exec(r);)f=o[0],v=r.substring(E,o.index),h?h=(h+1)%5:"rgba("!==v.substr(-5)&&"hsla("!==v.substr(-5)||(h=1),f!==(d=c[M++]||"")&&(l=parseFloat(d)||0,_=d.substr((l+"").length),(x="="===f.charAt(1)?+(f.charAt(0)+"1"):0)&&(f=f.substr(2)),m=parseFloat(f),y=f.substr((m+"").length),E=ct.lastIndex-y.length,y||(y=y||U.units[e]||_,E===r.length&&(r+=y,w.e+=y)),_!==y&&(l=vr(t,e,d,y)||0),w._pt={_next:w._pt,p:v||1===M?v:",",s:l,c:x?x*m:m-l,m:h&&h<4?Math.round:0});w.c=E<r.length?r.substring(E,r.length):""}else w.r="display"===e&&"none"===r?$n:qn;return ht.test(r)&&(w.e=0),this._pt=w,w},_r={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},xr=function(t,data){if(data.tween&&data.tween._time===data.tween._dur){var e,n,i,r=data.t,style=r.style,o=data.u,c=r._gsap;if("all"===o||!0===o)style.cssText="",n=1;else for(i=(o=o.split(",")).length;--i>-1;)e=o[i],Ln[e]&&(n=1,e="transformOrigin"===e?nr:er),dr(r,e);n&&(dr(r,er),c&&(c.svg&&r.removeAttribute("transform"),Cr(r,1),c.uncache=1))}},wr={clearProps:function(t,e,n,r,o){if("isFromStart"!==o.data){var c=t._pt=new xn(t._pt,e,n,0,0,xr);return c.u=r,c.pr=-10,c.tween=o,t._props.push(n),1}}},Er=[1,0,0,1,0,0],Mr={},Sr=function(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t},Tr=function(t){var e=ir(t,er);return Sr(e)?Er:e.substr(7).match(ut).map(jt)},Dr=function(t,e){var n,r,o,c,l=t._gsap||At(t),style=t.style,h=Tr(t);return l.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(h=[(o=t.transform.baseVal.consolidate().matrix).a,o.b,o.c,o.d,o.e,o.f]).join(",")?Er:h:(h!==Er||t.offsetParent||t===On||l.svg||(o=style.display,style.display="block",(n=t.parentNode)&&t.offsetParent||(c=1,r=t.nextSibling,On.appendChild(t)),h=Tr(t),o?style.display=o:dr(t,"display"),c&&(r?n.insertBefore(t,r):n?n.appendChild(t):On.removeChild(t))),e&&h.length>6?[h[0],h[1],h[4],h[5],h[12],h[13]]:h)},Or=function(t,e,n,r,o,c){var l,h,d,f=t._gsap,m=o||Dr(t,!0),v=f.xOrigin||0,y=f.yOrigin||0,_=f.xOffset||0,x=f.yOffset||0,a=m[0],b=m[1],w=m[2],E=m[3],M=m[4],S=m[5],T=e.split(" "),D=parseFloat(T[0])||0,O=parseFloat(T[1])||0;n?m!==Er&&(h=a*E-b*w)&&(d=D*(-b/h)+O*(a/h)-(a*S-b*M)/h,D=D*(E/h)+O*(-w/h)+(w*S-E*M)/h,O=d):(D=(l=lr(t)).x+(~T[0].indexOf("%")?D/100*l.width:D),O=l.y+(~(T[1]||T[0]).indexOf("%")?O/100*l.height:O)),r||!1!==r&&f.smooth?(M=D-v,S=O-y,f.xOffset=_+(M*a+S*w)-M,f.yOffset=x+(M*b+S*E)-S):f.xOffset=f.yOffset=0,f.xOrigin=D,f.yOrigin=O,f.smooth=!!r,f.origin=e,f.originIsAbsolute=!!n,t.style[nr]="0px 0px",c&&(fr(c,f,"xOrigin",v,D),fr(c,f,"yOrigin",y,O),fr(c,f,"xOffset",_,f.xOffset),fr(c,f,"yOffset",x,f.yOffset)),t.setAttribute("data-svg-origin",D+" "+O)},Cr=function(t,e){var n=t._gsap||new Xe(t);if("x"in n&&!e&&!n.uncache)return n;var r,o,c,l,h,d,f,m,v,y,_,x,w,E,M,S,T,a,b,D,O,C,A,k,P,j,L,I,R,N,F,B,style=t.style,V=n.scaleX<0,z=ir(t,nr)||"0";return r=o=c=d=f=m=v=y=_=0,l=h=1,n.svg=!(!t.getCTM||!pr(t)),E=Dr(t,n.svg),n.svg&&(k=!n.uncache&&t.getAttribute("data-svg-origin"),Or(t,k||z,!!k||n.originIsAbsolute,!1!==n.smooth,E)),x=n.xOrigin||0,w=n.yOrigin||0,E!==Er&&(a=E[0],b=E[1],D=E[2],O=E[3],r=C=E[4],o=A=E[5],6===E.length?(l=Math.sqrt(a*a+b*b),h=Math.sqrt(O*O+D*D),d=a||b?Nn(b,a)*In:0,(v=D||O?Nn(D,O)*In+d:0)&&(h*=Math.cos(v*Rn)),n.svg&&(r-=x-(x*a+w*D),o-=w-(x*b+w*O))):(B=E[6],N=E[7],L=E[8],I=E[9],R=E[10],F=E[11],r=E[12],o=E[13],c=E[14],f=(M=Nn(B,R))*In,M&&(k=C*(S=Math.cos(-M))+L*(T=Math.sin(-M)),P=A*S+I*T,j=B*S+R*T,L=C*-T+L*S,I=A*-T+I*S,R=B*-T+R*S,F=N*-T+F*S,C=k,A=P,B=j),m=(M=Nn(-D,R))*In,M&&(S=Math.cos(-M),F=O*(T=Math.sin(-M))+F*S,a=k=a*S-L*T,b=P=b*S-I*T,D=j=D*S-R*T),d=(M=Nn(b,a))*In,M&&(k=a*(S=Math.cos(M))+b*(T=Math.sin(M)),P=C*S+A*T,b=b*S-a*T,A=A*S-C*T,a=k,C=P),f&&Math.abs(f)+Math.abs(d)>359.9&&(f=d=0,m=180-m),l=jt(Math.sqrt(a*a+b*b+D*D)),h=jt(Math.sqrt(A*A+B*B)),M=Nn(C,A),v=Math.abs(M)>2e-4?M*In:0,_=F?1/(F<0?-F:F):0),n.svg&&(k=t.getAttribute("transform"),n.forceCSS=t.setAttribute("transform","")||!Sr(ir(t,er)),k&&t.setAttribute("transform",k))),Math.abs(v)>90&&Math.abs(v)<270&&(V?(l*=-1,v+=d<=0?180:-180,d+=d<=0?180:-180):(h*=-1,v+=v<=0?180:-180)),n.x=((n.xPercent=r&&Math.round(t.offsetWidth/2)===Math.round(-r)?-50:0)?0:r)+"px",n.y=((n.yPercent=o&&Math.round(t.offsetHeight/2)===Math.round(-o)?-50:0)?0:o)+"px",n.z=c+"px",n.scaleX=jt(l),n.scaleY=jt(h),n.rotation=jt(d)+"deg",n.rotationX=jt(f)+"deg",n.rotationY=jt(m)+"deg",n.skewX=v+"deg",n.skewY=y+"deg",n.transformPerspective=_+"px",(n.zOrigin=parseFloat(z.split(" ")[2])||0)&&(style[nr]=Ar(z)),n.xOffset=n.yOffset=0,n.force3D=U.force3D,n.renderTransform=n.svg?Lr:jn?jr:Pr,n.uncache=0,n},Ar=function(t){return(t=t.split(" "))[0]+" "+t[1]},kr=function(t,e,n){var r=he(e);return jt(parseFloat(e)+parseFloat(vr(t,"x",n+"px",r)))+r},Pr=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,jr(t,e)},jr=function(t,e){var n=e||this,r=n.xPercent,o=n.yPercent,c=n.x,l=n.y,h=n.z,d=n.rotation,f=n.rotationY,m=n.rotationX,v=n.skewX,y=n.skewY,_=n.scaleX,x=n.scaleY,w=n.transformPerspective,E=n.force3D,M=n.target,S=n.zOrigin,T="",D="auto"===E&&t&&1!==t||!0===E;if(S&&("0deg"!==m||"0deg"!==f)){var O,C=parseFloat(f)*Rn,A=Math.sin(C),k=Math.cos(C);C=parseFloat(m)*Rn,O=Math.cos(C),c=kr(M,c,A*O*-S),l=kr(M,l,-Math.sin(C)*-S),h=kr(M,h,k*O*-S+S)}"0px"!==w&&(T+="perspective("+w+") "),(r||o)&&(T+="translate("+r+"%, "+o+"%) "),(D||"0px"!==c||"0px"!==l||"0px"!==h)&&(T+="0px"!==h||D?"translate3d("+c+", "+l+", "+h+") ":"translate("+c+", "+l+") "),"0deg"!==d&&(T+="rotate("+d+") "),"0deg"!==f&&(T+="rotateY("+f+") "),"0deg"!==m&&(T+="rotateX("+m+") "),"0deg"===v&&"0deg"===y||(T+="skew("+v+", "+y+") "),1===_&&1===x||(T+="scale("+_+", "+x+") "),M.style[er]=T||"translate(0, 0)"},Lr=function(t,e){var n,r,o,c,l,h=e||this,d=h.xPercent,f=h.yPercent,m=h.x,v=h.y,y=h.rotation,_=h.skewX,x=h.skewY,w=h.scaleX,E=h.scaleY,M=h.target,S=h.xOrigin,T=h.yOrigin,D=h.xOffset,O=h.yOffset,C=h.forceCSS,A=parseFloat(m),k=parseFloat(v);y=parseFloat(y),_=parseFloat(_),(x=parseFloat(x))&&(_+=x=parseFloat(x),y+=x),y||_?(y*=Rn,_*=Rn,n=Math.cos(y)*w,r=Math.sin(y)*w,o=Math.sin(y-_)*-E,c=Math.cos(y-_)*E,_&&(x*=Rn,l=Math.tan(_-x),o*=l=Math.sqrt(1+l*l),c*=l,x&&(l=Math.tan(x),n*=l=Math.sqrt(1+l*l),r*=l)),n=jt(n),r=jt(r),o=jt(o),c=jt(c)):(n=w,c=E,r=o=0),(A&&!~(m+"").indexOf("px")||k&&!~(v+"").indexOf("px"))&&(A=vr(M,"x",m,"px"),k=vr(M,"y",v,"px")),(S||T||D||O)&&(A=jt(A+S-(S*n+T*o)+D),k=jt(k+T-(S*r+T*c)+O)),(d||f)&&(l=M.getBBox(),A=jt(A+d/100*l.width),k=jt(k+f/100*l.height)),l="matrix("+n+","+r+","+o+","+c+","+A+","+k+")",M.setAttribute("transform",l),C&&(M.style[er]=l)},Ir=function(t,e,n,r,o,c){var l,h,d=Y(o),f=parseFloat(o)*(d&&~o.indexOf("rad")?In:1),m=c?f*c:f-r,v=r+m+"deg";return d&&("short"===(l=o.split("_")[1])&&(m%=360)!==m%180&&(m+=m<0?360:-360),"cw"===l&&m<0?m=(m+36e9)%360-360*~~(m/360):"ccw"===l&&m>0&&(m=(m-36e9)%360-360*~~(m/360))),t._pt=h=new xn(t._pt,e,n,r,m,Hn),h.e=v,h.u="deg",t._props.push(n),h},Rr=function(t,e,n){var r,p,o,c,l,h,d,style=kn.style,f=n._gsap;for(p in style.cssText=getComputedStyle(n).cssText+";position:absolute;display:block;",style[er]=e,Dn.body.appendChild(kn),r=Cr(kn,1),Ln)(o=f[p])!==(c=r[p])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(p)<0&&(l=he(o)!==(d=he(c))?vr(n,p,o,d):parseFloat(o),h=parseFloat(c),t._pt=new xn(t._pt,f,p,l,h-l,zn),t._pt.u=d||0,t._props.push(p));Dn.body.removeChild(kn)};Pt("padding,margin,Width,Radius",(function(t,e){var n="Top",r="Right",b="Bottom",o="Left",c=(e<3?[n,r,b,o]:[n+o,n+r,b+r,b+o]).map((function(n){return e<2?t+n:"border"+n+t}));wr[e>1?"border"+t:t]=function(t,e,n,r,o){var a,l;if(arguments.length<4)return a=c.map((function(e){return gr(t,e,n)})),5===(l=a.join(" ")).split(a[0]).length?a[0]:l;a=(r+"").split(" "),l={},c.forEach((function(t,i){return l[t]=a[i]=a[i]||a[(i-1)/2|0]})),t.init(e,l,o)}}));var Nr,Fr,Br={name:"css",register:sr,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,n,o,c){var l,h,d,f,m,v,p,y,_,x,w,E,M,S,T,D,O,C,A,k=this._props,style=t.style;for(p in Cn||sr(),e)if("autoRound"!==p&&(h=e[p],!Mt[p]||!en(p,e,n,o,t,c)))if(m=Object(r.a)(h),v=wr[p],"function"===m&&(h=h.call(n,o,t,c),m=Object(r.a)(h)),"string"===m&&~h.indexOf("random(")&&(h=we(h)),v)v(this,t,p,h,n)&&(T=1);else if("--"===p.substr(0,2))this.add(style,"setProperty",getComputedStyle(t).getPropertyValue(p)+"",h+"",o,c,0,0,p);else if("undefined"!==m){if(l=gr(t,p),f=parseFloat(l),(x="string"===m&&"="===h.charAt(1)?+(h.charAt(0)+"1"):0)&&(h=h.substr(2)),d=parseFloat(h),p in Vn&&("autoAlpha"===p&&(1===f&&"hidden"===gr(t,"visibility")&&d&&(f=0),fr(this,style,"visibility",f?"inherit":"hidden",d?"inherit":"hidden",!d)),"scale"!==p&&"transform"!==p&&~(p=Vn[p]).indexOf(",")&&(p=p.split(",")[0])),w=p in Ln)if(E||((M=t._gsap).renderTransform||Cr(t),S=!1!==e.smoothOrigin&&M.smooth,(E=this._pt=new xn(this._pt,style,er,0,1,M.renderTransform,M,0,-1)).dep=1),"scale"===p)this._pt=new xn(this._pt,M,"scaleY",M.scaleY,x?x*d:d-M.scaleY),k.push("scaleY",p),p+="X";else{if("transformOrigin"===p){O=void 0,C=void 0,A=void 0,O=(D=h).split(" "),C=O[0],A=O[1]||"50%","top"!==C&&"bottom"!==C&&"left"!==A&&"right"!==A||(D=C,C=A,A=D),O[0]=_r[C]||C,O[1]=_r[A]||A,h=O.join(" "),M.svg?Or(t,h,0,S,0,this):((_=parseFloat(h.split(" ")[2])||0)!==M.zOrigin&&fr(this,M,"zOrigin",M.zOrigin,_),fr(this,style,p,Ar(l),Ar(h)));continue}if("svgOrigin"===p){Or(t,h,1,S,0,this);continue}if(p in Mr){Ir(this,M,p,f,h,x);continue}if("smoothOrigin"===p){fr(this,M,"smooth",M.smooth,h);continue}if("force3D"===p){M[p]=h;continue}if("transform"===p){Rr(this,h,t);continue}}else p in style||(p=ar(p)||p);if(w||(d||0===d)&&(f||0===f)&&!Un.test(h)&&p in style)d||(d=0),(y=(l+"").substr((f+"").length))!==(_=he(h)||(p in U.units?U.units[p]:y))&&(f=vr(t,p,l,_)),this._pt=new xn(this._pt,w?M:style,p,f,x?x*d:d-f,"px"!==_||!1===e.autoRound||w?zn:Wn),this._pt.u=_||0,y!==_&&(this._pt.b=l,this._pt.r=Gn);else if(p in style)yr.call(this,t,p,l,h);else{if(!(p in t)){gt(p,h);continue}this.add(t,p,t[p],h,o,c)}k.push(p)}T&&bn(this)},get:gr,aliases:Vn,getSetter:function(t,e,n){var p=Vn[e];return p&&p.indexOf(",")<0&&(e=p),e in Ln&&e!==nr&&(t._gsap.x||gr(t,"x"))?n&&Pn===n?"scale"===e?Kn:Yn:(Pn=n||{})&&("scale"===e?Jn:Zn):t.style&&!Z(t.style[e])?Qn:~e.indexOf("-")?Xn:pn(t,e)},core:{_removeProperty:dr,_getMatrix:Dr}};Sn.utils.checkPrefix=ar,Fr=Pt("x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+(Nr="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(t){Ln[t]=1})),Pt(Nr,(function(t){U.units[t]="deg",Mr[t]=1})),Vn[Fr[13]]="x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+Nr,Pt("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(t){var e=t.split(":");Vn[e[1]]=Fr[e[0]]})),Pt("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(t){U.units[t]="px"})),Sn.registerPlugin(Br);var Ur=Sn.registerPlugin(Br)||Sn;Ur.core.Tween},107:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n(80);var r={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","\tvec4 texel = texture2D( tDiffuse, vUv );","\tgl_FragColor = opacity * texel;","}"].join("\n")}},108:function(t,e,n){"use strict";var r={name:"NoSsr",functional:!0,props:{placeholder:String,placeholderTag:{type:String,default:"div"}},render:function(t,e){var n=e.parent,r=e.slots,o=e.props,c=r(),l=c.default;void 0===l&&(l=[]);var h=c.placeholder;return n._isMounted?l:(n.$once("hook:mounted",(function(){n.$forceUpdate()})),o.placeholderTag&&(o.placeholder||h)?t(o.placeholderTag,{class:["no-ssr-placeholder"]},o.placeholder||h):l.length>0?l.map((function(){return t(!1)})):t(!1))}};t.exports=r},12:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"})},125:function(t,e,n){"use strict";n.r(e),n.d(e,"print",(function(){return c}));var r=n(55),o=n(158);function c(t){return Object(r.b)(t,{leave:l})}var l={Name:function(t){return t.value},Variable:function(t){return"$"+t.name},Document:function(t){return d(t.definitions,"\n\n")+"\n"},OperationDefinition:function(t){var e=t.operation,n=t.name,r=m("(",d(t.variableDefinitions,", "),")"),o=d(t.directives," "),c=t.selectionSet;return n||o||r||"query"!==e?d([e,d([n,r]),o,c]," "):c},VariableDefinition:function(t){var e=t.variable,n=t.type,r=t.defaultValue,o=t.directives;return e+": "+n+m(" = ",r)+m(" ",d(o," "))},SelectionSet:function(t){return f(t.selections)},Field:function(t){var e=t.alias,n=t.name,r=t.arguments,o=t.directives,c=t.selectionSet,l=m("",e,": ")+n,h=l+m("(",d(r,", "),")");return h.length>80&&(h=l+m("(\n",v(d(r,"\n")),"\n)")),d([h,d(o," "),c]," ")},Argument:function(t){return t.name+": "+t.value},FragmentSpread:function(t){return"..."+t.name+m(" ",d(t.directives," "))},InlineFragment:function(t){var e=t.typeCondition,n=t.directives,r=t.selectionSet;return d(["...",m("on ",e),d(n," "),r]," ")},FragmentDefinition:function(t){var e=t.name,n=t.typeCondition,r=t.variableDefinitions,o=t.directives,c=t.selectionSet;return"fragment ".concat(e).concat(m("(",d(r,", "),")")," ")+"on ".concat(n," ").concat(m("",d(o," ")," "))+c},IntValue:function(t){return t.value},FloatValue:function(t){return t.value},StringValue:function(t,e){var n=t.value;return t.block?Object(o.b)(n,"description"===e?"":"  "):JSON.stringify(n)},BooleanValue:function(t){return t.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(t){return t.value},ListValue:function(t){return"["+d(t.values,", ")+"]"},ObjectValue:function(t){return"{"+d(t.fields,", ")+"}"},ObjectField:function(t){return t.name+": "+t.value},Directive:function(t){return"@"+t.name+m("(",d(t.arguments,", "),")")},NamedType:function(t){return t.name},ListType:function(t){return"["+t.type+"]"},NonNullType:function(t){return t.type+"!"},SchemaDefinition:h((function(t){var e=t.directives,n=t.operationTypes;return d(["schema",d(e," "),f(n)]," ")})),OperationTypeDefinition:function(t){return t.operation+": "+t.type},ScalarTypeDefinition:h((function(t){return d(["scalar",t.name,d(t.directives," ")]," ")})),ObjectTypeDefinition:h((function(t){var e=t.name,n=t.interfaces,r=t.directives,o=t.fields;return d(["type",e,m("implements ",d(n," & ")),d(r," "),f(o)]," ")})),FieldDefinition:h((function(t){var e=t.name,n=t.arguments,r=t.type,o=t.directives;return e+(_(n)?m("(\n",v(d(n,"\n")),"\n)"):m("(",d(n,", "),")"))+": "+r+m(" ",d(o," "))})),InputValueDefinition:h((function(t){var e=t.name,n=t.type,r=t.defaultValue,o=t.directives;return d([e+": "+n,m("= ",r),d(o," ")]," ")})),InterfaceTypeDefinition:h((function(t){var e=t.name,n=t.interfaces,r=t.directives,o=t.fields;return d(["interface",e,m("implements ",d(n," & ")),d(r," "),f(o)]," ")})),UnionTypeDefinition:h((function(t){var e=t.name,n=t.directives,r=t.types;return d(["union",e,d(n," "),r&&0!==r.length?"= "+d(r," | "):""]," ")})),EnumTypeDefinition:h((function(t){var e=t.name,n=t.directives,r=t.values;return d(["enum",e,d(n," "),f(r)]," ")})),EnumValueDefinition:h((function(t){return d([t.name,d(t.directives," ")]," ")})),InputObjectTypeDefinition:h((function(t){var e=t.name,n=t.directives,r=t.fields;return d(["input",e,d(n," "),f(r)]," ")})),DirectiveDefinition:h((function(t){var e=t.name,n=t.arguments,r=t.repeatable,o=t.locations;return"directive @"+e+(_(n)?m("(\n",v(d(n,"\n")),"\n)"):m("(",d(n,", "),")"))+(r?" repeatable":"")+" on "+d(o," | ")})),SchemaExtension:function(t){var e=t.directives,n=t.operationTypes;return d(["extend schema",d(e," "),f(n)]," ")},ScalarTypeExtension:function(t){return d(["extend scalar",t.name,d(t.directives," ")]," ")},ObjectTypeExtension:function(t){var e=t.name,n=t.interfaces,r=t.directives,o=t.fields;return d(["extend type",e,m("implements ",d(n," & ")),d(r," "),f(o)]," ")},InterfaceTypeExtension:function(t){var e=t.name,n=t.interfaces,r=t.directives,o=t.fields;return d(["extend interface",e,m("implements ",d(n," & ")),d(r," "),f(o)]," ")},UnionTypeExtension:function(t){var e=t.name,n=t.directives,r=t.types;return d(["extend union",e,d(n," "),r&&0!==r.length?"= "+d(r," | "):""]," ")},EnumTypeExtension:function(t){var e=t.name,n=t.directives,r=t.values;return d(["extend enum",e,d(n," "),f(r)]," ")},InputObjectTypeExtension:function(t){var e=t.name,n=t.directives,r=t.fields;return d(["extend input",e,d(n," "),f(r)]," ")}};function h(t){return function(e){return d([e.description,t(e)],"\n")}}function d(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(e=null==t?void 0:t.filter((function(t){return t})).join(n))&&void 0!==e?e:""}function f(t){return m("{\n",v(d(t,"\n")),"\n}")}function m(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return null!=e&&""!==e?t+e+n:""}function v(t){return m("  ",t.replace(/\n/g,"\n  "))}function y(t){return-1!==t.indexOf("\n")}function _(t){return null!=t&&t.some(y)}},126:function(t,e,n){"use strict";e.a={}},129:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(0),o=n(46),c=function(t,e){o.a.call(this),this.textureID=void 0!==e?e:"tDiffuse",t instanceof r.v?(this.uniforms=t.uniforms,this.material=t):t&&(this.uniforms=r.B.clone(t.uniforms),this.material=new r.v({defines:Object.assign({},t.defines),uniforms:this.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader})),this.fsQuad=new o.a.FullScreenQuad(this.material)};c.prototype=Object.assign(Object.create(o.a.prototype),{constructor:c,render:function(t,e,n){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=n.texture),this.fsQuad.material=this.material,this.renderToScreen?(t.setRenderTarget(null),this.fsQuad.render(t)):(t.setRenderTarget(e),this.clear&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),this.fsQuad.render(t))}})},130:function(t,e,n){"use strict";var r="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;e.a=r},131:function(t,e,n){"use strict";(function(t){var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var s,i=1,e=arguments.length;i<e;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,c){function l(t){try{d(r.next(t))}catch(t){c(t)}}function h(t){try{d(r.throw(t))}catch(t){c(t)}}function d(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,h)}d((r=r.apply(t,e||[])).next())}))},c=this&&this.__generator||function(t,body){var e,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(t,o)}catch(t){c=[6,t],n=0}finally{e=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},l=this&&this.__spreadArrays||function(){for(var s=0,i=0,t=arguments.length;i<t;i++)s+=arguments[i].length;var e=Array(s),n=0;for(i=0;i<t;i++)for(var a=arguments[i],r=0,o=a.length;r<o;r++,n++)e[n]=a[r];return e};Object.defineProperty(e,"__esModule",{value:!0}),e.SubscriptionClient=void 0;var h=void 0!==t?t:"undefined"!=typeof window?window:{},d=h.WebSocket||h.MozWebSocket,f=n(517),m=n(518),v=n(519),y=n(520),_=n(125),x=n(521),w=n(215),E=n(523),M=n(524),S=n(216),T=function(){function t(t,e,n,r){var o=e||{},c=o.connectionCallback,l=void 0===c?void 0:c,h=o.connectionParams,v=void 0===h?{}:h,y=o.minTimeout,_=void 0===y?M.MIN_WS_TIMEOUT:y,x=o.timeout,w=void 0===x?M.WS_TIMEOUT:x,S=o.reconnect,T=void 0!==S&&S,D=o.reconnectionAttempts,O=void 0===D?1/0:D,C=o.lazy,A=void 0!==C&&C,k=o.inactivityTimeout,P=void 0===k?0:k,j=o.wsOptionArguments,L=void 0===j?[]:j;if(this.wsImpl=n||d,!this.wsImpl)throw new Error("Unable to find native implementation, or alternative implementation for WebSocket!");this.wsProtocols=r||E.GRAPHQL_WS,this.connectionCallback=l,this.url=t,this.operations={},this.nextOperationId=0,this.minWsTimeout=_,this.wsTimeout=w,this.unsentMessagesQueue=[],this.reconnect=T,this.reconnecting=!1,this.reconnectionAttempts=O,this.lazy=!!A,this.inactivityTimeout=P,this.closedByUser=!1,this.backoff=new f({jitter:.5}),this.eventEmitter=new m.EventEmitter,this.middlewares=[],this.client=null,this.maxConnectTimeGenerator=this.createMaxConnectTimeGenerator(),this.connectionParams=this.getConnectionParams(v),this.wsOptionArguments=L,this.lazy||this.connect()}return Object.defineProperty(t.prototype,"status",{get:function(){return null===this.client?this.wsImpl.CLOSED:this.client.readyState},enumerable:!1,configurable:!0}),t.prototype.close=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=!0),this.clearInactivityTimeout(),null!==this.client&&(this.closedByUser=e,t&&(this.clearCheckConnectionInterval(),this.clearMaxConnectTimeout(),this.clearTryReconnectTimeout(),this.unsubscribeAll(),this.sendMessage(void 0,S.default.GQL_CONNECTION_TERMINATE,null)),this.client.close(),this.client.onopen=null,this.client.onclose=null,this.client.onerror=null,this.client.onmessage=null,this.client=null,this.eventEmitter.emit("disconnected"),t||this.tryReconnect())},t.prototype.request=function(t){var e,n,r=this.getObserver.bind(this),o=this.executeOperation.bind(this),c=this.unsubscribe.bind(this);return this.clearInactivityTimeout(),(e={})[w.default]=function(){return this},e.subscribe=function(e,l,h){var d=r(e,l,h);return n=o(t,(function(t,e){null===t&&null===e?d.complete&&d.complete():t?d.error&&d.error(t[0]):d.next&&d.next(e)})),{unsubscribe:function(){n&&(c(n),n=null)}}},e},t.prototype.on=function(t,e,n){var r=this.eventEmitter.on(t,e,n);return function(){r.off(t,e,n)}},t.prototype.onConnected=function(t,e){return this.on("connected",t,e)},t.prototype.onConnecting=function(t,e){return this.on("connecting",t,e)},t.prototype.onDisconnected=function(t,e){return this.on("disconnected",t,e)},t.prototype.onReconnected=function(t,e){return this.on("reconnected",t,e)},t.prototype.onReconnecting=function(t,e){return this.on("reconnecting",t,e)},t.prototype.onError=function(t,e){return this.on("error",t,e)},t.prototype.unsubscribeAll=function(){var t=this;Object.keys(this.operations).forEach((function(e){t.unsubscribe(e)}))},t.prototype.applyMiddlewares=function(t){var e=this;return new Promise((function(n,r){var o,c,h;o=l(e.middlewares),c=e,(h=function(e){if(e)r(e);else if(o.length>0){var l=o.shift();l&&l.applyMiddleware.apply(c,[t,h])}else n(t)})()}))},t.prototype.use=function(t){var e=this;return t.map((function(t){if("function"!=typeof t.applyMiddleware)throw new Error("Middleware must implement the applyMiddleware function.");e.middlewares.push(t)})),this},t.prototype.getConnectionParams=function(t){return function(){return new Promise((function(e,n){if("function"==typeof t)try{return e(t.call(null))}catch(t){return n(t)}e(t)}))}},t.prototype.executeOperation=function(t,e){var n=this;null===this.client&&this.connect();var r=this.generateOperationId();return this.operations[r]={options:t,handler:e},this.applyMiddlewares(t).then((function(t){n.checkOperationOptions(t,e),n.operations[r]&&(n.operations[r]={options:t,handler:e},n.sendMessage(r,S.default.GQL_START,t))})).catch((function(t){n.unsubscribe(r),e(n.formatErrors(t))})),r},t.prototype.getObserver=function(t,e,n){return"function"==typeof t?{next:function(e){return t(e)},error:function(t){return e&&e(t)},complete:function(){return n&&n()}}:t},t.prototype.createMaxConnectTimeGenerator=function(){var t=this.minWsTimeout,e=this.wsTimeout;return new f({min:t,max:e,factor:1.2})},t.prototype.clearCheckConnectionInterval=function(){this.checkConnectionIntervalId&&(clearInterval(this.checkConnectionIntervalId),this.checkConnectionIntervalId=null)},t.prototype.clearMaxConnectTimeout=function(){this.maxConnectTimeoutId&&(clearTimeout(this.maxConnectTimeoutId),this.maxConnectTimeoutId=null)},t.prototype.clearTryReconnectTimeout=function(){this.tryReconnectTimeoutId&&(clearTimeout(this.tryReconnectTimeoutId),this.tryReconnectTimeoutId=null)},t.prototype.clearInactivityTimeout=function(){this.inactivityTimeoutId&&(clearTimeout(this.inactivityTimeoutId),this.inactivityTimeoutId=null)},t.prototype.setInactivityTimeout=function(){var t=this;this.inactivityTimeout>0&&0===Object.keys(this.operations).length&&(this.inactivityTimeoutId=setTimeout((function(){0===Object.keys(t.operations).length&&t.close()}),this.inactivityTimeout))},t.prototype.checkOperationOptions=function(t,e){var n=t.query,r=t.variables,o=t.operationName;if(!n)throw new Error("Must provide a query.");if(!e)throw new Error("Must provide an handler.");if(!v.default(n)&&!x.getOperationAST(n,o)||o&&!v.default(o)||r&&!y.default(r))throw new Error("Incorrect option types. query must be a string or a document,`operationName` must be a string, and `variables` must be an object.")},t.prototype.buildMessage=function(t,e,n){return{id:t,type:e,payload:n&&n.query?r(r({},n),{query:"string"==typeof n.query?n.query:_.print(n.query)}):n}},t.prototype.formatErrors=function(t){return Array.isArray(t)?t:t&&t.errors?this.formatErrors(t.errors):t&&t.message?[t]:[{name:"FormatedError",message:"Unknown error",originalError:t}]},t.prototype.sendMessage=function(t,e,n){this.sendMessageRaw(this.buildMessage(t,e,n))},t.prototype.sendMessageRaw=function(t){switch(this.status){case this.wsImpl.OPEN:var e=JSON.stringify(t);try{JSON.parse(e)}catch(e){this.eventEmitter.emit("error",new Error("Message must be JSON-serializable. Got: "+t))}this.client.send(e);break;case this.wsImpl.CONNECTING:this.unsentMessagesQueue.push(t);break;default:this.reconnecting||this.eventEmitter.emit("error",new Error("A message was not sent because socket is not connected, is closing or is already closed. Message was: "+JSON.stringify(t)))}},t.prototype.generateOperationId=function(){return String(++this.nextOperationId)},t.prototype.tryReconnect=function(){var t=this;if(this.reconnect&&!(this.backoff.attempts>=this.reconnectionAttempts)){this.reconnecting||(Object.keys(this.operations).forEach((function(e){t.unsentMessagesQueue.push(t.buildMessage(e,S.default.GQL_START,t.operations[e].options))})),this.reconnecting=!0),this.clearTryReconnectTimeout();var e=this.backoff.duration();this.tryReconnectTimeoutId=setTimeout((function(){t.connect()}),e)}},t.prototype.flushUnsentMessagesQueue=function(){var t=this;this.unsentMessagesQueue.forEach((function(e){t.sendMessageRaw(e)})),this.unsentMessagesQueue=[]},t.prototype.checkConnection=function(){this.wasKeepAliveReceived?this.wasKeepAliveReceived=!1:this.reconnecting||this.close(!1,!0)},t.prototype.checkMaxConnectTimeout=function(){var t=this;this.clearMaxConnectTimeout(),this.maxConnectTimeoutId=setTimeout((function(){t.status!==t.wsImpl.OPEN&&(t.reconnecting=!0,t.close(!1,!0))}),this.maxConnectTimeGenerator.duration())},t.prototype.connect=function(){var t,e=this;this.client=new((t=this.wsImpl).bind.apply(t,l([void 0,this.url,this.wsProtocols],this.wsOptionArguments))),this.checkMaxConnectTimeout(),this.client.onopen=function(){return o(e,void 0,void 0,(function(){var t,e;return c(this,(function(n){switch(n.label){case 0:if(this.status!==this.wsImpl.OPEN)return[3,4];this.clearMaxConnectTimeout(),this.closedByUser=!1,this.eventEmitter.emit(this.reconnecting?"reconnecting":"connecting"),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.connectionParams()];case 2:return t=n.sent(),this.sendMessage(void 0,S.default.GQL_CONNECTION_INIT,t),this.flushUnsentMessagesQueue(),[3,4];case 3:return e=n.sent(),this.sendMessage(void 0,S.default.GQL_CONNECTION_ERROR,e),this.flushUnsentMessagesQueue(),[3,4];case 4:return[2]}}))}))},this.client.onclose=function(){e.closedByUser||e.close(!1,!1)},this.client.onerror=function(t){e.eventEmitter.emit("error",t)},this.client.onmessage=function(t){var data=t.data;e.processReceivedData(data)}},t.prototype.processReceivedData=function(t){var e,n;try{n=(e=JSON.parse(t)).id}catch(e){throw new Error("Message must be JSON-parseable. Got: "+t)}if(-1===[S.default.GQL_DATA,S.default.GQL_COMPLETE,S.default.GQL_ERROR].indexOf(e.type)||this.operations[n])switch(e.type){case S.default.GQL_CONNECTION_ERROR:this.connectionCallback&&this.connectionCallback(e.payload);break;case S.default.GQL_CONNECTION_ACK:this.eventEmitter.emit(this.reconnecting?"reconnected":"connected",e.payload),this.reconnecting=!1,this.backoff.reset(),this.maxConnectTimeGenerator.reset(),this.connectionCallback&&this.connectionCallback();break;case S.default.GQL_COMPLETE:var o=this.operations[n].handler;delete this.operations[n],o.call(this,null,null);break;case S.default.GQL_ERROR:this.operations[n].handler(this.formatErrors(e.payload),null),delete this.operations[n];break;case S.default.GQL_DATA:var c=e.payload.errors?r(r({},e.payload),{errors:this.formatErrors(e.payload.errors)}):e.payload;this.operations[n].handler(null,c);break;case S.default.GQL_CONNECTION_KEEP_ALIVE:var l=void 0===this.wasKeepAliveReceived;this.wasKeepAliveReceived=!0,l&&this.checkConnection(),this.checkConnectionIntervalId&&(clearInterval(this.checkConnectionIntervalId),this.checkConnection()),this.checkConnectionIntervalId=setInterval(this.checkConnection.bind(this),this.wsTimeout);break;default:throw new Error("Invalid message type!")}else this.unsubscribe(n)},t.prototype.unsubscribe=function(t){this.operations[t]&&(delete this.operations[t],this.setInactivityTimeout(),this.sendMessage(t,S.default.GQL_STOP,void 0))},t}();e.SubscriptionClient=T}).call(this,n(44))},157:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(130);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t){return l(t,[])}function l(t,e){switch(o(t)){case"string":return JSON.stringify(t);case"function":return t.name?"[function ".concat(t.name,"]"):"[function]";case"object":return null===t?"null":function(t,e){if(-1!==e.indexOf(t))return"[Circular]";var n=[].concat(e,[t]),o=function(object){var t=object[String(r.a)];if("function"==typeof t)return t;if("function"==typeof object.inspect)return object.inspect}(t);if(void 0!==o){var c=o.call(t);if(c!==t)return"string"==typeof c?c:l(c,n)}else if(Array.isArray(t))return function(t,e){if(0===t.length)return"[]";if(e.length>2)return"[Array]";for(var n=Math.min(10,t.length),r=t.length-n,o=[],i=0;i<n;++i)o.push(l(t[i],e));1===r?o.push("... 1 more item"):r>1&&o.push("... ".concat(r," more items"));return"["+o.join(", ")+"]"}(t,n);return function(object,t){var e=Object.keys(object);if(0===e.length)return"{}";if(t.length>2)return"["+function(object){var t=Object.prototype.toString.call(object).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof object.constructor){var e=object.constructor.name;if("string"==typeof e&&""!==e)return e}return t}(object)+"]";return"{ "+e.map((function(e){return e+": "+l(object[e],t)})).join(", ")+" }"}(t,n)}(t,e);default:return String(t)}}},158:function(t,e,n){"use strict";function r(t){var e=t.split(/\r\n|[\n\r]/g),n=function(t){for(var e,n=!0,r=!0,o=0,c=null,i=0;i<t.length;++i)switch(t.charCodeAt(i)){case 13:10===t.charCodeAt(i+1)&&++i;case 10:n=!1,r=!0,o=0;break;case 9:case 32:++o;break;default:r&&!n&&(null===c||o<c)&&(c=o),r=!1}return null!==(e=c)&&void 0!==e?e:0}(t);if(0!==n)for(var i=1;i<e.length;i++)e[i]=e[i].slice(n);for(var r=0;r<e.length&&o(e[r]);)++r;for(var c=e.length;c>r&&o(e[c-1]);)--c;return e.slice(r,c).join("\n")}function o(t){for(var i=0;i<t.length;++i)if(" "!==t[i]&&"\t"!==t[i])return!1;return!0}function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=-1===t.indexOf("\n"),o=" "===t[0]||"\t"===t[0],c='"'===t[t.length-1],l="\\"===t[t.length-1],h=!r||c||l||n,d="";return!h||r&&o||(d+="\n"+e),d+=e?t.replace(/\n/g,"\n"+e):t,h&&(d+="\n"),'"""'+d.replace(/"""/g,'\\"""')+'"""'}n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return c}))},159:function(t,e,n){var r=n(537).parse;function o(t){return t.replace(/[\s,]+/g," ").trim()}var c={},l={};var h=!0;var d=!1;function f(t){var e=o(t);if(c[e])return c[e];var n=r(t,{experimentalFragmentVariables:d});if(!n||"Document"!==n.kind)throw new Error("Not a valid GraphQL document.");return n=function t(e,n){var r=Object.prototype.toString.call(e);if("[object Array]"===r)return e.map((function(e){return t(e,n)}));if("[object Object]"!==r)throw new Error("Unexpected input.");n&&e.loc&&delete e.loc,e.loc&&(delete e.loc.startToken,delete e.loc.endToken);var o,c,l,h=Object.keys(e);for(o in h)h.hasOwnProperty(o)&&(c=e[h[o]],"[object Object]"!==(l=Object.prototype.toString.call(c))&&"[object Array]"!==l||(e[h[o]]=t(c,!0)));return e}(n=function(t){for(var e,n={},r=[],i=0;i<t.definitions.length;i++){var c=t.definitions[i];if("FragmentDefinition"===c.kind){var d=c.name.value,f=o((e=c.loc).source.body.substring(e.start,e.end));l.hasOwnProperty(d)&&!l[d][f]?(h&&console.warn("Warning: fragment with name "+d+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"),l[d][f]=!0):l.hasOwnProperty(d)||(l[d]={},l[d][f]=!0),n[f]||(n[f]=!0,r.push(c))}else r.push(c)}return t.definitions=r,t}(n),!1),c[e]=n,n}function m(){for(var t=Array.prototype.slice.call(arguments),e=t[0],n="string"==typeof e?e:e[0],i=1;i<t.length;i++)t[i]&&t[i].kind&&"Document"===t[i].kind?n+=t[i].loc.source.body:n+=t[i],n+=e[i];return f(n)}m.default=m,m.resetCaches=function(){c={},l={}},m.disableFragmentWarnings=function(){h=!1},m.enableExperimentalFragmentVariables=function(){d=!0},m.disableExperimentalFragmentVariables=function(){d=!1},t.exports=m},160:function(t,e,n){"use strict";n(30),n(89),n(98),n(24),n(18),n(75),n(90),n(60),n(72),n(40),n(29),n(68),n(91),n(50),n(19),n(54),n(66);var r=n(10);function o(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,h=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return l=t.done,t},e:function(t){h=!0,o=t},f:function(){try{l||null==n.return||n.return()}finally{if(h)throw o}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var l=window.requestIdleCallback||function(t){var e=Date.now();return setTimeout((function(){t({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})}),1)},h=window.cancelIdleCallback||function(t){clearTimeout(t)},d=window.IntersectionObserver&&new window.IntersectionObserver((function(t){t.forEach((function(t){var e=t.intersectionRatio,link=t.target;e<=0||link.__prefetch()}))}));e.a={name:"NuxtLink",extends:r.a.component("RouterLink"),props:{prefetch:{type:Boolean,default:!0},noPrefetch:{type:Boolean,default:!1}},mounted:function(){this.prefetch&&!this.noPrefetch&&(this.handleId=l(this.observe,{timeout:2e3}))},beforeDestroy:function(){h(this.handleId),this.__observed&&(d.unobserve(this.$el),delete this.$el.__prefetch)},methods:{observe:function(){d&&this.shouldPrefetch()&&(this.$el.__prefetch=this.prefetchLink.bind(this),d.observe(this.$el),this.__observed=!0)},shouldPrefetch:function(){var t=this.$router.resolve(this.to,this.$route,this.append);return t.resolved.matched.map((function(t){return t.components.default})).filter((function(e){return t.href||"function"==typeof e&&!e.options&&!e.__prefetched})).length},canPrefetch:function(){var t=navigator.connection;return!(this.$nuxt.isOffline||t&&((t.effectiveType||"").includes("2g")||t.saveData))},getPrefetchComponents:function(){return this.$router.resolve(this.to,this.$route,this.append).resolved.matched.map((function(t){return t.components.default})).filter((function(t){return"function"==typeof t&&!t.options&&!t.__prefetched}))},prefetchLink:function(){if(this.canPrefetch()){d.unobserve(this.$el);var t,e=o(this.getPrefetchComponents());try{for(e.s();!(t=e.n()).done;){var n=t.value,r=n();r instanceof Promise&&r.catch((function(){})),n.__prefetched=!0}}catch(t){e.e(t)}finally{e.f()}if(!this.$root.isPreview){var c=this.$router.resolve(this.to,this.$route,this.append).href;this.$nuxt&&this.$nuxt.fetchPayload(c).catch((function(){}))}}}}}},2:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return o})),n.d(e,"__assign",(function(){return c})),n.d(e,"__rest",(function(){return l})),n.d(e,"__decorate",(function(){return h})),n.d(e,"__param",(function(){return d})),n.d(e,"__metadata",(function(){return f})),n.d(e,"__awaiter",(function(){return m})),n.d(e,"__generator",(function(){return v})),n.d(e,"__createBinding",(function(){return y})),n.d(e,"__exportStar",(function(){return _})),n.d(e,"__values",(function(){return x})),n.d(e,"__read",(function(){return w})),n.d(e,"__spread",(function(){return E})),n.d(e,"__spreadArrays",(function(){return M})),n.d(e,"__await",(function(){return S})),n.d(e,"__asyncGenerator",(function(){return T})),n.d(e,"__asyncDelegator",(function(){return D})),n.d(e,"__asyncValues",(function(){return O})),n.d(e,"__makeTemplateObject",(function(){return C})),n.d(e,"__importStar",(function(){return A})),n.d(e,"__importDefault",(function(){return k})),n.d(e,"__classPrivateFieldGet",(function(){return P})),n.d(e,"__classPrivateFieldSet",(function(){return j}));var r=function(t,b){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(t,b)};function o(t,b){function e(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}var c=function(){return(c=Object.assign||function(t){for(var s,i=1,e=arguments.length;i<e;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};function l(s,t){var e={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&t.indexOf(p)<0&&(e[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)t.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(e[p[i]]=s[p[i]])}return e}function h(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c}function d(t,e){return function(n,r){e(n,r,t)}}function f(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function m(t,e,n,r){return new(n||(n=Promise))((function(o,c){function l(t){try{d(r.next(t))}catch(t){c(t)}}function h(t){try{d(r.throw(t))}catch(t){c(t)}}function d(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,h)}d((r=r.apply(t,e||[])).next())}))}function v(t,body){var e,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(t,o)}catch(t){c=[6,t],n=0}finally{e=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}}function y(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}function _(t,e){for(var p in t)"default"===p||e.hasOwnProperty(p)||(e[p]=t[p])}function x(t){var s="function"==typeof Symbol&&Symbol.iterator,e=s&&t[s],i=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function w(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),c=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)c.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return c}function E(){for(var t=[],i=0;i<arguments.length;i++)t=t.concat(w(arguments[i]));return t}function M(){for(var s=0,i=0,t=arguments.length;i<t;i++)s+=arguments[i].length;var e=Array(s),n=0;for(i=0;i<t;i++)for(var a=arguments[i],r=0,o=a.length;r<o;r++,n++)e[n]=a[r];return e}function S(t){return this instanceof S?(this.v=t,this):new S(t)}function T(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,g=n.apply(t,e||[]),q=[];return i={},r("next"),r("throw"),r("return"),i[Symbol.asyncIterator]=function(){return this},i;function r(t){g[t]&&(i[t]=function(e){return new Promise((function(a,b){q.push([t,e,a,b])>1||o(t,e)}))})}function o(t,e){try{(n=g[t](e)).value instanceof S?Promise.resolve(n.value.v).then(c,l):h(q[0][2],n)}catch(t){h(q[0][3],t)}var n}function c(t){o("next",t)}function l(t){o("throw",t)}function h(t,e){t(e),q.shift(),q.length&&o(q[0][0],q[0][1])}}function D(t){var i,p;return i={},e("next"),e("throw",(function(t){throw t})),e("return"),i[Symbol.iterator]=function(){return this},i;function e(e,n){i[e]=t[e]?function(r){return(p=!p)?{value:S(t[e](r)),done:"return"===e}:n?n(r):r}:n}}function O(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,e=t[Symbol.asyncIterator];return e?e.call(t):(t=x(t),i={},n("next"),n("throw"),n("return"),i[Symbol.asyncIterator]=function(){return this},i);function n(e){i[e]=t[e]&&function(n){return new Promise((function(r,o){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,o,(n=t[e](n)).done,n.value)}))}}}function C(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function A(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function k(t){return t&&t.__esModule?t:{default:t}}function P(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function j(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},210:function(t,e,n){var r;"undefined"!=typeof self&&self,r=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(object,t){return Object.prototype.hasOwnProperty.call(object,t)},n.p="",n(n.s="./src/main/js/index.ts")}({"./node_modules/css-loader/lib/css-base.js":function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var content=function(t,e){var n,content=t[1]||"",r=t[3];if(!r)return content;if(e&&"function"==typeof btoa){var o=(n=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),c=r.sources.map((function(source){return"/*# sourceURL="+r.sourceRoot+source+" */"}));return[content].concat(c).concat([o]).join("\n")}return[content].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+content+"}":content})).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var c=t[i];"number"==typeof c[0]&&r[c[0]]||(n&&!c[2]?c[2]=n:n&&(c[2]="("+c[2]+") and ("+n+")"),e.push(c))}},e}},"./node_modules/process/browser.js":function(t,e){var n,r,o=t.exports={};function c(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function h(t){if(n===setTimeout)return setTimeout(t,0);if((n===c||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:c}catch(t){n=c}try{r="function"==typeof clearTimeout?clearTimeout:l}catch(t){r=l}}();var d,f=[],m=!1,v=-1;function y(){m&&d&&(m=!1,d.length?f=d.concat(f):v=-1,f.length&&_())}function _(){if(!m){var t=h(y);m=!0;for(var e=f.length;e;){for(d=f,f=[];++v<e;)d&&d[v].run();v=-1,e=f.length}d=null,m=!1,function(marker){if(r===clearTimeout)return clearTimeout(marker);if((r===l||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(marker);try{r(marker)}catch(t){try{return r.call(null,marker)}catch(t){return r.call(this,marker)}}}(t)}}function x(t,e){this.fun=t,this.array=e}function w(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];f.push(new x(t,e)),1!==f.length||m||h(_)},x.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=w,o.addListener=w,o.once=w,o.off=w,o.removeListener=w,o.removeAllListeners=w,o.emit=w,o.prependListener=w,o.prependOnceListener=w,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},"./src/main/js/api/button.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ButtonApi=void 0;var r=function(){function t(t){this.controller=t}return Object.defineProperty(t.prototype,"hidden",{get:function(){return this.controller.viewModel.hidden},set:function(t){this.controller.viewModel.hidden=t},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){this.controller.viewModel.dispose()},t.prototype.on=function(t,e){return this.controller.button.emitter.on(t,e.bind(this)),this},t}();e.ButtonApi=r},"./src/main/js/api/event-handler-adapters.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.folder=e.monitor=e.input=void 0,e.input=function(t){var e=t.binding,n=t.eventName,r=t.handler;"change"===n&&e.emitter.on("change",(function(t){r(t.sender.getValueToWrite(t.rawValue))}))},e.monitor=function(t){var e=t.binding,n=t.eventName,r=t.handler;"update"===n&&e.emitter.on("update",(function(t){r(t.sender.target.read())}))},e.folder=function(t){var e=t.eventName,n=t.folder,r=t.handler,o=t.uiContainer;"change"===e&&o.emitter.on("inputchange",(function(t){r(t.inputBinding.getValueToWrite(t.value))})),"update"===e&&o.emitter.on("monitorupdate",(function(t){r(t.monitorBinding.target.read())})),"fold"===e&&(o.emitter.on("itemfold",(function(t){r(t.expanded)})),null==n||n.emitter.on("change",(function(t){"expanded"===t.propertyName&&r(t.sender.expanded)})))}},"./src/main/js/api/folder.ts":function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var s,i=1,e=arguments.length;i<e;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.FolderApi=void 0;var o=n("./src/main/js/controller/binding-creators/input.ts"),c=n("./src/main/js/controller/binding-creators/monitor.ts"),l=n("./src/main/js/controller/button.ts"),h=n("./src/main/js/controller/folder.ts"),d=n("./src/main/js/controller/separator.ts"),f=n("./src/main/js/model/target.ts"),m=n("./src/main/js/model/view-model.ts"),v=n("./src/main/js/api/button.ts"),y=n("./src/main/js/api/event-handler-adapters.ts"),_=n("./src/main/js/api/input-binding.ts"),x=n("./src/main/js/api/monitor-binding.ts"),w=n("./src/main/js/api/separator.ts"),E=function(){function t(t){this.controller=t}return Object.defineProperty(t.prototype,"expanded",{get:function(){return this.controller.folder.expanded},set:function(t){this.controller.folder.expanded=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hidden",{get:function(){return this.controller.viewModel.hidden},set:function(t){this.controller.viewModel.hidden=t},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){this.controller.viewModel.dispose()},t.prototype.addInput=function(object,t,e){var n=e||{},r=o.create(this.controller.document,new f.Target(object,t,n.presetKey),n);return this.controller.uiContainer.add(r,n.index),new _.InputBindingApi(r)},t.prototype.addMonitor=function(object,t,e){var n=e||{},r=c.create(this.controller.document,new f.Target(object,t),n);return this.controller.uiContainer.add(r,n.index),new x.MonitorBindingApi(r)},t.prototype.addFolder=function(e){var n=new h.FolderController(this.controller.document,r(r({},e),{viewModel:new m.ViewModel}));return this.controller.uiContainer.add(n,e.index),new t(n)},t.prototype.addButton=function(t){var e=new l.ButtonController(this.controller.document,r(r({},t),{viewModel:new m.ViewModel}));return this.controller.uiContainer.add(e,t.index),new v.ButtonApi(e)},t.prototype.addSeparator=function(t){var e=t||{},n=new d.SeparatorController(this.controller.document,{viewModel:new m.ViewModel});return this.controller.uiContainer.add(n,e.index),new w.SeparatorApi(n)},t.prototype.on=function(t,e){return y.folder({eventName:t,folder:this.controller.folder,handler:e.bind(this),uiContainer:this.controller.uiContainer}),this},t}();e.FolderApi=E},"./src/main/js/api/input-binding.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputBindingApi=void 0;var r=n("./src/main/js/api/event-handler-adapters.ts"),o=function(){function t(t){this.controller=t}return Object.defineProperty(t.prototype,"hidden",{get:function(){return this.controller.viewModel.hidden},set:function(t){this.controller.viewModel.hidden=t},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){this.controller.viewModel.dispose()},t.prototype.on=function(t,e){return r.input({binding:this.controller.binding,eventName:t,handler:e.bind(this)}),this},t.prototype.refresh=function(){this.controller.binding.read()},t}();e.InputBindingApi=o},"./src/main/js/api/monitor-binding.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MonitorBindingApi=void 0;var r=n("./src/main/js/api/event-handler-adapters.ts"),o=function(){function t(t){this.controller=t}return Object.defineProperty(t.prototype,"hidden",{get:function(){return this.controller.viewModel.hidden},set:function(t){this.controller.viewModel.hidden=t},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){this.controller.viewModel.dispose()},t.prototype.on=function(t,e){return r.monitor({binding:this.controller.binding,eventName:t,handler:e.bind(this)}),this},t.prototype.refresh=function(){this.controller.binding.read()},t}();e.MonitorBindingApi=o},"./src/main/js/api/preset.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.importJson=e.exportJson=void 0,e.exportJson=function(t){return t.reduce((function(t,e){var n;return Object.assign(t,((n={})[e.presetKey]=e.read(),n))}),{})},e.importJson=function(t,e){t.forEach((function(t){var n=e[t.presetKey];void 0!==n&&t.write(n)}))}},"./src/main/js/api/root.ts":function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var s,i=1,e=arguments.length;i<e;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.RootApi=void 0;var o=n("./src/main/js/controller/binding-creators/input.ts"),c=n("./src/main/js/controller/binding-creators/monitor.ts"),l=n("./src/main/js/controller/button.ts"),h=n("./src/main/js/controller/folder.ts"),d=n("./src/main/js/controller/input-binding.ts"),f=n("./src/main/js/controller/monitor-binding.ts"),m=n("./src/main/js/controller/separator.ts"),v=n("./src/main/js/controller/ui-util.ts"),y=n("./src/main/js/model/target.ts"),_=n("./src/main/js/model/view-model.ts"),x=n("./src/main/js/api/button.ts"),w=n("./src/main/js/api/event-handler-adapters.ts"),E=n("./src/main/js/api/folder.ts"),M=n("./src/main/js/api/input-binding.ts"),S=n("./src/main/js/api/monitor-binding.ts"),T=n("./src/main/js/api/preset.ts"),D=n("./src/main/js/api/separator.ts"),O=function(){function t(t){this.controller=t}return Object.defineProperty(t.prototype,"element",{get:function(){return this.controller.view.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expanded",{get:function(){var t=this.controller.folder;return!t||t.expanded},set:function(t){var e=this.controller.folder;e&&(e.expanded=t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hidden",{get:function(){return this.controller.viewModel.hidden},set:function(t){this.controller.viewModel.hidden=t},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){this.controller.viewModel.dispose()},t.prototype.addInput=function(object,t,e){var n=e||{},r=o.create(this.controller.document,new y.Target(object,t,n.presetKey),n);return this.controller.uiContainer.add(r,n.index),new M.InputBindingApi(r)},t.prototype.addMonitor=function(object,t,e){var n=e||{},r=c.create(this.controller.document,new y.Target(object,t),n);return this.controller.uiContainer.add(r,n.index),new S.MonitorBindingApi(r)},t.prototype.addButton=function(t){var e=new l.ButtonController(this.controller.document,r(r({},t),{viewModel:new _.ViewModel}));return this.controller.uiContainer.add(e,t.index),new x.ButtonApi(e)},t.prototype.addFolder=function(t){var e=new h.FolderController(this.controller.document,r(r({},t),{viewModel:new _.ViewModel}));return this.controller.uiContainer.add(e,t.index),new E.FolderApi(e)},t.prototype.addSeparator=function(t){var e=t||{},n=new m.SeparatorController(this.controller.document,{viewModel:new _.ViewModel});return this.controller.uiContainer.add(n,e.index),new D.SeparatorApi(n)},t.prototype.importPreset=function(t){var e=v.findControllers(this.controller.uiContainer.items,d.InputBindingController).map((function(t){return t.binding.target}));T.importJson(e,t),this.refresh()},t.prototype.exportPreset=function(){var t=v.findControllers(this.controller.uiContainer.items,d.InputBindingController).map((function(t){return t.binding.target}));return T.exportJson(t)},t.prototype.on=function(t,e){return w.folder({eventName:t,folder:this.controller.folder,handler:e.bind(this),uiContainer:this.controller.uiContainer}),this},t.prototype.refresh=function(){v.findControllers(this.controller.uiContainer.items,d.InputBindingController).forEach((function(t){t.binding.read()})),v.findControllers(this.controller.uiContainer.items,f.MonitorBindingController).forEach((function(t){t.binding.read()}))},t}();e.RootApi=O},"./src/main/js/api/separator.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SeparatorApi=void 0;var r=function(){function t(t){this.controller=t}return Object.defineProperty(t.prototype,"hidden",{get:function(){return this.controller.viewModel.hidden},set:function(t){this.controller.viewModel.hidden=t},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){this.controller.viewModel.dispose()},t}();e.SeparatorApi=r},"./src/main/js/binding/input.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputBinding=void 0;var r=n("./src/main/js/misc/emitter.ts"),o=function(){function t(t){this.onValueChange_=this.onValueChange_.bind(this),this.reader_=t.reader,this.writer_=t.writer,this.emitter=new r.Emitter,this.value=t.value,this.value.emitter.on("change",this.onValueChange_),this.target=t.target,this.read()}return t.prototype.read=function(){var t=this.target.read();void 0!==t&&(this.value.rawValue=this.reader_(t))},t.prototype.getValueToWrite=function(t){return this.writer_(t)},t.prototype.write_=function(t){this.target.write(this.getValueToWrite(t))},t.prototype.onValueChange_=function(t){this.write_(t.rawValue),this.emitter.emit("change",{rawValue:t.rawValue,sender:this})},t}();e.InputBinding=o},"./src/main/js/binding/monitor.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MonitorBinding=void 0;var r=n("./src/main/js/misc/emitter.ts"),o=function(){function t(t){this.onTick_=this.onTick_.bind(this),this.onValueUpdate_=this.onValueUpdate_.bind(this),this.reader_=t.reader,this.target=t.target,this.emitter=new r.Emitter,this.value=t.value,this.value.emitter.on("update",this.onValueUpdate_),this.ticker=t.ticker,this.ticker.emitter.on("tick",this.onTick_),this.read()}return t.prototype.dispose=function(){this.ticker.disposable.dispose()},t.prototype.read=function(){var t=this.target.read();void 0!==t&&this.value.append(this.reader_(t))},t.prototype.onTick_=function(t){this.read()},t.prototype.onValueUpdate_=function(t){this.emitter.emit("update",{rawValue:t.rawValue,sender:this})},t}();e.MonitorBinding=o},"./src/main/js/constraint/composite.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompositeConstraint=void 0;var r=function(){function t(t){this.constraints_=t.constraints}return Object.defineProperty(t.prototype,"constraints",{get:function(){return this.constraints_},enumerable:!1,configurable:!0}),t.prototype.constrain=function(t){return this.constraints_.reduce((function(t,e){return e.constrain(t)}),t)},t}();e.CompositeConstraint=r},"./src/main/js/constraint/list.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListConstraint=void 0;var r=function(){function t(t){this.opts_=t.options}return Object.defineProperty(t.prototype,"options",{get:function(){return this.opts_},enumerable:!1,configurable:!0}),t.prototype.constrain=function(t){var e=this.opts_;return 0===e.length||e.filter((function(e){return e.value===t})).length>0?t:e[0].value},t}();e.ListConstraint=r},"./src/main/js/constraint/point-2d.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Point2dConstraint=void 0;var r=n("./src/main/js/model/point-2d.ts"),o=function(){function t(t){this.xConstraint=t.x,this.yConstraint=t.y}return t.prototype.constrain=function(t){return new r.Point2d(this.xConstraint?this.xConstraint.constrain(t.x):t.x,this.yConstraint?this.yConstraint.constrain(t.y):t.y)},t}();e.Point2dConstraint=o},"./src/main/js/constraint/range.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeConstraint=void 0;var r=n("./src/main/js/misc/type-util.ts"),o=function(){function t(t){this.maxValue=t.max,this.minValue=t.min}return t.prototype.constrain=function(t){var e=t;return r.TypeUtil.isEmpty(this.minValue)||(e=Math.max(e,this.minValue)),r.TypeUtil.isEmpty(this.maxValue)||(e=Math.min(e,this.maxValue)),e},t}();e.RangeConstraint=o},"./src/main/js/constraint/step.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StepConstraint=void 0;var r=function(){function t(t){this.step=t.step}return t.prototype.constrain=function(t){return(t<0?-Math.round(-t/this.step):Math.round(t/this.step))*this.step},t}();e.StepConstraint=r},"./src/main/js/constraint/util.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConstraintUtil=void 0;var r=n("./src/main/js/constraint/composite.ts");e.ConstraintUtil={findConstraint:function(t,e){if(t instanceof e)return t;if(t instanceof r.CompositeConstraint){var n=t.constraints.reduce((function(t,n){return t||(n instanceof e?n:null)}),null);if(n)return n}return null}}},"./src/main/js/controller/binding-creators/boolean-input.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=void 0;var r=n("./src/main/js/binding/input.ts"),o=n("./src/main/js/constraint/composite.ts"),c=n("./src/main/js/constraint/list.ts"),l=n("./src/main/js/constraint/util.ts"),h=n("./src/main/js/converter/boolean.ts"),d=n("./src/main/js/model/input-value.ts"),f=n("./src/main/js/model/view-model.ts"),m=n("./src/main/js/controller/input-binding.ts"),v=n("./src/main/js/controller/input/checkbox.ts"),y=n("./src/main/js/controller/input/list.ts"),_=n("./src/main/js/controller/ui-util.ts");function x(t,e){var n=e.constraint;return n&&l.ConstraintUtil.findConstraint(n,c.ListConstraint)?new y.ListInputController(t,{viewModel:new f.ViewModel,stringifyValue:h.toString,value:e}):new v.CheckboxInputController(t,{viewModel:new f.ViewModel,value:e})}e.create=function(t,e,n){if("boolean"!=typeof e.read())return null;var l=new d.InputValue(!1,function(t){var e=[];return"options"in t&&void 0!==t.options&&e.push(new c.ListConstraint({options:_.normalizeInputParamsOptions(t.options,h.fromMixed)})),new o.CompositeConstraint({constraints:e})}(n)),f=new r.InputBinding({reader:h.fromMixed,target:e,value:l,writer:function(t){return t}});return new m.InputBindingController(t,{binding:f,controller:x(t,l),label:n.label||e.key})}},"./src/main/js/controller/binding-creators/boolean-monitor.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=void 0;var r=n("./src/main/js/binding/monitor.ts"),o=n("./src/main/js/converter/boolean.ts"),c=n("./src/main/js/formatter/boolean.ts"),l=n("./src/main/js/misc/type-util.ts"),h=n("./src/main/js/model/monitor-value.ts"),d=n("./src/main/js/model/view-model.ts"),f=n("./src/main/js/controller/monitor-binding.ts"),m=n("./src/main/js/controller/monitor/multi-log.ts"),v=n("./src/main/js/controller/monitor/single-log.ts"),y=n("./src/main/js/controller/binding-creators/util.ts");e.create=function(t,e,n){if("boolean"!=typeof e.read())return null;var _=new h.MonitorValue(l.TypeUtil.getOrDefault(n.count,1)),x=1===_.totalCount?new v.SingleLogMonitorController(t,{viewModel:new d.ViewModel,formatter:new c.BooleanFormatter,value:_}):new m.MultiLogMonitorController(t,{viewModel:new d.ViewModel,formatter:new c.BooleanFormatter,value:_});return new f.MonitorBindingController(t,{binding:new r.MonitorBinding({reader:o.fromMixed,target:e,ticker:y.createTicker(t,n.interval),value:_}),controller:x,label:n.label||e.key})}},"./src/main/js/controller/binding-creators/color-input.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createWithObject=e.createWithNumber=e.createWithString=void 0;var r=n("./src/main/js/binding/input.ts"),o=n("./src/main/js/converter/color.ts"),c=n("./src/main/js/formatter/color.ts"),l=n("./src/main/js/model/color.ts"),h=n("./src/main/js/model/input-value.ts"),d=n("./src/main/js/model/view-model.ts"),f=n("./src/main/js/parser/number-color.ts"),m=n("./src/main/js/parser/string-color.ts"),v=n("./src/main/js/controller/input-binding.ts"),y=n("./src/main/js/controller/input/color-swatch-text.ts");e.createWithString=function(t,e,n){var l=e.read();if("string"!=typeof l)return null;if("input"in n&&"string"===n.input)return null;var f=m.getNotation(l);if(!f)return null;var _=o.fromString,x=_(l),w=new h.InputValue(x),E=o.getStringifier(f);return new v.InputBindingController(t,{binding:new r.InputBinding({reader:_,target:e,value:w,writer:E}),controller:new y.ColorSwatchTextInputController(t,{formatter:new c.ColorFormatter(E),parser:m.CompositeParser,supportsAlpha:m.hasAlphaComponent(f),value:w,viewModel:new d.ViewModel}),label:n.label||e.key})},e.createWithNumber=function(t,e,n){var l=e.read();if("number"!=typeof l)return null;if(!("input"in n))return null;if("color"!==n.input&&"color.rgb"!==n.input&&"color.rgba"!==n.input)return null;var _="color.rgba"===n.input,x=(_?f.RgbaParser:f.RgbParser)(l);if(!x)return null;var w=_?new c.ColorFormatter(o.toHexRgbaString):new c.ColorFormatter(o.toHexRgbString),E=_?o.fromNumberToRgba:o.fromNumberToRgb,M=_?o.toRgbaNumber:o.toRgbNumber,S=new h.InputValue(x);return new v.InputBindingController(t,{binding:new r.InputBinding({reader:E,target:e,value:S,writer:M}),controller:new y.ColorSwatchTextInputController(t,{formatter:w,parser:m.CompositeParser,supportsAlpha:_,value:S,viewModel:new d.ViewModel}),label:n.label||e.key})},e.createWithObject=function(t,e,n){var f=e.read();if(!l.Color.isColorObject(f))return null;var _=l.Color.fromObject(f),x=l.Color.isRgbaColorObject(f),w=x?new c.ColorFormatter(o.toHexRgbaString):new c.ColorFormatter(o.toHexRgbString),E=new h.InputValue(_);return new v.InputBindingController(t,{binding:new r.InputBinding({reader:o.fromObject,target:e,value:E,writer:l.Color.toRgbaObject}),controller:new y.ColorSwatchTextInputController(t,{viewModel:new d.ViewModel,formatter:w,parser:m.CompositeParser,supportsAlpha:x,value:E}),label:n.label||e.key})}},"./src/main/js/controller/binding-creators/input.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=void 0;var r=n("./src/main/js/misc/pane-error.ts"),o=n("./src/main/js/misc/type-util.ts"),c=n("./src/main/js/controller/binding-creators/boolean-input.ts"),l=n("./src/main/js/controller/binding-creators/color-input.ts"),h=n("./src/main/js/controller/binding-creators/number-input.ts"),d=n("./src/main/js/controller/binding-creators/point-2d-input.ts"),f=n("./src/main/js/controller/binding-creators/string-input.ts");e.create=function(t,e,n){var m=e.read();if(o.TypeUtil.isEmpty(m))throw new r.PaneError({context:{key:e.key},type:"emptyvalue"});var v=[c.create,l.createWithNumber,l.createWithObject,l.createWithString,h.create,f.create,d.create].reduce((function(r,o){return r||o(t,e,n)}),null);if(v)return v;throw new r.PaneError({context:{key:e.key},type:"nomatchingcontroller"})}},"./src/main/js/controller/binding-creators/monitor.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=void 0;var r=n("./src/main/js/misc/pane-error.ts"),o=n("./src/main/js/misc/type-util.ts"),c=n("./src/main/js/controller/binding-creators/boolean-monitor.ts"),l=n("./src/main/js/controller/binding-creators/number-monitor.ts"),h=n("./src/main/js/controller/binding-creators/string-monitor.ts");e.create=function(t,e,n){var d=e.read();if(o.TypeUtil.isEmpty(d))throw new r.PaneError({context:{key:e.key},type:"emptyvalue"});var f=[l.create,h.create,c.create].reduce((function(r,o){return r||o(t,e,n)}),null);if(f)return f;throw new r.PaneError({context:{key:e.key},type:"nomatchingcontroller"})}},"./src/main/js/controller/binding-creators/number-input.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=void 0;var r=n("./src/main/js/binding/input.ts"),o=n("./src/main/js/constraint/composite.ts"),c=n("./src/main/js/constraint/list.ts"),l=n("./src/main/js/constraint/range.ts"),h=n("./src/main/js/constraint/step.ts"),d=n("./src/main/js/constraint/util.ts"),f=n("./src/main/js/converter/number.ts"),m=n("./src/main/js/formatter/number.ts"),v=n("./src/main/js/misc/type-util.ts"),y=n("./src/main/js/model/input-value.ts"),_=n("./src/main/js/model/view-model.ts"),x=n("./src/main/js/parser/string-number.ts"),w=n("./src/main/js/controller/input-binding.ts"),E=n("./src/main/js/controller/input/list.ts"),M=n("./src/main/js/controller/input/number-text.ts"),S=n("./src/main/js/controller/input/slider-text.ts"),T=n("./src/main/js/controller/ui-util.ts");e.create=function(t,e,n){if("number"!=typeof e.read())return null;var D=new y.InputValue(0,function(t){var e=[];return"step"in t&&!v.TypeUtil.isEmpty(t.step)&&e.push(new h.StepConstraint({step:t.step})),("max"in t&&!v.TypeUtil.isEmpty(t.max)||"min"in t&&!v.TypeUtil.isEmpty(t.min))&&e.push(new l.RangeConstraint({max:t.max,min:t.min})),"options"in t&&void 0!==t.options&&e.push(new c.ListConstraint({options:T.normalizeInputParamsOptions(t.options,f.fromMixed)})),new o.CompositeConstraint({constraints:e})}(n)),O=new r.InputBinding({reader:f.fromMixed,target:e,value:D,writer:function(t){return t}}),C=function(t,e){var n=e.constraint;return n&&d.ConstraintUtil.findConstraint(n,c.ListConstraint)?new E.ListInputController(t,{stringifyValue:f.toString,value:e,viewModel:new _.ViewModel}):n&&d.ConstraintUtil.findConstraint(n,l.RangeConstraint)?new S.SliderTextInputController(t,{formatter:new m.NumberFormatter(T.getSuitableDecimalDigits(e.constraint,e.rawValue)),parser:x.StringNumberParser,value:e,viewModel:new _.ViewModel}):new M.NumberTextInputController(t,{formatter:new m.NumberFormatter(T.getSuitableDecimalDigits(e.constraint,e.rawValue)),parser:x.StringNumberParser,value:e,viewModel:new _.ViewModel})}(t,D);return new w.InputBindingController(t,{binding:O,controller:C,label:n.label||e.key})}},"./src/main/js/controller/binding-creators/number-monitor.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=void 0;var r=n("./src/main/js/binding/monitor.ts"),o=n("./src/main/js/converter/number.ts"),c=n("./src/main/js/formatter/number.ts"),l=n("./src/main/js/misc/type-util.ts"),h=n("./src/main/js/model/monitor-value.ts"),d=n("./src/main/js/model/view-model.ts"),f=n("./src/main/js/controller/monitor-binding.ts"),m=n("./src/main/js/controller/monitor/graph.ts"),v=n("./src/main/js/controller/monitor/multi-log.ts"),y=n("./src/main/js/controller/monitor/single-log.ts"),_=n("./src/main/js/controller/binding-creators/util.ts");function x(){return new c.NumberFormatter(2)}e.create=function(t,e,n){return"number"!=typeof e.read()?null:"view"in n&&"graph"===n.view?function(t,e,n){var c=new h.MonitorValue(l.TypeUtil.getOrDefault(n.count,64)),v=new m.GraphMonitorController(t,{formatter:x(),maxValue:l.TypeUtil.getOrDefault("max"in n?n.max:null,100),minValue:l.TypeUtil.getOrDefault("min"in n?n.min:null,0),value:c,viewModel:new d.ViewModel});return new f.MonitorBindingController(t,{binding:new r.MonitorBinding({reader:o.fromMixed,target:e,ticker:_.createTicker(t,n.interval),value:c}),controller:v,label:n.label||e.key})}(t,e,n):function(t,e,n){var c=new h.MonitorValue(l.TypeUtil.getOrDefault(n.count,1)),m=1===c.totalCount?new y.SingleLogMonitorController(t,{formatter:x(),value:c,viewModel:new d.ViewModel}):new v.MultiLogMonitorController(t,{formatter:x(),value:c,viewModel:new d.ViewModel});return new f.MonitorBindingController(t,{binding:new r.MonitorBinding({reader:o.fromMixed,target:e,ticker:_.createTicker(t,n.interval),value:c}),controller:m,label:n.label||e.key})}(t,e,n)}},"./src/main/js/controller/binding-creators/point-2d-input.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=void 0;var r=n("./src/main/js/binding/input.ts"),o=n("./src/main/js/constraint/composite.ts"),c=n("./src/main/js/constraint/point-2d.ts"),l=n("./src/main/js/constraint/range.ts"),h=n("./src/main/js/constraint/step.ts"),d=n("./src/main/js/converter/point-2d.ts"),f=n("./src/main/js/formatter/number.ts"),m=n("./src/main/js/misc/pane-error.ts"),v=n("./src/main/js/misc/type-util.ts"),y=n("./src/main/js/model/input-value.ts"),_=n("./src/main/js/model/view-model.ts"),x=n("./src/main/js/parser/any-point-2d.ts"),w=n("./src/main/js/parser/string-number.ts"),E=n("./src/main/js/controller/input-binding.ts"),M=n("./src/main/js/controller/input/point-2d-pad-text.ts"),S=n("./src/main/js/controller/ui-util.ts");function T(t){if(t){var e=[];return v.TypeUtil.isEmpty(t.step)||e.push(new h.StepConstraint({step:t.step})),v.TypeUtil.isEmpty(t.max)&&v.TypeUtil.isEmpty(t.min)||e.push(new l.RangeConstraint({max:t.max,min:t.min})),new o.CompositeConstraint({constraints:e})}}e.create=function(t,e,n){var o=e.read(),p=x.AnyPoint2dParser(o);if(!p)return null;var l=new y.InputValue(p,function(t){return new c.Point2dConstraint({x:T("x"in t?t.x:void 0),y:T("y"in t?t.y:void 0)})}(n)),h=new r.InputBinding({reader:d.fromMixed,target:e,value:l,writer:function(t){return t.toObject()}}),v="y"in n?n.y:void 0,D=function(t,e,n){var r=e.constraint;if(!(r instanceof c.Point2dConstraint))throw m.PaneError.shouldNeverHappen();return new M.Point2dPadTextInputController(t,{invertsY:n,parser:w.StringNumberParser,value:e,viewModel:new _.ViewModel,xFormatter:new f.NumberFormatter(S.getSuitableDecimalDigits(r.xConstraint,e.rawValue.x)),yFormatter:new f.NumberFormatter(S.getSuitableDecimalDigits(r.yConstraint,e.rawValue.y))})}(t,l,!!v&&!!v.inverted);return new E.InputBindingController(t,{binding:h,controller:D,label:n.label||e.key})}},"./src/main/js/controller/binding-creators/string-input.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=void 0;var r=n("./src/main/js/binding/input.ts"),o=n("./src/main/js/constraint/composite.ts"),c=n("./src/main/js/constraint/list.ts"),l=n("./src/main/js/constraint/util.ts"),h=n("./src/main/js/converter/string.ts"),d=n("./src/main/js/formatter/string.ts"),f=n("./src/main/js/model/input-value.ts"),m=n("./src/main/js/model/view-model.ts"),v=n("./src/main/js/controller/input-binding.ts"),y=n("./src/main/js/controller/input/list.ts"),_=n("./src/main/js/controller/input/text.ts"),x=n("./src/main/js/controller/ui-util.ts");e.create=function(t,e,n){if("string"!=typeof e.read())return null;var w=new f.InputValue("",function(t){var e=[];return"options"in t&&void 0!==t.options&&e.push(new c.ListConstraint({options:x.normalizeInputParamsOptions(t.options,h.fromMixed)})),new o.CompositeConstraint({constraints:e})}(n)),E=new r.InputBinding({reader:h.fromMixed,target:e,value:w,writer:function(t){return t}}),M=function(t,e){var n=e.constraint;return n&&l.ConstraintUtil.findConstraint(n,c.ListConstraint)?new y.ListInputController(t,{stringifyValue:h.toString,value:e,viewModel:new m.ViewModel}):new _.TextInputController(t,{formatter:new d.StringFormatter,parser:h.toString,value:e,viewModel:new m.ViewModel})}(t,w);return new v.InputBindingController(t,{binding:E,controller:M,label:n.label||e.key})}},"./src/main/js/controller/binding-creators/string-monitor.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=void 0;var r=n("./src/main/js/binding/monitor.ts"),o=n("./src/main/js/converter/string.ts"),c=n("./src/main/js/formatter/string.ts"),l=n("./src/main/js/misc/type-util.ts"),h=n("./src/main/js/model/monitor-value.ts"),d=n("./src/main/js/model/view-model.ts"),f=n("./src/main/js/controller/monitor-binding.ts"),m=n("./src/main/js/controller/monitor/multi-log.ts"),v=n("./src/main/js/controller/monitor/single-log.ts"),y=n("./src/main/js/controller/binding-creators/util.ts");e.create=function(t,e,n){if("string"!=typeof e.read())return null;var _=new h.MonitorValue(l.TypeUtil.getOrDefault(n.count,1)),x=_.totalCount>1||"multiline"in n&&n.multiline?new m.MultiLogMonitorController(t,{formatter:new c.StringFormatter,value:_,viewModel:new d.ViewModel}):new v.SingleLogMonitorController(t,{formatter:new c.StringFormatter,value:_,viewModel:new d.ViewModel});return new f.MonitorBindingController(t,{binding:new r.MonitorBinding({reader:o.fromMixed,target:e,ticker:y.createTicker(t,n.interval),value:_}),controller:x,label:n.label||e.key})}},"./src/main/js/controller/binding-creators/util.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTicker=void 0;var r=n("./src/main/js/misc/constants.ts"),o=n("./src/main/js/misc/ticker/interval.ts"),c=n("./src/main/js/misc/ticker/manual.ts"),l=n("./src/main/js/misc/type-util.ts");e.createTicker=function(t,e){return 0===e?new c.ManualTicker:new o.IntervalTicker(t,l.TypeUtil.getOrDefault(e,r.Constants.monitorDefaultInterval))}},"./src/main/js/controller/button.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ButtonController=void 0;var r=n("./src/main/js/model/button.ts"),o=n("./src/main/js/view/button.ts"),c=function(){function t(t,e){this.onButtonClick_=this.onButtonClick_.bind(this),this.button=new r.Button(e.title),this.viewModel=e.viewModel,this.view=new o.ButtonView(t,{button:this.button,model:this.viewModel}),this.view.buttonElement.addEventListener("click",this.onButtonClick_)}return t.prototype.onButtonClick_=function(){this.button.click()},t}();e.ButtonController=c},"./src/main/js/controller/container-util.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeExpandedFolderHeight=e.updateAllItemsPositions=void 0;var r=n("./src/main/js/misc/dom-util.ts");e.updateAllItemsPositions=function(t){var e=t.items.filter((function(t){return!t.viewModel.hidden})),n=e[0],r=e[e.length-1];t.items.forEach((function(t){var e=[];t===n&&e.push("first"),t===r&&e.push("last"),t.viewModel.positions=e}))},e.computeExpandedFolderHeight=function(t,e){var n=0;return r.disableTransitionTemporarily(e,(function(){t.expandedHeight=null,t.temporaryExpanded=!0,r.forceReflow(e),n=e.clientHeight,t.temporaryExpanded=null,r.forceReflow(e)})),n}},"./src/main/js/controller/folder.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FolderController=void 0;var r=n("./src/main/js/misc/dom-util.ts"),o=n("./src/main/js/misc/type-util.ts"),c=n("./src/main/js/model/folder.ts"),l=n("./src/main/js/model/ui-container.ts"),h=n("./src/main/js/view/folder.ts"),d=n("./src/main/js/controller/container-util.ts"),f=function(){function t(t,e){this.onContainerTransitionEnd_=this.onContainerTransitionEnd_.bind(this),this.onFolderBeforeChange_=this.onFolderBeforeChange_.bind(this),this.onTitleClick_=this.onTitleClick_.bind(this),this.onUiContainerAdd_=this.onUiContainerAdd_.bind(this),this.onUiContainerItemLayout_=this.onUiContainerItemLayout_.bind(this),this.onUiContainerRemove_=this.onUiContainerRemove_.bind(this),this.viewModel=e.viewModel,this.folder=new c.Folder(e.title,o.TypeUtil.getOrDefault(e.expanded,!0)),this.folder.emitter.on("beforechange",this.onFolderBeforeChange_),this.ucList_=new l.UiContainer,this.ucList_.emitter.on("add",this.onUiContainerAdd_),this.ucList_.emitter.on("itemlayout",this.onUiContainerItemLayout_),this.ucList_.emitter.on("remove",this.onUiContainerRemove_),this.doc_=t,this.view=new h.FolderView(this.doc_,{folder:this.folder,model:this.viewModel}),this.view.titleElement.addEventListener("click",this.onTitleClick_),this.view.containerElement.addEventListener("transitionend",this.onContainerTransitionEnd_)}return Object.defineProperty(t.prototype,"document",{get:function(){return this.doc_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uiContainer",{get:function(){return this.ucList_},enumerable:!1,configurable:!0}),t.prototype.onFolderBeforeChange_=function(t){"expanded"===t.propertyName&&(o.TypeUtil.isEmpty(this.folder.expandedHeight)&&(this.folder.expandedHeight=d.computeExpandedFolderHeight(this.folder,this.view.containerElement)),this.folder.shouldFixHeight=!0,r.forceReflow(this.view.containerElement))},t.prototype.onTitleClick_=function(){this.folder.expanded=!this.folder.expanded},t.prototype.applyUiContainerChange_=function(){d.updateAllItemsPositions(this.uiContainer)},t.prototype.onUiContainerAdd_=function(t){r.insertElementAt(this.view.containerElement,t.uiController.view.element,t.index),this.applyUiContainerChange_()},t.prototype.onUiContainerRemove_=function(t){this.applyUiContainerChange_()},t.prototype.onUiContainerItemLayout_=function(t){this.applyUiContainerChange_()},t.prototype.onContainerTransitionEnd_=function(t){"height"===t.propertyName&&(this.folder.shouldFixHeight=!1,this.folder.expandedHeight=null)},t}();e.FolderController=f},"./src/main/js/controller/input-binding.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputBindingController=void 0;var r=n("./src/main/js/view/labeled.ts"),o=function(){function t(t,e){this.binding=e.binding,this.controller=e.controller,this.view=new r.LabeledView(t,{model:this.controller.viewModel,label:e.label,view:this.controller.view})}return Object.defineProperty(t.prototype,"viewModel",{get:function(){return this.controller.viewModel},enumerable:!1,configurable:!0}),t}();e.InputBindingController=o},"./src/main/js/controller/input/a-palette.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.APaletteInputController=void 0;var r=n("./src/main/js/misc/pointer-handler.ts"),o=n("./src/main/js/model/color.ts"),c=n("./src/main/js/view/input/a-palette.ts"),l=n("./src/main/js/controller/ui-util.ts"),h=function(){function t(t,e){this.onKeyDown_=this.onKeyDown_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=e.value,this.viewModel=e.viewModel,this.view=new c.APaletteInputView(t,{model:this.viewModel,value:this.value}),this.ptHandler_=new r.PointerHandler(t,this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_)}return t.prototype.handlePointerEvent_=function(t){var e=t.px,n=this.value.rawValue.getComponents("hsv"),r=n[0],s=n[1],c=n[2];this.value.rawValue=new o.Color([r,s,c,e],"hsv"),this.view.update()},t.prototype.onPointerDown_=function(t){this.handlePointerEvent_(t.data)},t.prototype.onPointerMove_=function(t){this.handlePointerEvent_(t.data)},t.prototype.onPointerUp_=function(t){this.handlePointerEvent_(t.data)},t.prototype.onKeyDown_=function(t){var e=l.getStepForKey(l.getBaseStepForColor(!0),l.getHorizontalStepKeys(t)),n=this.value.rawValue.getComponents("hsv"),r=n[0],s=n[1],c=n[2],a=n[3];this.value.rawValue=new o.Color([r,s,c,a+e],"hsv")},t}();e.APaletteInputController=h},"./src/main/js/controller/input/checkbox.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CheckboxInputController=void 0;var r=n("./src/main/js/misc/type-util.ts"),o=n("./src/main/js/view/input/checkbox.ts"),c=function(){function t(t,e){this.onInputChange_=this.onInputChange_.bind(this),this.value=e.value,this.viewModel=e.viewModel,this.view=new o.CheckboxInputView(t,{model:this.viewModel,value:this.value}),this.view.inputElement.addEventListener("change",this.onInputChange_)}return t.prototype.onInputChange_=function(t){var e=r.TypeUtil.forceCast(t.currentTarget);this.value.rawValue=e.checked,this.view.update()},t}();e.CheckboxInputController=c},"./src/main/js/controller/input/color-component-texts.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorComponentTextsInputController=void 0;var r=n("./src/main/js/misc/type-util.ts"),o=n("./src/main/js/model/color.ts"),c=n("./src/main/js/view/input/color-component-texts.ts"),l=n("./src/main/js/controller/ui-util.ts"),h=function(){function t(t,e){var n=this;this.onModeSelectChange_=this.onModeSelectChange_.bind(this),this.onInputChange_=this.onInputChange_.bind(this),this.onInputKeyDown_=this.onInputKeyDown_.bind(this),this.parser_=e.parser,this.pickedColor=e.pickedColor,this.viewModel=e.viewModel,this.view=new c.ColorComponentTextsInputView(t,{model:this.viewModel,pickedColor:this.pickedColor}),this.view.inputElements.forEach((function(t){t.addEventListener("change",n.onInputChange_),t.addEventListener("keydown",n.onInputKeyDown_)})),this.view.modeSelectElement.addEventListener("change",this.onModeSelectChange_)}return Object.defineProperty(t.prototype,"value",{get:function(){return this.pickedColor.value},enumerable:!1,configurable:!0}),t.prototype.findIndexOfInputElem_=function(t){for(var e=this.view.inputElements,i=0;i<e.length;i++)if(e[i]===t)return i;return null},t.prototype.updateComponent_=function(t,e){var n=this.pickedColor.mode,r=this.value.rawValue.getComponents(n).map((function(n,i){return i===t?e:n}));this.value.rawValue=new o.Color(r,n),this.view.update()},t.prototype.onInputChange_=function(t){var e=r.TypeUtil.forceCast(t.currentTarget),n=this.parser_(e.value);if(!r.TypeUtil.isEmpty(n)){var o=this.findIndexOfInputElem_(e);r.TypeUtil.isEmpty(o)||this.updateComponent_(o,n)}},t.prototype.onInputKeyDown_=function(t){var e=this.findIndexOfInputElem_(t.currentTarget),n=l.getStepForKey(l.getBaseStepForColor(3===e),l.getVerticalStepKeys(t));if(0!==n){var o=r.TypeUtil.forceCast(t.currentTarget),c=this.parser_(o.value);r.TypeUtil.isEmpty(c)||r.TypeUtil.isEmpty(e)||this.updateComponent_(e,c+n)}},t.prototype.onModeSelectChange_=function(t){var e=t.currentTarget;this.pickedColor.mode=e.value},t}();e.ColorComponentTextsInputController=h},"./src/main/js/controller/input/color-picker.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerInputController=void 0;var r=n("./src/main/js/formatter/number.ts"),o=n("./src/main/js/misc/dom-util.ts"),c=n("./src/main/js/model/color.ts"),l=n("./src/main/js/model/foldable.ts"),h=n("./src/main/js/model/input-value.ts"),d=n("./src/main/js/model/model-sync.ts"),f=n("./src/main/js/parser/string-number.ts"),m=n("./src/main/js/view/input/color-picker.ts"),v=n("./src/main/js/controller/input/a-palette.ts"),y=n("./src/main/js/controller/input/color-component-texts.ts"),_=n("./src/main/js/controller/input/h-palette.ts"),x=n("./src/main/js/controller/input/number-text.ts"),w=n("./src/main/js/controller/input/sv-palette.ts"),E=function(){function t(t,e){var n=this;this.triggerElement=null,this.onFocusableElementBlur_=this.onFocusableElementBlur_.bind(this),this.onKeyDown_=this.onKeyDown_.bind(this),this.pickedColor=e.pickedColor,this.foldable=new l.Foldable,this.viewModel=e.viewModel,this.hPaletteIc_=new _.HPaletteInputController(t,{value:this.pickedColor.value,viewModel:this.viewModel}),this.svPaletteIc_=new w.SvPaletteInputController(t,{value:this.pickedColor.value,viewModel:this.viewModel}),this.alphaIcs_=e.supportsAlpha?{palette:new v.APaletteInputController(t,{value:this.pickedColor.value,viewModel:this.viewModel}),text:new x.NumberTextInputController(t,{formatter:new r.NumberFormatter(2),parser:f.StringNumberParser,step:.1,value:new h.InputValue(0),viewModel:this.viewModel})}:null,this.alphaIcs_&&d.connect({primary:{apply:function(t,e){e.rawValue=t.value.rawValue.getComponents()[3]},emitter:function(t){return t.value.emitter},value:this.pickedColor},secondary:{apply:function(t,e){var n=e.value.rawValue.getComponents();n[3]=t.rawValue,e.value.rawValue=new c.Color(n,e.value.rawValue.mode)},emitter:function(t){return t.emitter},value:this.alphaIcs_.text.value}}),this.compTextsIc_=new y.ColorComponentTextsInputController(t,{parser:f.StringNumberParser,pickedColor:this.pickedColor,viewModel:this.viewModel}),this.view=new m.ColorPickerInputView(t,{alphaInputViews:this.alphaIcs_?{palette:this.alphaIcs_.palette.view,text:this.alphaIcs_.text.view}:null,componentTextsView:this.compTextsIc_.view,foldable:this.foldable,hPaletteInputView:this.hPaletteIc_.view,model:this.viewModel,pickedColor:this.pickedColor,supportsAlpha:e.supportsAlpha,svPaletteInputView:this.svPaletteIc_.view}),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.allFocusableElements.forEach((function(t){t.addEventListener("blur",n.onFocusableElementBlur_)}))}return Object.defineProperty(t.prototype,"value",{get:function(){return this.pickedColor.value},enumerable:!1,configurable:!0}),t.prototype.onFocusableElementBlur_=function(t){var e=this.view.element,n=o.findNextTarget(t);n&&e.contains(n)||n&&n===this.triggerElement&&!o.supportsTouch(e.ownerDocument)||(this.foldable.expanded=!1)},t.prototype.onKeyDown_=function(t){27===t.keyCode&&(this.foldable.expanded=!1)},t}();e.ColorPickerInputController=E},"./src/main/js/controller/input/color-swatch-text.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorSwatchTextInputController=void 0;var r=n("./src/main/js/view/input/color-swatch-text.ts"),o=n("./src/main/js/controller/input/color-swatch.ts"),c=n("./src/main/js/controller/input/text.ts"),l=function(t,e){this.value=e.value,this.viewModel=e.viewModel,this.swatchIc_=new o.ColorSwatchInputController(t,{supportsAlpha:e.supportsAlpha,value:this.value,viewModel:this.viewModel}),this.textIc_=new c.TextInputController(t,{formatter:e.formatter,parser:e.parser,value:this.value,viewModel:this.viewModel}),this.view=new r.ColorSwatchTextInputView(t,{swatchInputView:this.swatchIc_.view,textInputView:this.textIc_.view,model:this.viewModel})};e.ColorSwatchTextInputController=l},"./src/main/js/controller/input/color-swatch.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorSwatchInputController=void 0;var r=n("./src/main/js/misc/type-util.ts"),o=n("./src/main/js/model/picked-color.ts"),c=n("./src/main/js/view/input/color-swatch.ts"),l=n("./src/main/js/controller/input/color-picker.ts"),h=function(){function t(t,e){this.onButtonBlur_=this.onButtonBlur_.bind(this),this.onButtonClick_=this.onButtonClick_.bind(this),this.value=e.value,this.viewModel=e.viewModel,this.pickerIc_=new l.ColorPickerInputController(t,{pickedColor:new o.PickedColor(this.value),supportsAlpha:e.supportsAlpha,viewModel:this.viewModel}),this.view=new c.ColorSwatchInputView(t,{model:this.viewModel,pickerInputView:this.pickerIc_.view,value:this.value}),this.view.buttonElement.addEventListener("blur",this.onButtonBlur_),this.view.buttonElement.addEventListener("click",this.onButtonClick_),this.pickerIc_.triggerElement=this.view.buttonElement}return t.prototype.onButtonBlur_=function(t){var e=this.view.element,n=r.TypeUtil.forceCast(t.relatedTarget);n&&e.contains(n)||(this.pickerIc_.foldable.expanded=!1)},t.prototype.onButtonClick_=function(){this.pickerIc_.foldable.expanded=!this.pickerIc_.foldable.expanded,this.pickerIc_.foldable.expanded&&this.pickerIc_.view.allFocusableElements[0].focus()},t}();e.ColorSwatchInputController=h},"./src/main/js/controller/input/h-palette.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HPaletteInputController=void 0;var r=n("./src/main/js/misc/number-util.ts"),o=n("./src/main/js/misc/pointer-handler.ts"),c=n("./src/main/js/model/color.ts"),l=n("./src/main/js/view/input/h-palette.ts"),h=n("./src/main/js/controller/ui-util.ts"),d=function(){function t(t,e){this.onKeyDown_=this.onKeyDown_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=e.value,this.viewModel=e.viewModel,this.view=new l.HPaletteInputView(t,{model:this.viewModel,value:this.value}),this.ptHandler_=new o.PointerHandler(t,this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_)}return t.prototype.handlePointerEvent_=function(t){var e=r.NumberUtil.map(t.px,0,1,0,360),n=this.value.rawValue.getComponents("hsv"),s=n[1],o=n[2],a=n[3];this.value.rawValue=new c.Color([e,s,o,a],"hsv"),this.view.update()},t.prototype.onPointerDown_=function(t){this.handlePointerEvent_(t.data)},t.prototype.onPointerMove_=function(t){this.handlePointerEvent_(t.data)},t.prototype.onPointerUp_=function(t){this.handlePointerEvent_(t.data)},t.prototype.onKeyDown_=function(t){var e=h.getStepForKey(h.getBaseStepForColor(!1),h.getHorizontalStepKeys(t)),n=this.value.rawValue.getComponents("hsv"),r=n[0],s=n[1],o=n[2],a=n[3];this.value.rawValue=new c.Color([r+e,s,o,a],"hsv")},t}();e.HPaletteInputController=d},"./src/main/js/controller/input/list.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListInputController=void 0;var r=n("./src/main/js/constraint/list.ts"),o=n("./src/main/js/constraint/util.ts"),c=n("./src/main/js/misc/type-util.ts"),l=n("./src/main/js/view/input/list.ts"),h=function(){function t(t,e){var n,c;this.onSelectChange_=this.onSelectChange_.bind(this),this.value_=e.value,this.listItems_=(n=this.value_,((c=n.constraint?o.ConstraintUtil.findConstraint(n.constraint,r.ListConstraint):null)?c.options:null)||[]),this.viewModel=e.viewModel,this.view_=new l.ListInputView(t,{model:this.viewModel,options:this.listItems_,stringifyValue:e.stringifyValue,value:this.value_}),this.view_.selectElement.addEventListener("change",this.onSelectChange_)}return Object.defineProperty(t.prototype,"value",{get:function(){return this.value_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"view",{get:function(){return this.view_},enumerable:!1,configurable:!0}),t.prototype.onSelectChange_=function(t){var e=c.TypeUtil.forceCast(t.currentTarget).selectedOptions.item(0);if(e){var n=Number(e.dataset.index);this.value_.rawValue=this.listItems_[n].value,this.view_.update()}},t}();e.ListInputController=h},"./src/main/js/controller/input/number-text.ts":function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,b){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(t,b)},function(t,b){function e(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)});Object.defineProperty(e,"__esModule",{value:!0}),e.NumberTextInputController=void 0;var c=n("./src/main/js/misc/type-util.ts"),l=n("./src/main/js/controller/ui-util.ts"),h=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.onInputKeyDown_=r.onInputKeyDown_.bind(r),r.step_=c.TypeUtil.getOrDefault(n.step,l.getStepForTextInput(r.value.constraint)),r.view.inputElement.addEventListener("keydown",r.onInputKeyDown_),r}return o(e,t),e.prototype.onInputKeyDown_=function(t){var e=l.getStepForKey(this.step_,l.getVerticalStepKeys(t));0!==e&&(this.value.rawValue+=e,this.view.update())},e}(n("./src/main/js/controller/input/text.ts").TextInputController);e.NumberTextInputController=h},"./src/main/js/controller/input/point-2d-pad-text.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Point2dPadTextInputController=void 0;var r=n("./src/main/js/misc/type-util.ts"),o=n("./src/main/js/view/input/point-2d-pad-text.ts"),c=n("./src/main/js/controller/input/point-2d-pad.ts"),l=n("./src/main/js/controller/input/point-2d-text.ts"),h=function(){function t(t,e){this.onPadButtonBlur_=this.onPadButtonBlur_.bind(this),this.onPadButtonClick_=this.onPadButtonClick_.bind(this),this.value=e.value,this.viewModel=e.viewModel,this.padIc_=new c.Point2dPadInputController(t,{invertsY:e.invertsY,value:this.value,viewModel:this.viewModel}),this.textIc_=new l.Point2dTextInputController(t,{parser:e.parser,value:this.value,viewModel:this.viewModel,xFormatter:e.xFormatter,yFormatter:e.yFormatter}),this.view=new o.Point2dPadTextInputView(t,{model:this.viewModel,padInputView:this.padIc_.view,textInputView:this.textIc_.view}),this.view.padButtonElement.addEventListener("blur",this.onPadButtonBlur_),this.view.padButtonElement.addEventListener("click",this.onPadButtonClick_),this.padIc_.triggerElement=this.view.padButtonElement}return t.prototype.onPadButtonBlur_=function(t){var e=this.view.element,n=r.TypeUtil.forceCast(t.relatedTarget);n&&e.contains(n)||(this.padIc_.foldable.expanded=!1)},t.prototype.onPadButtonClick_=function(){this.padIc_.foldable.expanded=!this.padIc_.foldable.expanded,this.padIc_.foldable.expanded&&this.padIc_.view.allFocusableElements[0].focus()},t}();e.Point2dPadTextInputController=h},"./src/main/js/controller/input/point-2d-pad.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Point2dPadInputController=void 0;var r=n("./src/main/js/constraint/point-2d.ts"),o=n("./src/main/js/misc/dom-util.ts"),c=n("./src/main/js/misc/number-util.ts"),l=n("./src/main/js/misc/pointer-handler.ts"),h=n("./src/main/js/model/foldable.ts"),d=n("./src/main/js/model/point-2d.ts"),f=n("./src/main/js/view/input/point-2d-pad.ts"),m=n("./src/main/js/controller/ui-util.ts"),v=function(){function t(t,e){var n=this;this.triggerElement=null,this.onFocusableElementBlur_=this.onFocusableElementBlur_.bind(this),this.onKeyDown_=this.onKeyDown_.bind(this),this.onPadKeyDown_=this.onPadKeyDown_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=e.value,this.foldable=new h.Foldable,this.maxValue_=m.getSuitableMaxValueForPoint2dPad(this.value.constraint,this.value.rawValue),this.invertsY_=e.invertsY;var o=this.value.constraint;this.xStep_=m.getStepForTextInput(o instanceof r.Point2dConstraint?o.xConstraint:void 0),this.yStep_=m.getStepForTextInput(o instanceof r.Point2dConstraint?o.yConstraint:void 0),this.viewModel=e.viewModel,this.view=new f.Point2dPadInputView(t,{foldable:this.foldable,invertsY:this.invertsY_,maxValue:this.maxValue_,model:this.viewModel,value:this.value}),this.ptHandler_=new l.PointerHandler(t,this.view.padElement),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.padElement.addEventListener("keydown",this.onPadKeyDown_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.allFocusableElements.forEach((function(t){t.addEventListener("blur",n.onFocusableElementBlur_)}))}return t.prototype.handlePointerEvent_=function(t){var e=this.maxValue_,n=c.NumberUtil.map(t.px,0,1,-e,+e),r=c.NumberUtil.map(this.invertsY_?1-t.py:t.py,0,1,-e,+e);this.value.rawValue=new d.Point2d(n,r),this.view.update()},t.prototype.onPointerDown_=function(t){this.handlePointerEvent_(t.data)},t.prototype.onPointerMove_=function(t){this.handlePointerEvent_(t.data)},t.prototype.onPointerUp_=function(t){this.handlePointerEvent_(t.data)},t.prototype.onPadKeyDown_=function(t){m.isArrowKey(t.keyCode)&&t.preventDefault(),this.value.rawValue=new d.Point2d(this.value.rawValue.x+m.getStepForKey(this.xStep_,m.getHorizontalStepKeys(t)),this.value.rawValue.y+m.getStepForKey(this.yStep_,m.getVerticalStepKeys(t))*(this.invertsY_?1:-1))},t.prototype.onFocusableElementBlur_=function(t){var e=this.view.element,n=o.findNextTarget(t);n&&e.contains(n)||n&&n===this.triggerElement&&!o.supportsTouch(e.ownerDocument)||(this.foldable.expanded=!1)},t.prototype.onKeyDown_=function(t){27===t.keyCode&&(this.foldable.expanded=!1)},t}();e.Point2dPadInputController=v},"./src/main/js/controller/input/point-2d-text.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Point2dTextInputController=void 0;var r=n("./src/main/js/constraint/point-2d.ts"),o=n("./src/main/js/misc/type-util.ts"),c=n("./src/main/js/model/point-2d.ts"),l=n("./src/main/js/view/input/point-2d-text.ts"),h=n("./src/main/js/controller/ui-util.ts"),d=function(){function t(t,e){var n=this;this.onInputChange_=this.onInputChange_.bind(this),this.onInputKeyDown_=this.onInputKeyDown_.bind(this),this.parser_=e.parser,this.value=e.value;var o=this.value.constraint;this.xStep_=h.getStepForTextInput(o instanceof r.Point2dConstraint?o.xConstraint:void 0),this.yStep_=h.getStepForTextInput(o instanceof r.Point2dConstraint?o.yConstraint:void 0),this.viewModel=e.viewModel,this.view=new l.Point2dTextInputView(t,{model:this.viewModel,value:this.value,xFormatter:e.xFormatter,yFormatter:e.yFormatter}),this.view.inputElements.forEach((function(t){t.addEventListener("change",n.onInputChange_),t.addEventListener("keydown",n.onInputKeyDown_)}))}return t.prototype.findIndexOfInputElem_=function(t){for(var e=this.view.inputElements,i=0;i<e.length;i++)if(e[i]===t)return i;return null},t.prototype.updateComponent_=function(t,e){var n=this.value.rawValue.getComponents().map((function(n,i){return i===t?e:n}));this.value.rawValue=new c.Point2d(n[0],n[1]),this.view.update()},t.prototype.onInputChange_=function(t){var e=o.TypeUtil.forceCast(t.currentTarget),n=this.parser_(e.value);if(!o.TypeUtil.isEmpty(n)){var r=this.findIndexOfInputElem_(e);o.TypeUtil.isEmpty(r)||this.updateComponent_(r,n)}},t.prototype.onInputKeyDown_=function(t){var e=o.TypeUtil.forceCast(t.currentTarget),n=this.parser_(e.value);if(!o.TypeUtil.isEmpty(n)){var r=this.findIndexOfInputElem_(e);if(!o.TypeUtil.isEmpty(r)){var c=h.getStepForKey(0===r?this.xStep_:this.yStep_,h.getVerticalStepKeys(t));0!==c&&this.updateComponent_(r,n+c)}}},t}();e.Point2dTextInputController=d},"./src/main/js/controller/input/slider-text.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SliderTextInputController=void 0;var r=n("./src/main/js/view/input/slider-text.ts"),o=n("./src/main/js/controller/input/number-text.ts"),c=n("./src/main/js/controller/input/slider.ts"),l=function(){function t(t,e){this.value_=e.value,this.viewModel=e.viewModel,this.sliderIc_=new c.SliderInputController(t,{value:e.value,viewModel:this.viewModel}),this.textIc_=new o.NumberTextInputController(t,{formatter:e.formatter,parser:e.parser,value:e.value,viewModel:this.viewModel}),this.view_=new r.SliderTextInputView(t,{model:this.viewModel,sliderInputView:this.sliderIc_.view,textInputView:this.textIc_.view})}return Object.defineProperty(t.prototype,"value",{get:function(){return this.value_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"view",{get:function(){return this.view_},enumerable:!1,configurable:!0}),t}();e.SliderTextInputController=l},"./src/main/js/controller/input/slider.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SliderInputController=void 0;var r=n("./src/main/js/constraint/range.ts"),o=n("./src/main/js/constraint/util.ts"),c=n("./src/main/js/misc/number-util.ts"),l=n("./src/main/js/misc/pointer-handler.ts"),h=n("./src/main/js/misc/type-util.ts"),d=n("./src/main/js/view/input/slider.ts"),f=n("./src/main/js/controller/ui-util.ts");function m(t){var e=function(t){var e=t.constraint?o.ConstraintUtil.findConstraint(t.constraint,r.RangeConstraint):null;return e?[e.minValue,e.maxValue]:[void 0,void 0]}(t),n=e[0],c=e[1];return[h.TypeUtil.getOrDefault(n,0),h.TypeUtil.getOrDefault(c,100)]}var v=function(){function t(t,e){this.onKeyDown_=this.onKeyDown_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=e.value,this.step_=f.getStepForTextInput(this.value.constraint);var n=m(this.value),r=n[0],o=n[1];this.minValue_=r,this.maxValue_=o,this.viewModel=e.viewModel,this.view=new d.SliderInputView(t,{maxValue:this.maxValue_,minValue:this.minValue_,model:this.viewModel,value:this.value}),this.ptHandler_=new l.PointerHandler(t,this.view.outerElement),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.outerElement.addEventListener("keydown",this.onKeyDown_)}return t.prototype.handlePointerEvent_=function(t){this.value.rawValue=c.NumberUtil.map(t.px,0,1,this.minValue_,this.maxValue_)},t.prototype.onPointerDown_=function(t){this.handlePointerEvent_(t.data)},t.prototype.onPointerMove_=function(t){this.handlePointerEvent_(t.data)},t.prototype.onPointerUp_=function(t){this.handlePointerEvent_(t.data)},t.prototype.onKeyDown_=function(t){this.value.rawValue+=f.getStepForKey(this.step_,f.getHorizontalStepKeys(t))},t}();e.SliderInputController=v},"./src/main/js/controller/input/sv-palette.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SvPaletteInputController=void 0;var r=n("./src/main/js/misc/number-util.ts"),o=n("./src/main/js/misc/pointer-handler.ts"),c=n("./src/main/js/model/color.ts"),l=n("./src/main/js/view/input/sv-palette.ts"),h=n("./src/main/js/controller/ui-util.ts"),d=function(){function t(t,e){this.onKeyDown_=this.onKeyDown_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=e.value,this.viewModel=e.viewModel,this.view=new l.SvPaletteInputView(t,{model:this.viewModel,value:this.value}),this.ptHandler_=new o.PointerHandler(t,this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_)}return t.prototype.handlePointerEvent_=function(t){var e=r.NumberUtil.map(t.px,0,1,0,100),n=r.NumberUtil.map(t.py,0,1,100,0),o=this.value.rawValue.getComponents("hsv"),l=o[0],a=o[3];this.value.rawValue=new c.Color([l,e,n,a],"hsv"),this.view.update()},t.prototype.onPointerDown_=function(t){this.handlePointerEvent_(t.data)},t.prototype.onPointerMove_=function(t){this.handlePointerEvent_(t.data)},t.prototype.onPointerUp_=function(t){this.handlePointerEvent_(t.data)},t.prototype.onKeyDown_=function(t){h.isArrowKey(t.keyCode)&&t.preventDefault();var e=this.value.rawValue.getComponents("hsv"),n=e[0],s=e[1],r=e[2],a=e[3],o=h.getBaseStepForColor(!1);this.value.rawValue=new c.Color([n,s+h.getStepForKey(o,h.getHorizontalStepKeys(t)),r+h.getStepForKey(o,h.getVerticalStepKeys(t)),a],"hsv")},t}();e.SvPaletteInputController=d},"./src/main/js/controller/input/text.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextInputController=void 0;var r=n("./src/main/js/misc/type-util.ts"),o=n("./src/main/js/view/input/text.ts"),c=function(){function t(t,e){this.onInputChange_=this.onInputChange_.bind(this),this.parser_=e.parser,this.value=e.value,this.viewModel=e.viewModel,this.view=new o.TextInputView(t,{formatter:e.formatter,model:this.viewModel,value:this.value}),this.view.inputElement.addEventListener("change",this.onInputChange_)}return t.prototype.onInputChange_=function(t){var e=r.TypeUtil.forceCast(t.currentTarget).value,n=this.parser_(e);r.TypeUtil.isEmpty(n)||(this.value.rawValue=n),this.view.update()},t}();e.TextInputController=c},"./src/main/js/controller/monitor-binding.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MonitorBindingController=void 0;var r=n("./src/main/js/view/labeled.ts"),o=function(){function t(t,e){var n=this;this.binding=e.binding,this.controller=e.controller,this.view=new r.LabeledView(t,{label:e.label,model:this.viewModel,view:this.controller.view}),this.viewModel.emitter.on("dispose",(function(){n.binding.dispose()}))}return Object.defineProperty(t.prototype,"viewModel",{get:function(){return this.controller.viewModel},enumerable:!1,configurable:!0}),t}();e.MonitorBindingController=o},"./src/main/js/controller/monitor/graph.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GraphMonitorController=void 0;var r=n("./src/main/js/misc/number-util.ts"),o=n("./src/main/js/model/graph-cursor.ts"),c=n("./src/main/js/view/monitor/graph.ts"),l=function(){function t(t,e){this.onGraphMouseLeave_=this.onGraphMouseLeave_.bind(this),this.onGraphMouseMove_=this.onGraphMouseMove_.bind(this),this.value=e.value,this.cursor_=new o.GraphCursor,this.viewModel=e.viewModel,this.view=new c.GraphMonitorView(t,{cursor:this.cursor_,formatter:e.formatter,maxValue:e.maxValue,minValue:e.minValue,model:this.viewModel,value:this.value}),this.view.graphElement.addEventListener("mouseleave",this.onGraphMouseLeave_),this.view.graphElement.addEventListener("mousemove",this.onGraphMouseMove_)}return t.prototype.onGraphMouseLeave_=function(){this.cursor_.index=-1},t.prototype.onGraphMouseMove_=function(t){var e=this.view.graphElement.getBoundingClientRect(),n=t.offsetX;this.cursor_.index=Math.floor(r.NumberUtil.map(n,0,e.width,0,this.value.totalCount))},t}();e.GraphMonitorController=l},"./src/main/js/controller/monitor/multi-log.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MultiLogMonitorController=void 0;var r=n("./src/main/js/view/monitor/multi-log.ts"),o=function(t,e){this.value=e.value,this.viewModel=e.viewModel,this.view=new r.MultiLogMonitorView(t,{formatter:e.formatter,model:this.viewModel,value:this.value})};e.MultiLogMonitorController=o},"./src/main/js/controller/monitor/single-log.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SingleLogMonitorController=void 0;var r=n("./src/main/js/view/monitor/single-log.ts"),o=function(t,e){this.value=e.value,this.viewModel=e.viewModel,this.view=new r.SingleLogMonitorView(t,{formatter:e.formatter,model:this.viewModel,value:this.value})};e.SingleLogMonitorController=o},"./src/main/js/controller/root.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RootController=void 0;var r=n("./src/main/js/misc/dom-util.ts"),o=n("./src/main/js/misc/type-util.ts"),c=n("./src/main/js/model/folder.ts"),l=n("./src/main/js/model/ui-container.ts"),h=n("./src/main/js/view/root.ts"),d=n("./src/main/js/controller/container-util.ts"),f=function(){function t(t,e){this.onContainerTransitionEnd_=this.onContainerTransitionEnd_.bind(this),this.onFolderBeforeChange_=this.onFolderBeforeChange_.bind(this),this.onTitleClick_=this.onTitleClick_.bind(this),this.onUiContainerAdd_=this.onUiContainerAdd_.bind(this),this.onUiContainerItemLayout_=this.onUiContainerItemLayout_.bind(this),this.onUiContainerRemove_=this.onUiContainerRemove_.bind(this),this.folder=function(t){return t.title?new c.Folder(t.title,o.TypeUtil.getOrDefault(t.expanded,!0)):null}(e),this.folder&&this.folder.emitter.on("beforechange",this.onFolderBeforeChange_),this.ucList_=new l.UiContainer,this.ucList_.emitter.on("add",this.onUiContainerAdd_),this.ucList_.emitter.on("itemlayout",this.onUiContainerItemLayout_),this.ucList_.emitter.on("remove",this.onUiContainerRemove_),this.doc_=t,this.viewModel=e.viewModel,this.view=new h.RootView(this.doc_,{folder:this.folder,model:this.viewModel}),this.view.titleElement&&this.view.titleElement.addEventListener("click",this.onTitleClick_),this.view.containerElement.addEventListener("transitionend",this.onContainerTransitionEnd_)}return Object.defineProperty(t.prototype,"document",{get:function(){return this.doc_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uiContainer",{get:function(){return this.ucList_},enumerable:!1,configurable:!0}),t.prototype.onFolderBeforeChange_=function(t){if("expanded"===t.propertyName){var e=this.folder;e&&(o.TypeUtil.isEmpty(e.expandedHeight)&&(e.expandedHeight=d.computeExpandedFolderHeight(e,this.view.containerElement)),e.shouldFixHeight=!0,r.forceReflow(this.view.containerElement))}},t.prototype.applyUiContainerChange_=function(){d.updateAllItemsPositions(this.uiContainer)},t.prototype.onUiContainerAdd_=function(t){r.insertElementAt(this.view.containerElement,t.uiController.view.element,t.index),this.applyUiContainerChange_()},t.prototype.onUiContainerRemove_=function(t){this.applyUiContainerChange_()},t.prototype.onUiContainerItemLayout_=function(t){this.applyUiContainerChange_()},t.prototype.onTitleClick_=function(){this.folder&&(this.folder.expanded=!this.folder.expanded)},t.prototype.onContainerTransitionEnd_=function(t){"height"===t.propertyName&&this.folder&&(this.folder.shouldFixHeight=!1,this.folder.expandedHeight=null)},t}();e.RootController=f},"./src/main/js/controller/separator.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SeparatorController=void 0;var r=n("./src/main/js/view/separator.ts"),o=function(t,e){this.viewModel=e.viewModel,this.view=new r.SeparatorView(t,{model:this.viewModel})};e.SeparatorController=o},"./src/main/js/controller/ui-util.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getBaseStepForColor=e.getSuitableMaxValueForPoint2dPad=e.getSuitableDecimalDigits=e.isArrowKey=e.isVerticalArrowKey=e.getHorizontalStepKeys=e.getVerticalStepKeys=e.getStepForKey=e.getStepForTextInput=e.findControllers=e.normalizeInputParamsOptions=void 0;var r=n("./src/main/js/constraint/point-2d.ts"),o=n("./src/main/js/constraint/range.ts"),c=n("./src/main/js/constraint/step.ts"),l=n("./src/main/js/constraint/util.ts"),h=n("./src/main/js/misc/number-util.ts"),d=n("./src/main/js/misc/type-util.ts"),f=n("./src/main/js/controller/folder.ts");function m(t){var e=function(t){var e=t?l.ConstraintUtil.findConstraint(t,c.StepConstraint):null;return e?e.step:null}(t);return d.TypeUtil.getOrDefault(e,1)}function v(t){return 38===t||40===t}function y(t,e){var n=t&&l.ConstraintUtil.findConstraint(t,o.RangeConstraint);if(n)return Math.max(Math.abs(n.minValue||0),Math.abs(n.maxValue||0));var r=m(t);return Math.max(10*Math.abs(r),10*Math.abs(e))}e.normalizeInputParamsOptions=function(t,e){if(Array.isArray(t))return t.map((function(t){return{text:t.text,value:e(t.value)}}));var n=t;return Object.keys(n).reduce((function(t,text){return t.concat({text:text,value:e(n[text])})}),[])},e.findControllers=function t(e,n){return e.reduce((function(e,r){return r instanceof f.FolderController&&e.push.apply(e,t(r.uiContainer.items,n)),r instanceof n&&e.push(r),e}),[])},e.getStepForTextInput=m,e.getStepForKey=function(t,e){var n=t*(e.altKey?.1:1)*(e.shiftKey?10:1);return e.upKey?+n:e.downKey?-n:0},e.getVerticalStepKeys=function(t){return{altKey:t.altKey,downKey:40===t.keyCode,shiftKey:t.shiftKey,upKey:38===t.keyCode}},e.getHorizontalStepKeys=function(t){return{altKey:t.altKey,downKey:37===t.keyCode,shiftKey:t.shiftKey,upKey:39===t.keyCode}},e.isVerticalArrowKey=v,e.isArrowKey=function(t){return v(t)||37===t||39===t},e.getSuitableDecimalDigits=function(t,e){var n=t&&l.ConstraintUtil.findConstraint(t,c.StepConstraint);return n?h.NumberUtil.getDecimalDigits(n.step):Math.max(h.NumberUtil.getDecimalDigits(e),2)},e.getSuitableMaxValueForPoint2dPad=function(t,e){var n=t instanceof r.Point2dConstraint?t.xConstraint:void 0,o=t instanceof r.Point2dConstraint?t.yConstraint:void 0,c=y(n,e.x),l=y(o,e.y);return Math.max(c,l)},e.getBaseStepForColor=function(t){return t?.1:1}},"./src/main/js/converter/boolean.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toString=e.fromMixed=void 0,e.fromMixed=function(t){return"false"!==t&&!!t},e.toString=function(t){return String(t)}},"./src/main/js/converter/color.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toRgbaNumber=e.toRgbNumber=e.getStringifier=e.toFunctionalHslaString=e.toFunctionalHslString=e.toFunctionalRgbaString=e.toFunctionalRgbString=e.toHexRgbaString=e.toHexRgbString=e.fromNumberToRgba=e.fromNumberToRgb=e.fromObject=e.fromString=void 0;var r=n("./src/main/js/formatter/number.ts"),o=n("./src/main/js/misc/color-model.ts"),c=n("./src/main/js/misc/number-util.ts"),l=n("./src/main/js/model/color.ts"),h=n("./src/main/js/parser/number-color.ts"),d=n("./src/main/js/parser/string-color.ts");function f(){return new l.Color([0,0,0],"rgb")}function m(t){var e=c.NumberUtil.constrain(Math.floor(t),0,255).toString(16);return 1===e.length?"0"+e:e}function v(t){return"#"+o.withoutAlpha(t.getComponents("rgb")).map(m).join("")}function y(t){var e=t.getComponents("rgb");return"#"+[e[0],e[1],e[2],255*e[3]].map(m).join("")}function _(t){var e=new r.NumberFormatter(0);return"rgb("+o.withoutAlpha(t.getComponents("rgb")).map((function(t){return e.format(t)})).join(", ")+")"}function x(t){var e=new r.NumberFormatter(2),n=new r.NumberFormatter(0);return"rgba("+t.getComponents("rgb").map((function(t,r){return(3===r?e:n).format(t)})).join(", ")+")"}function w(t){var e=new r.NumberFormatter(0);return"hsl("+o.withoutAlpha(t.getComponents("hsl")).map((function(t){return e.format(t)})).join(", ")+")"}function E(t){var e=new r.NumberFormatter(2),n=new r.NumberFormatter(0);return"hsla("+t.getComponents("hsl").map((function(t,r){return(3===r?e:n).format(t)})).join(", ")+")"}e.fromString=function(t){if("string"==typeof t){var e=d.CompositeParser(t);if(e)return e}return f()},e.fromObject=function(t){return l.Color.isColorObject(t)?l.Color.fromObject(t):f()},e.fromNumberToRgb=function(t){if("number"==typeof t){var e=h.RgbParser(t);if(e)return e}return f()},e.fromNumberToRgba=function(t){if("number"==typeof t){var e=h.RgbaParser(t);if(e)return e}return f()},e.toHexRgbString=v,e.toHexRgbaString=y,e.toFunctionalRgbString=_,e.toFunctionalRgbaString=x,e.toFunctionalHslString=w,e.toFunctionalHslaString=E;var M={"func.hsl":w,"func.hsla":E,"func.rgb":_,"func.rgba":x,"hex.rgb":v,"hex.rgba":y};e.getStringifier=function(t){return M[t]},e.toRgbNumber=function(t){return o.withoutAlpha(t.getComponents("rgb")).reduce((function(t,e){return t<<8|255&Math.floor(e)}),0)},e.toRgbaNumber=function(t){return t.getComponents("rgb").reduce((function(t,e,n){return t<<8|255&Math.floor(3===n?255*e:e)}),0)}},"./src/main/js/converter/number.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toString=e.fromMixed=void 0;var r=n("./src/main/js/misc/type-util.ts"),o=n("./src/main/js/parser/string-number.ts");e.fromMixed=function(t){if("number"==typeof t)return t;if("string"==typeof t){var e=o.StringNumberParser(t);if(!r.TypeUtil.isEmpty(e))return e}return 0},e.toString=function(t){return String(t)}},"./src/main/js/converter/point-2d.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fromMixed=void 0;var r=n("./src/main/js/model/point-2d.ts"),o=n("./src/main/js/parser/any-point-2d.ts");e.fromMixed=function(t){return o.AnyPoint2dParser(t)||new r.Point2d}},"./src/main/js/converter/string.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toString=e.fromMixed=void 0,e.fromMixed=function(t){return String(t)},e.toString=function(t){return t}},"./src/main/js/formatter/boolean.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BooleanFormatter=void 0;var r=n("./src/main/js/converter/boolean.ts"),o=function(){function t(){}return t.prototype.format=function(t){return r.toString(t)},t}();e.BooleanFormatter=o},"./src/main/js/formatter/color.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorFormatter=void 0;var r=function(){function t(t){this.stringifier_=t}return t.prototype.format=function(t){return this.stringifier_(t)},t}();e.ColorFormatter=r},"./src/main/js/formatter/number.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NumberFormatter=void 0;var r=function(){function t(t){this.digits_=t}return Object.defineProperty(t.prototype,"digits",{get:function(){return this.digits_},enumerable:!1,configurable:!0}),t.prototype.format=function(t){return t.toFixed(Math.max(Math.min(this.digits_,20),0))},t}();e.NumberFormatter=r},"./src/main/js/formatter/string.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringFormatter=void 0;var r=function(){function t(){}return t.prototype.format=function(t){return t},t}();e.StringFormatter=r},"./src/main/js/index.ts":function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,b){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(t,b)},function(t,b){function e(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)});Object.defineProperty(e,"__esModule",{value:!0});var c=n("./src/main/sass/bundle.scss"),l=function(t){function e(e){var n=t.call(this,e)||this;return function(t){if(!t.querySelector("style[data-for=tweakpane]")){var e=t.createElement("style");e.dataset.for="tweakpane",e.textContent=c.toString(),t.head&&t.head.appendChild(e)}}(n.document),n}return o(e,t),e}(n("./src/main/js/tweakpane-without-style.ts").TweakpaneWithoutStyle);e.default=l},"./src/main/js/misc/class-name.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClassName=void 0;var r="tp",o={"":"v",input:"iv",monitor:"mv"};e.ClassName=function(t,e){var n=o[e||""];return function(e,o){return[r,"-",t,n,e?"_"+e:"",o?"-"+o:""].join("")}}},"./src/main/js/misc/color-model.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.convertMode=e.withAlpha=e.withoutAlpha=e.opaque=e.hsvToRgb=void 0;var r=n("./src/main/js/misc/number-util.ts");function o(t,g,b){var rp=r.NumberUtil.constrain(t/255,0,1),e=r.NumberUtil.constrain(g/255,0,1),n=r.NumberUtil.constrain(b/255,0,1),o=Math.max(rp,e,n),c=Math.min(rp,e,n),l=o-c,h=0,s=0,d=(c+o)/2;return 0!==l&&(s=d>.5?l/(2-c-o):l/(o+c),h=(h=rp===o?(e-n)/l:e===o?2+(n-rp)/l:4+(rp-e)/l)/6+(h<0?1:0)),[360*h,100*s,100*d]}function c(t,s,e){var n,o,c,l,h,d,rp,f,m,v=(t%360+360)%360,y=r.NumberUtil.constrain(s/100,0,1),_=r.NumberUtil.constrain(e/100,0,1),x=(1-Math.abs(2*_-1))*y,w=x*(1-Math.abs(v/60%2-1)),E=_-x/2;return v>=0&&v<60?(rp=(n=[x,w,0])[0],f=n[1],m=n[2]):v>=60&&v<120?(rp=(o=[w,x,0])[0],f=o[1],m=o[2]):v>=120&&v<180?(rp=(c=[0,x,w])[0],f=c[1],m=c[2]):v>=180&&v<240?(rp=(l=[0,w,x])[0],f=l[1],m=l[2]):v>=240&&v<300?(rp=(h=[w,0,x])[0],f=h[1],m=h[2]):(rp=(d=[x,0,w])[0],f=d[1],m=d[2]),[255*(rp+E),255*(f+E),255*(m+E)]}function l(t,g,b){var rp=r.NumberUtil.constrain(t/255,0,1),e=r.NumberUtil.constrain(g/255,0,1),n=r.NumberUtil.constrain(b/255,0,1),o=Math.max(rp,e,n),c=o-Math.min(rp,e,n);return[0===c?0:o===rp?((e-n)/c%6+6)%6*60:o===e?60*((n-rp)/c+2):60*((rp-e)/c+4),100*(0===o?0:c/o),100*o]}function h(t,s,e){var n,o,c,l,h,d,rp,f,m,v=r.NumberUtil.loop(t,360),y=r.NumberUtil.constrain(s/100,0,1),_=r.NumberUtil.constrain(e/100,0,1),x=_*y,w=x*(1-Math.abs(v/60%2-1)),E=_-x;return v>=0&&v<60?(rp=(n=[x,w,0])[0],f=n[1],m=n[2]):v>=60&&v<120?(rp=(o=[w,x,0])[0],f=o[1],m=o[2]):v>=120&&v<180?(rp=(c=[0,x,w])[0],f=c[1],m=c[2]):v>=180&&v<240?(rp=(l=[0,w,x])[0],f=l[1],m=l[2]):v>=240&&v<300?(rp=(h=[w,0,x])[0],f=h[1],m=h[2]):(rp=(d=[x,0,w])[0],f=d[1],m=d[2]),[255*(rp+E),255*(f+E),255*(m+E)]}e.hsvToRgb=h,e.opaque=function(t){return[t[0],t[1],t[2],1]},e.withoutAlpha=function(t){return[t[0],t[1],t[2]]},e.withAlpha=function(t,e){return[t[0],t[1],t[2],e]};var d={hsl:{hsl:function(t,s,e){return[t,s,e]},hsv:function(t,s,e){var n=c(t,s,e);return l(n[0],n[1],n[2])},rgb:c},hsv:{hsl:function(t,s,e){var n=h(t,s,e);return o(n[0],n[1],n[2])},hsv:function(t,s,e){return[t,s,e]},rgb:h},rgb:{hsl:o,hsv:l,rgb:function(t,g,b){return[t,g,b]}}};e.convertMode=function(t,e,n){var r;return(r=d[e])[n].apply(r,t)}},"./src/main/js/misc/constants.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Constants=void 0,e.Constants={monitorDefaultInterval:200}},"./src/main/js/misc/disposing-util.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.disposeElement=void 0,e.disposeElement=function(t){return t&&t.parentElement&&t.parentElement.removeChild(t),null}},"./src/main/js/misc/dom-util.ts":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.findNextTarget=e.indexOfChildElement=e.removeElement=e.insertElementAt=e.createSvgIconElement=e.getCanvasContext=e.getWindowDocument=e.supportsTouch=e.disableTransitionTemporarily=e.forceReflow=e.SVG_NS=void 0;var r=n("./src/main/js/misc/type-util.ts");e.SVG_NS="http://www.w3.org/2000/svg",e.forceReflow=function(element){element.offsetHeight},e.disableTransitionTemporarily=function(element,t){var e=element.style.transition;element.style.transition="none",t(),element.style.transition=e},e.supportsTouch=function(t){return void 0!==t.ontouchstart},e.getWindowDocument=function(){return r.TypeUtil.forceCast(new Function("return this")()).document},e.getCanvasContext=function(e){return t.browser?e.getContext("2d"):null};var o={p2dpad:'<path d="M8 2V14" stroke="currentColor" stroke-width="1.5"/><path d="M2 8H14" stroke="currentColor" stroke-width="1.5"/><circle cx="8" cy="8" r="2" fill="currentColor"/>'};e.createSvgIconElement=function(t,n){var r=t.createElementNS(e.SVG_NS,"svg");return r.innerHTML=o[n],r},e.insertElementAt=function(t,element,e){t.insertBefore(element,t.children[e])},e.removeElement=function(element){element.parentElement&&element.parentElement.removeChild(element)},e.indexOfChildElement=function(element){var t=element.parentElement;return t?Array.prototype.slice.call(t.children).indexOf(element):-1},e.findNextTarget=function(t){return t.relatedTarget?r.TypeUtil.forceCast(t.relatedTarget):"explicitOriginalTarget"in t?t.explicitOriginalTarget:null}}).call(this,n("./node_modules/process/browser.js"))},"./src/main/js/misc/emitter.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Emitter=void 0;var r=function(){function t(){this.observers_={}}return t.prototype.on=function(t,e){var n=this.observers_[t];return n||(n=this.observers_[t]=[]),n.push({handler:e}),this},t.prototype.off=function(t,e){var n=this.observers_[t];return n&&(this.observers_[t]=n.filter((function(t){return t.handler!==e}))),this},t.prototype.emit=function(t,e){var n=this.observers_[t];n&&n.forEach((function(t){t.handler(e)}))},t}();e.Emitter=r},"./src/main/js/misc/number-util.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NumberUtil=void 0,e.NumberUtil={map:function(t,e,n,r,o){return r+(t-e)/(n-e)*(o-r)},getDecimalDigits:function(t){return String(t.toFixed(10)).split(".")[1].replace(/0+$/,"").length},constrain:function(t,e,n){return Math.min(Math.max(t,e),n)},loop:function(t,e){return(t%e+e)%e}}},"./src/main/js/misc/pane-error.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PaneError=void 0;var r=function(){function t(t){this.message=function(t){return"alreadydisposed"===t.type?"View has been already disposed":"emptyvalue"===t.type?"Value is empty for "+t.context.key:"invalidparams"===t.type?"Invalid parameters for "+t.context.name:"nomatchingcontroller"===t.type?"No matching controller for "+t.context.key:"shouldneverhappen"===t.type?"This error should never happen":"Unexpected error"}(t),this.name=this.constructor.name,this.stack=new Error(this.message).stack,this.type=t.type}return t.alreadyDisposed=function(){return new t({type:"alreadydisposed"})},t.shouldNeverHappen=function(){return new t({type:"shouldneverhappen"})},t}();e.PaneError=r,r.prototype=Object.create(Error.prototype),r.prototype.constructor=r},"./src/main/js/misc/pointer-handler.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PointerHandler=void 0;var r=n("./src/main/js/misc/dom-util.ts"),o=n("./src/main/js/misc/emitter.ts"),c=function(){function t(t,element){this.onDocumentMouseMove_=this.onDocumentMouseMove_.bind(this),this.onDocumentMouseUp_=this.onDocumentMouseUp_.bind(this),this.onMouseDown_=this.onMouseDown_.bind(this),this.onTouchMove_=this.onTouchMove_.bind(this),this.onTouchStart_=this.onTouchStart_.bind(this),this.document=t,this.element=element,this.emitter=new o.Emitter,this.pressed_=!1,r.supportsTouch(this.document)?(element.addEventListener("touchstart",this.onTouchStart_),element.addEventListener("touchmove",this.onTouchMove_)):(element.addEventListener("mousedown",this.onMouseDown_),this.document.addEventListener("mousemove",this.onDocumentMouseMove_),this.document.addEventListener("mouseup",this.onDocumentMouseUp_))}return t.prototype.computePosition_=function(t,e){var rect=this.element.getBoundingClientRect();return{px:t/rect.width,py:e/rect.height}},t.prototype.onMouseDown_=function(t){var e;t.preventDefault(),null===(e=t.currentTarget)||void 0===e||e.focus(),this.pressed_=!0,this.emitter.emit("down",{data:this.computePosition_(t.offsetX,t.offsetY),sender:this})},t.prototype.onDocumentMouseMove_=function(t){if(this.pressed_){var e=this.document.defaultView,rect=this.element.getBoundingClientRect();this.emitter.emit("move",{data:this.computePosition_(t.pageX-((e&&e.scrollX||0)+rect.left),t.pageY-((e&&e.scrollY||0)+rect.top)),sender:this})}},t.prototype.onDocumentMouseUp_=function(t){if(this.pressed_){this.pressed_=!1;var e=this.document.defaultView,rect=this.element.getBoundingClientRect();this.emitter.emit("up",{data:this.computePosition_(t.pageX-((e&&e.scrollX||0)+rect.left),t.pageY-((e&&e.scrollY||0)+rect.top)),sender:this})}},t.prototype.onTouchStart_=function(t){t.preventDefault();var e=t.targetTouches[0],rect=this.element.getBoundingClientRect();this.emitter.emit("down",{data:this.computePosition_(e.clientX-rect.left,e.clientY-rect.top),sender:this})},t.prototype.onTouchMove_=function(t){var e=t.targetTouches[0],rect=this.element.getBoundingClientRect();this.emitter.emit("move",{data:this.computePosition_(e.clientX-rect.left,e.clientY-rect.top),sender:this})},t}();e.PointerHandler=c},"./src/main/js/misc/ticker/interval.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IntervalTicker=void 0;var r=n("./src/main/js/model/disposable.ts"),o=n("./src/main/js/misc/emitter.ts"),c=function(){function t(t,e){var n=this;if(this.onTick_=this.onTick_.bind(this),this.doc_=t,this.emitter=new o.Emitter,e<=0)this.id_=null;else{var c=this.doc_.defaultView;c&&(this.id_=c.setInterval(this.onTick_,e))}this.disposable=new r.Disposable,this.disposable.emitter.on("dispose",(function(){if(null!==n.id_){var t=n.doc_.defaultView;t&&t.clearInterval(n.id_)}n.id_=null}))}return t.prototype.onTick_=function(){this.emitter.emit("tick",{sender:this})},t}();e.IntervalTicker=c},"./src/main/js/misc/ticker/manual.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ManualTicker=void 0;var r=n("./src/main/js/model/disposable.ts"),o=n("./src/main/js/misc/emitter.ts"),c=function(){function t(){this.disposable=new r.Disposable,this.emitter=new o.Emitter}return t.prototype.tick=function(){this.emitter.emit("tick",{sender:this})},t}();e.ManualTicker=c},"./src/main/js/misc/type-util.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TypeUtil=void 0,e.TypeUtil={forceCast:function(t){return t},isEmpty:function(t){return null==t},getOrDefault:function(t,n){return e.TypeUtil.isEmpty(t)?n:t},deepEqualsArray:function(t,e){if(t.length!==e.length)return!1;for(var i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}}},"./src/main/js/model/button.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Button=void 0;var r=n("./src/main/js/misc/emitter.ts"),o=function(){function t(title){this.emitter=new r.Emitter,this.title=title}return t.prototype.click=function(){this.emitter.emit("click",{sender:this})},t}();e.Button=o},"./src/main/js/model/color.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Color=void 0;var r=n("./src/main/js/misc/color-model.ts"),o=n("./src/main/js/misc/number-util.ts"),c=n("./src/main/js/misc/type-util.ts"),l={hsl:function(t){return[o.NumberUtil.loop(t[0],360),o.NumberUtil.constrain(t[1],0,100),o.NumberUtil.constrain(t[2],0,100),o.NumberUtil.constrain(c.TypeUtil.getOrDefault(t[3],1),0,1)]},hsv:function(t){return[o.NumberUtil.loop(t[0],360),o.NumberUtil.constrain(t[1],0,100),o.NumberUtil.constrain(t[2],0,100),o.NumberUtil.constrain(c.TypeUtil.getOrDefault(t[3],1),0,1)]},rgb:function(t){return[o.NumberUtil.constrain(t[0],0,255),o.NumberUtil.constrain(t[1],0,255),o.NumberUtil.constrain(t[2],0,255),o.NumberUtil.constrain(c.TypeUtil.getOrDefault(t[3],1),0,1)]}};function h(t,e){return"object"==typeof t&&!c.TypeUtil.isEmpty(t)&&e in t&&"number"==typeof t[e]}var d=function(){function t(t,e){this.mode_=e,this.comps_=l[e](t)}return t.fromObject=function(e){return new t("a"in e?[e.r,e.g,e.b,e.a]:[e.r,e.g,e.b],"rgb")},t.toRgbaObject=function(t){return t.toRgbaObject()},t.isRgbColorObject=function(t){return h(t,"r")&&h(t,"g")&&h(t,"b")},t.isRgbaColorObject=function(t){return this.isRgbColorObject(t)&&h(t,"a")},t.isColorObject=function(t){return this.isRgbColorObject(t)},Object.defineProperty(t.prototype,"mode",{get:function(){return this.mode_},enumerable:!1,configurable:!0}),t.prototype.getComponents=function(t){return r.withAlpha(r.convertMode(r.withoutAlpha(this.comps_),this.mode_,t||this.mode_),this.comps_[3])},t.prototype.toRgbaObject=function(){var t=this.getComponents("rgb");return{r:t[0],g:t[1],b:t[2],a:t[3]}},t}();e.Color=d},"./src/main/js/model/disposable.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Disposable=void 0;var r=n("./src/main/js/misc/emitter.ts"),o=function(){function t(){this.emitter=new r.Emitter,this.disposed_=!1}return Object.defineProperty(t.prototype,"disposed",{get:function(){return this.disposed_},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){return!this.disposed_&&(this.disposed_=!0,this.emitter.emit("dispose",{sender:this}),!0)},t}();e.Disposable=o},"./src/main/js/model/foldable.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Foldable=void 0;var r=n("./src/main/js/misc/emitter.ts"),o=function(){function t(){this.emitter=new r.Emitter,this.expanded_=!1}return Object.defineProperty(t.prototype,"expanded",{get:function(){return this.expanded_},set:function(t){this.expanded_!==t&&(this.expanded_=t,this.emitter.emit("change",{sender:this}))},enumerable:!1,configurable:!0}),t}();e.Foldable=o},"./src/main/js/model/folder.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Folder=void 0;var r=n("./src/main/js/misc/emitter.ts"),o=n("./src/main/js/misc/type-util.ts"),c=function(){function t(title,t){this.emitter=new r.Emitter,this.expanded_=t,this.expandedHeight_=null,this.temporaryExpanded_=null,this.shouldFixHeight_=!1,this.title=title}return Object.defineProperty(t.prototype,"expanded",{get:function(){return this.expanded_},set:function(t){this.expanded_!==t&&(this.emitter.emit("beforechange",{propertyName:"expanded",sender:this}),this.expanded_=t,this.emitter.emit("change",{propertyName:"expanded",sender:this}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"temporaryExpanded",{get:function(){return this.temporaryExpanded_},set:function(t){this.temporaryExpanded_!==t&&(this.emitter.emit("beforechange",{propertyName:"temporaryExpanded",sender:this}),this.temporaryExpanded_=t,this.emitter.emit("change",{propertyName:"temporaryExpanded",sender:this}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expandedHeight",{get:function(){return this.expandedHeight_},set:function(t){this.expandedHeight_!==t&&(this.emitter.emit("beforechange",{propertyName:"expandedHeight",sender:this}),this.expandedHeight_=t,this.emitter.emit("change",{propertyName:"expandedHeight",sender:this}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shouldFixHeight",{get:function(){return this.shouldFixHeight_},set:function(t){this.shouldFixHeight_!==t&&(this.emitter.emit("beforechange",{propertyName:"shouldFixHeight",sender:this}),this.shouldFixHeight_=t,this.emitter.emit("change",{propertyName:"shouldFixHeight",sender:this}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"styleExpanded",{get:function(){return o.TypeUtil.getOrDefault(this.temporaryExpanded,this.expanded)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"styleHeight",{get:function(){return this.styleExpanded?this.shouldFixHeight&&!o.TypeUtil.isEmpty(this.expandedHeight)?this.expandedHeight+"px":"auto":"0"},enumerable:!1,configurable:!0}),t}();e.Folder=c},"./src/main/js/model/graph-cursor.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GraphCursor=void 0;var r=n("./src/main/js/misc/emitter.ts"),o=function(){function t(){this.emitter=new r.Emitter,this.index_=-1}return Object.defineProperty(t.prototype,"index",{get:function(){return this.index_},set:function(t){this.index_!==t&&(this.index_=t,this.emitter.emit("change",{index:t,sender:this}))},enumerable:!1,configurable:!0}),t}();e.GraphCursor=o},"./src/main/js/model/input-value.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputValue=void 0;var r=n("./src/main/js/misc/emitter.ts"),o=function(){function t(t,e){this.constraint_=e,this.emitter=new r.Emitter,this.rawValue_=t}return t.equalsValue=function(t,e){return t===e},Object.defineProperty(t.prototype,"constraint",{get:function(){return this.constraint_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rawValue",{get:function(){return this.rawValue_},set:function(e){var n=this.constraint_?this.constraint_.constrain(e):e;!t.equalsValue(this.rawValue_,n)&&(this.rawValue_=n,this.emitter.emit("change",{rawValue:n,sender:this}))},enumerable:!1,configurable:!0}),t}();e.InputValue=o},"./src/main/js/model/list.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.List=void 0;var r=n("./src/main/js/misc/emitter.ts"),o=function(){function t(){this.emitter=new r.Emitter,this.items_=[]}return Object.defineProperty(t.prototype,"items",{get:function(){return this.items_},enumerable:!1,configurable:!0}),t.prototype.add=function(t,e){var n=void 0!==e?e:this.items_.length;this.items_.splice(n,0,t),this.emitter.emit("add",{index:n,item:t,sender:this})},t.prototype.remove=function(t){var e=this.items_.indexOf(t);e<0||(this.items_.splice(e,1),this.emitter.emit("remove",{sender:this}))},t}();e.List=o},"./src/main/js/model/model-sync.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.connect=void 0,e.connect=function(t){var e=t.primary,n=t.secondary;e.emitter(e.value).on("change",(function(){e.apply(e.value,n.value)})),n.emitter(n.value).on("change",(function(){n.apply(n.value,e.value)})),e.apply(e.value,n.value)}},"./src/main/js/model/monitor-value.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MonitorValue=void 0;var r=n("./src/main/js/misc/emitter.ts"),o=function(){function t(t){this.emitter=new r.Emitter,this.rawValues_=[],this.totalCount_=t}return Object.defineProperty(t.prototype,"rawValues",{get:function(){return this.rawValues_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalCount",{get:function(){return this.totalCount_},enumerable:!1,configurable:!0}),t.prototype.append=function(t){this.rawValues_.push(t),this.rawValues_.length>this.totalCount_&&this.rawValues_.splice(0,this.rawValues_.length-this.totalCount_),this.emitter.emit("update",{rawValue:t,sender:this})},t}();e.MonitorValue=o},"./src/main/js/model/picked-color.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PickedColor=void 0;var r=n("./src/main/js/misc/emitter.ts"),o=function(){function t(t){this.onValueChange_=this.onValueChange_.bind(this),this.mode_="rgb",this.value=t,this.value.emitter.on("change",this.onValueChange_),this.emitter=new r.Emitter}return Object.defineProperty(t.prototype,"mode",{get:function(){return this.mode_},set:function(t){this.mode_!==t&&(this.mode_=t,this.emitter.emit("change",{propertyName:"mode",sender:this}))},enumerable:!1,configurable:!0}),t.prototype.onValueChange_=function(){this.emitter.emit("change",{propertyName:"value",sender:this})},t}();e.PickedColor=o},"./src/main/js/model/point-2d.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Point2d=void 0;var r=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.getComponents=function(){return[this.x,this.y]},t.prototype.toObject=function(){return{x:this.x,y:this.y}},t}();e.Point2d=r},"./src/main/js/model/target.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Target=void 0;var r=n("./src/main/js/misc/type-util.ts"),o=function(){function t(object,t,e){this.obj_=object,this.key_=t,this.presetKey_=r.TypeUtil.getOrDefault(e,t)}return Object.defineProperty(t.prototype,"key",{get:function(){return this.key_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"presetKey",{get:function(){return this.presetKey_},enumerable:!1,configurable:!0}),t.prototype.read=function(){return this.obj_[this.key_]},t.prototype.write=function(t){this.obj_[this.key_]=t},t}();e.Target=o},"./src/main/js/model/ui-container.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UiContainer=void 0;var r=n("./src/main/js/controller/folder.ts"),o=n("./src/main/js/controller/input-binding.ts"),c=n("./src/main/js/controller/monitor-binding.ts"),l=n("./src/main/js/misc/emitter.ts"),h=n("./src/main/js/model/list.ts"),d=function(){function t(){this.onItemFolderFold_=this.onItemFolderFold_.bind(this),this.onListItemLayout_=this.onListItemLayout_.bind(this),this.onSubitemLayout_=this.onSubitemLayout_.bind(this),this.onSubitemFolderFold_=this.onSubitemFolderFold_.bind(this),this.onSubitemInputChange_=this.onSubitemInputChange_.bind(this),this.onSubitemMonitorUpdate_=this.onSubitemMonitorUpdate_.bind(this),this.onItemInputChange_=this.onItemInputChange_.bind(this),this.onListAdd_=this.onListAdd_.bind(this),this.onListItemDispose_=this.onListItemDispose_.bind(this),this.onListRemove_=this.onListRemove_.bind(this),this.onItemMonitorUpdate_=this.onItemMonitorUpdate_.bind(this),this.ucList_=new h.List,this.emitter=new l.Emitter,this.ucList_.emitter.on("add",this.onListAdd_),this.ucList_.emitter.on("remove",this.onListRemove_)}return Object.defineProperty(t.prototype,"items",{get:function(){return this.ucList_.items},enumerable:!1,configurable:!0}),t.prototype.add=function(t,e){this.ucList_.add(t,e)},t.prototype.onListAdd_=function(t){var e=t.item;if(this.emitter.emit("add",{index:t.index,sender:this,uiController:e}),e.viewModel.emitter.on("dispose",this.onListItemDispose_),e.viewModel.emitter.on("change",this.onListItemLayout_),e instanceof o.InputBindingController)(n=e.binding.emitter).on("change",this.onItemInputChange_);else if(e instanceof c.MonitorBindingController)(n=e.binding.emitter).on("update",this.onItemMonitorUpdate_);else if(e instanceof r.FolderController){var n;e.folder.emitter.on("change",this.onItemFolderFold_),(n=e.uiContainer.emitter).on("itemfold",this.onSubitemFolderFold_),n.on("itemlayout",this.onSubitemLayout_),n.on("inputchange",this.onSubitemInputChange_),n.on("monitorupdate",this.onSubitemMonitorUpdate_)}},t.prototype.onListRemove_=function(t){this.emitter.emit("remove",{sender:this})},t.prototype.onListItemLayout_=function(t){"hidden"!==t.propertyName&&"positions"!==t.propertyName||this.emitter.emit("itemlayout",{sender:this})},t.prototype.onListItemDispose_=function(t){var e=this;this.ucList_.items.filter((function(t){return t.viewModel.disposed})).forEach((function(t){e.ucList_.remove(t)}))},t.prototype.onItemInputChange_=function(t){this.emitter.emit("inputchange",{inputBinding:t.sender,sender:this,value:t.rawValue})},t.prototype.onItemMonitorUpdate_=function(t){this.emitter.emit("monitorupdate",{monitorBinding:t.sender,sender:this,value:t.rawValue})},t.prototype.onItemFolderFold_=function(t){"expanded"===t.propertyName&&this.emitter.emit("itemfold",{expanded:t.sender.expanded,sender:this})},t.prototype.onSubitemLayout_=function(t){this.emitter.emit("itemlayout",{sender:this})},t.prototype.onSubitemInputChange_=function(t){this.emitter.emit("inputchange",{inputBinding:t.inputBinding,sender:this,value:t.value})},t.prototype.onSubitemMonitorUpdate_=function(t){this.emitter.emit("monitorupdate",{monitorBinding:t.monitorBinding,sender:this,value:t.value})},t.prototype.onSubitemFolderFold_=function(t){this.emitter.emit("itemfold",{expanded:t.expanded,sender:this})},t}();e.UiContainer=d},"./src/main/js/model/view-model.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModel=void 0;var r=n("./src/main/js/misc/emitter.ts"),o=n("./src/main/js/misc/type-util.ts"),c=n("./src/main/js/model/disposable.ts"),l=function(){function t(){this.onDispose_=this.onDispose_.bind(this),this.emitter=new r.Emitter,this.positions_=[],this.hidden_=!1,this.disposable_=new c.Disposable,this.disposable_.emitter.on("dispose",this.onDispose_)}return Object.defineProperty(t.prototype,"hidden",{get:function(){return this.hidden_},set:function(t){this.hidden_!==t&&(this.hidden_=t,this.emitter.emit("change",{propertyName:"hidden",sender:this}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"positions",{get:function(){return this.positions_},set:function(t){o.TypeUtil.deepEqualsArray(t,this.positions_)||(this.positions_=t,this.emitter.emit("change",{propertyName:"positions",sender:this}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disposed",{get:function(){return this.disposable_.disposed},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){this.disposable_.dispose()},t.prototype.onDispose_=function(){this.emitter.emit("dispose",{sender:this})},t}();e.ViewModel=l},"./src/main/js/model/view-positions.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getAll=void 0,e.getAll=function(){return["first","last"]}},"./src/main/js/parser/any-point-2d.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AnyPoint2dParser=void 0;var r=n("./src/main/js/misc/type-util.ts"),o=n("./src/main/js/model/point-2d.ts");e.AnyPoint2dParser=function(t){if(r.TypeUtil.isEmpty(t))return null;var e=t.x,n=t.y;return"number"!=typeof e||"number"!=typeof n?null:new o.Point2d(e,n)}},"./src/main/js/parser/number-color.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RgbaParser=e.RgbParser=void 0;var r=n("./src/main/js/misc/number-util.ts"),o=n("./src/main/js/model/color.ts");e.RgbParser=function(t){return new o.Color([t>>16&255,t>>8&255,255&t],"rgb")},e.RgbaParser=function(t){return new o.Color([t>>24&255,t>>16&255,t>>8&255,r.NumberUtil.map(255&t,0,255,0,1)],"rgb")}},"./src/main/js/parser/string-color.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasAlphaComponent=e.CompositeParser=e.getNotation=void 0;var r=n("./src/main/js/misc/number-util.ts"),o=n("./src/main/js/model/color.ts");function c(text,t){var e=text.match(/^(.+)%$/);return e?Math.min(.01*parseFloat(e[1])*t,t):Math.min(parseFloat(text),t)}var l={deg:function(t){return t},grad:function(t){return 360*t/400},rad:function(t){return 360*t/(2*Math.PI)},turn:function(t){return 360*t}};function h(text){var t=text.match(/^([0-9.]+?)(deg|grad|rad|turn)$/);if(!t)return parseFloat(text);var e=parseFloat(t[1]),n=t[2];return l[n](e)}var d={"func.rgb":function(text){var t=text.match(/^rgb\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!t)return null;var e=[c(t[1],255),c(t[2],255),c(t[3],255)];return isNaN(e[0])||isNaN(e[1])||isNaN(e[2])?null:new o.Color(e,"rgb")},"func.rgba":function(text){var t=text.match(/^rgba\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!t)return null;var e=[c(t[1],255),c(t[2],255),c(t[3],255),c(t[4],1)];return isNaN(e[0])||isNaN(e[1])||isNaN(e[2])||isNaN(e[3])?null:new o.Color(e,"rgb")},"func.hsl":function(text){var t=text.match(/^hsl\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!t)return null;var e=[h(t[1]),c(t[2],100),c(t[3],100)];return isNaN(e[0])||isNaN(e[1])||isNaN(e[2])?null:new o.Color(e,"hsl")},"func.hsla":function(text){var t=text.match(/^hsla\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!t)return null;var e=[h(t[1]),c(t[2],100),c(t[3],100),c(t[4],1)];return isNaN(e[0])||isNaN(e[1])||isNaN(e[2])||isNaN(e[3])?null:new o.Color(e,"hsl")},"hex.rgb":function(text){var t=text.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(t)return new o.Color([parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)],"rgb");var e=text.match(/^#([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return e?new o.Color([parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)],"rgb"):null},"hex.rgba":function(text){var t=text.match(/^#?([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(t)return new o.Color([parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16),r.NumberUtil.map(parseInt(t[4]+t[4],16),0,255,0,1)],"rgb");var e=text.match(/^#?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return e?new o.Color([parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),r.NumberUtil.map(parseInt(e[4],16),0,255,0,1)],"rgb"):null}};function f(text){return Object.keys(d).reduce((function(t,e){return t||((0,d[e])(text)?e:null)}),null)}e.getNotation=f,e.CompositeParser=function(text){var t=f(text);return t?d[t](text):null},e.hasAlphaComponent=function(t){return"func.hsla"===t||"func.rgba"===t||"hex.rgba"===t}},"./src/main/js/parser/string-number.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringNumberParser=void 0,e.StringNumberParser=function(text){var t=parseFloat(text);return isNaN(t)?null:t}},"./src/main/js/tweakpane-without-style.ts":function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,b){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(t,b)},function(t,b){function e(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)});Object.defineProperty(e,"__esModule",{value:!0}),e.TweakpaneWithoutStyle=void 0;var c=n("./src/main/js/api/root.ts"),l=n("./src/main/js/controller/root.ts"),h=n("./src/main/js/misc/class-name.ts"),d=n("./src/main/js/misc/dom-util.ts"),f=n("./src/main/js/misc/pane-error.ts"),m=n("./src/main/js/misc/type-util.ts"),v=n("./src/main/js/model/view-model.ts"),y=function(t){function e(e){var n=this,r=e||{},o=m.TypeUtil.getOrDefault(r.document,d.getWindowDocument()),c=new l.RootController(o,{expanded:r.expanded,viewModel:new v.ViewModel,title:r.title});return(n=t.call(this,c)||this).containerElem_=r.container||function(t){var e=t.createElement("div");return e.classList.add(h.ClassName("dfw")()),t.body&&t.body.appendChild(e),e}(o),n.containerElem_.appendChild(n.element),n.doc_=o,n.usesDefaultWrapper_=!r.container,n}return o(e,t),e.prototype.dispose=function(){var e=this.containerElem_;if(!e)throw f.PaneError.alreadyDisposed();if(this.usesDefaultWrapper_){var n=e.parentElement;n&&n.removeChild(e)}this.containerElem_=null,this.doc_=null,t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"document",{get:function(){if(!this.doc_)throw f.PaneError.alreadyDisposed();return this.doc_},enumerable:!1,configurable:!0}),e}(c.RootApi);e.TweakpaneWithoutStyle=y},"./src/main/js/view/button.ts":function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,b){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(t,b)},function(t,b){function e(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)});Object.defineProperty(e,"__esModule",{value:!0}),e.ButtonView=void 0;var c=n("./src/main/js/misc/class-name.ts"),l=n("./src/main/js/misc/disposing-util.ts"),h=n("./src/main/js/misc/pane-error.ts"),d=n("./src/main/js/view/view.ts"),f=c.ClassName("btn"),m=function(t){function e(e,n){var r=t.call(this,e,n)||this;r.button=n.button,r.element.classList.add(f());var o=e.createElement("button");return o.classList.add(f("b")),o.textContent=r.button.title,r.element.appendChild(o),r.buttonElem_=o,n.model.emitter.on("dispose",(function(){r.buttonElem_=l.disposeElement(r.buttonElem_)})),r}return o(e,t),Object.defineProperty(e.prototype,"buttonElement",{get:function(){if(!this.buttonElem_)throw h.PaneError.alreadyDisposed();return this.buttonElem_},enumerable:!1,configurable:!0}),e}(d.View);e.ButtonView=m},"./src/main/js/view/folder.ts":function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,b){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(t,b)},function(t,b){function e(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)});Object.defineProperty(e,"__esModule",{value:!0}),e.FolderView=void 0;var c=n("./src/main/js/misc/class-name.ts"),l=n("./src/main/js/misc/disposing-util.ts"),h=n("./src/main/js/misc/pane-error.ts"),d=n("./src/main/js/view/view.ts"),f=c.ClassName("fld"),m=function(t){function e(e,n){var r=t.call(this,e,n)||this;r.onFolderChange_=r.onFolderChange_.bind(r),r.folder_=n.folder,r.folder_.emitter.on("change",r.onFolderChange_),r.element.classList.add(f());var o=e.createElement("button");o.classList.add(f("t")),o.textContent=r.folder_.title,r.element.appendChild(o),r.titleElem_=o;var c=e.createElement("div");c.classList.add(f("m")),r.titleElem_.appendChild(c);var h=e.createElement("div");return h.classList.add(f("c")),r.element.appendChild(h),r.containerElem_=h,r.applyModel_(),n.model.emitter.on("dispose",(function(){r.containerElem_=l.disposeElement(r.containerElem_),r.titleElem_=l.disposeElement(r.titleElem_)})),r}return o(e,t),Object.defineProperty(e.prototype,"titleElement",{get:function(){if(!this.titleElem_)throw h.PaneError.alreadyDisposed();return this.titleElem_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"containerElement",{get:function(){if(!this.containerElem_)throw h.PaneError.alreadyDisposed();return this.containerElem_},enumerable:!1,configurable:!0}),e.prototype.applyModel_=function(){var t=this.containerElem_;if(!t)throw h.PaneError.alreadyDisposed();var e=this.folder_.styleExpanded,n=f(void 0,"expanded");e?this.element.classList.add(n):this.element.classList.remove(n),t.style.height=this.folder_.styleHeight},e.prototype.onFolderChange_=function(){this.applyModel_()},e}(d.View);e.FolderView=m},"./src/main/js/view/input/a-palette.ts":function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,b){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(t,b)},function(t,b){function e(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)});Object.defineProperty(e,"__esModule",{value:!0}),e.APaletteInputView=void 0;var c=n("./src/main/js/converter/color.ts"),l=n("./src/main/js/misc/class-name.ts"),h=n("./src/main/js/misc/disposing-util.ts"),d=n("./src/main/js/misc/number-util.ts"),f=n("./src/main/js/misc/pane-error.ts"),m=n("./src/main/js/model/color.ts"),v=n("./src/main/js/view/view.ts"),y=l.ClassName("apl","input"),_=function(t){function e(e,n){var r=t.call(this,e,n)||this;r.onValueChange_=r.onValueChange_.bind(r),r.value=n.value,r.value.emitter.on("change",r.onValueChange_),r.element.classList.add(y()),r.element.tabIndex=0;var o=e.createElement("div");o.classList.add(y("b")),r.element.appendChild(o);var c=e.createElement("div");c.classList.add(y("c")),o.appendChild(c),r.colorElem_=c;var l=e.createElement("div");l.classList.add(y("m")),r.element.appendChild(l),r.markerElem_=l;var d=e.createElement("div");return d.classList.add(y("p")),r.markerElem_.appendChild(d),r.previewElem_=d,r.update(),n.model.emitter.on("dispose",(function(){r.colorElem_=h.disposeElement(r.colorElem_),r.markerElem_=h.disposeElement(r.markerElem_)})),r}return o(e,t),e.prototype.update=function(){if(!this.markerElem_||!this.previewElem_||!this.colorElem_)throw f.PaneError.alreadyDisposed();var t=this.value.rawValue,e=t.getComponents("rgb"),n=new m.Color([e[0],e[1],e[2],0],"rgb"),r=new m.Color([e[0],e[1],e[2],255],"rgb"),o=["to right",c.toFunctionalRgbaString(n),c.toFunctionalRgbaString(r)];this.colorElem_.style.background="linear-gradient("+o.join(",")+")",this.previewElem_.style.backgroundColor=c.toFunctionalRgbaString(t);var l=d.NumberUtil.map(e[3],0,1,0,100);this.markerElem_.style.left=l+"%"},e.prototype.onValueChange_=function(){this.update()},e}(v.View);e.APaletteInputView=_},"./src/main/js/view/input/checkbox.ts":function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,b){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(t,b)},function(t,b){function e(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)});Object.defineProperty(e,"__esModule",{value:!0}),e.CheckboxInputView=void 0;var c=n("./src/main/js/misc/class-name.ts"),l=n("./src/main/js/misc/disposing-util.ts"),h=n("./src/main/js/misc/pane-error.ts"),d=n("./src/main/js/view/view.ts"),f=c.ClassName("ckb","input"),m=function(t){function e(e,n){var r=t.call(this,e,n)||this;r.onValueChange_=r.onValueChange_.bind(r),r.element.classList.add(f());var o=e.createElement("label");o.classList.add(f("l")),r.element.appendChild(o);var c=e.createElement("input");c.classList.add(f("i")),c.type="checkbox",o.appendChild(c),r.inputElem_=c;var h=e.createElement("div");return h.classList.add(f("m")),o.appendChild(h),n.value.emitter.on("change",r.onValueChange_),r.value=n.value,r.update(),n.model.emitter.on("dispose",(function(){r.inputElem_=l.disposeElement(r.inputElem_)})),r}return o(e,t),Object.defineProperty(e.prototype,"inputElement",{get:function(){if(!this.inputElem_)throw h.PaneError.alreadyDisposed();return this.inputElem_},enumerable:!1,configurable:!0}),e.prototype.update=function(){if(!this.inputElem_)throw h.PaneError.alreadyDisposed();this.inputElem_.checked=this.value.rawValue},e.prototype.onValueChange_=function(){this.update()},e}(d.View);e.CheckboxInputView=m},"./src/main/js/view/input/color-component-texts.ts":function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,b){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(t,b)},function(t,b){function e(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)});Object.defineProperty(e,"__esModule",{value:!0}),e.ColorComponentTextsInputView=void 0;var c=n("./src/main/js/formatter/number.ts"),l=n("./src/main/js/misc/class-name.ts"),h=n("./src/main/js/misc/disposing-util.ts"),d=n("./src/main/js/misc/pane-error.ts"),f=n("./src/main/js/view/view.ts"),m=l.ClassName("cctxts","input"),v=new c.NumberFormatter(0),y=function(t){function e(e,n){var r=t.call(this,e,n)||this;r.onValueChange_=r.onValueChange_.bind(r),r.element.classList.add(m());var o=e.createElement("div");o.classList.add(m("m")),r.modeSelectElement=function(t){var e=t.createElement("select");return e.appendChild([{text:"RGB",value:"rgb"},{text:"HSL",value:"hsl"},{text:"HSV",value:"hsv"}].reduce((function(e,n){var r=t.createElement("option");return r.textContent=n.text,r.value=n.value,e.appendChild(r),e}),t.createDocumentFragment())),e}(e),r.modeSelectElement.classList.add(m("ms")),o.appendChild(r.modeSelectElement);var c=e.createElement("div");c.classList.add(m("mm")),o.appendChild(c),r.element.appendChild(o);var l=e.createElement("div");l.classList.add(m("w")),r.element.appendChild(l);var d=[0,1,2].map((function(){var t=e.createElement("input");return t.classList.add(m("i")),t.type="text",t}));return d.forEach((function(t){l.appendChild(t)})),r.inputElems_=[d[0],d[1],d[2]],r.pickedColor=n.pickedColor,r.pickedColor.emitter.on("change",r.onValueChange_),r.update(),n.model.emitter.on("dispose",(function(){r.inputElems_&&(r.inputElems_.forEach((function(t){h.disposeElement(t)})),r.inputElems_=null)})),r}return o(e,t),Object.defineProperty(e.prototype,"inputElements",{get:function(){if(!this.inputElems_)throw d.PaneError.alreadyDisposed();return this.inputElems_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.pickedColor.value},enumerable:!1,configurable:!0}),e.prototype.update=function(){var t=this.inputElems_;if(!t)throw d.PaneError.alreadyDisposed();this.pickedColor.value.rawValue.getComponents(this.pickedColor.mode).forEach((function(e,n){var r=t[n];r&&(r.value=v.format(e))}))},e.prototype.onValueChange_=function(){this.update()},e}(f.View);e.ColorComponentTextsInputView=y},"./src/main/js/view/input/color-picker.ts":function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,b){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(t,b)},function(t,b){function e(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}),c=this&&this.__spreadArrays||function(){for(var s=0,i=0,t=arguments.length;i<t;i++)s+=arguments[i].length;var e=Array(s),n=0;for(i=0;i<t;i++)for(var a=arguments[i],r=0,o=a.length;r<o;r++,n++)e[n]=a[r];return e};Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerInputView=void 0;var l=n("./src/main/js/misc/class-name.ts"),h=n("./src/main/js/misc/type-util.ts"),d=n("./src/main/js/view/view.ts"),f=l.ClassName("clp","input"),m=function(t){function e(e,n){var r=t.call(this,e,n)||this;r.onFoldableChange_=r.onFoldableChange_.bind(r),r.onValueChange_=r.onValueChange_.bind(r),r.pickedColor=n.pickedColor,r.pickedColor.value.emitter.on("change",r.onValueChange_),r.foldable=n.foldable,r.foldable.emitter.on("change",r.onFoldableChange_),r.element.classList.add(f());var o=e.createElement("div");o.classList.add(f("hsv"));var c=e.createElement("div");c.classList.add(f("sv")),r.svPaletteView_=n.svPaletteInputView,c.appendChild(r.svPaletteView_.element),o.appendChild(c);var l=e.createElement("div");l.classList.add(f("h")),r.hPaletteView_=n.hPaletteInputView,l.appendChild(r.hPaletteView_.element),o.appendChild(l),r.element.appendChild(o);var h=e.createElement("div");if(h.classList.add(f("rgb")),r.compTextsView_=n.componentTextsView,h.appendChild(r.compTextsView_.element),r.element.appendChild(h),n.alphaInputViews){r.alphaViews_={palette:n.alphaInputViews.palette,text:n.alphaInputViews.text};var d=e.createElement("div");d.classList.add(f("a"));var m=e.createElement("div");m.classList.add(f("ap")),m.appendChild(r.alphaViews_.palette.element),d.appendChild(m);var v=e.createElement("div");v.classList.add(f("at")),v.appendChild(r.alphaViews_.text.element),d.appendChild(v),r.element.appendChild(d)}return r.update(),r}return o(e,t),Object.defineProperty(e.prototype,"allFocusableElements",{get:function(){var t=c([this.svPaletteView_.element,this.hPaletteView_.element],this.compTextsView_.inputElements);return this.alphaViews_&&t.push(this.alphaViews_.palette.element,this.alphaViews_.text.inputElement),h.TypeUtil.forceCast(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.pickedColor.value},enumerable:!1,configurable:!0}),e.prototype.update=function(){this.foldable.expanded?this.element.classList.add(f(void 0,"expanded")):this.element.classList.remove(f(void 0,"expanded"))},e.prototype.onValueChange_=function(){this.update()},e.prototype.onFoldableChange_=function(){this.update()},e}(d.View);e.ColorPickerInputView=m},"./src/main/js/view/input/color-swatch-text.ts":function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,b){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(t,b)},function(t,b){function e(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)});Object.defineProperty(e,"__esModule",{value:!0}),e.ColorSwatchTextInputView=void 0;var c=n("./src/main/js/misc/class-name.ts"),l=n("./src/main/js/view/view.ts"),h=c.ClassName("cswtxt","input"),d=function(t){function e(e,n){var r=t.call(this,e,n)||this;r.element.classList.add(h());var o=e.createElement("div");o.classList.add(h("s")),r.swatchInputView_=n.swatchInputView,o.appendChild(r.swatchInputView_.element),r.element.appendChild(o);var c=e.createElement("div");return c.classList.add(h("t")),r.textInputView=n.textInputView,c.appendChild(r.textInputView.element),r.element.appendChild(c),r}return o(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.textInputView.value},enumerable:!1,configurable:!0}),e.prototype.update=function(){this.swatchInputView_.update(),this.textInputView.update()},e}(l.View);e.ColorSwatchTextInputView=d},"./src/main/js/view/input/color-swatch.ts":function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,b){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(t,b)},function(t,b){function e(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)});Object.defineProperty(e,"__esModule",{value:!0}),e.ColorSwatchInputView=void 0;var c=n("./src/main/js/converter/color.ts"),l=n("./src/main/js/misc/class-name.ts"),h=n("./src/main/js/misc/disposing-util.ts"),d=n("./src/main/js/misc/pane-error.ts"),f=n("./src/main/js/view/view.ts"),m=l.ClassName("csw","input"),v=function(t){function e(e,n){var r=t.call(this,e,n)||this;if(null===r.element)throw d.PaneError.alreadyDisposed();r.onValueChange_=r.onValueChange_.bind(r),n.value.emitter.on("change",r.onValueChange_),r.value=n.value,r.element.classList.add(m());var o=e.createElement("div");o.classList.add(m("sw")),r.element.appendChild(o),r.swatchElem_=o;var c=e.createElement("button");c.classList.add(m("b")),r.element.appendChild(c),r.buttonElem_=c;var l=e.createElement("div");return l.classList.add(m("p")),r.pickerView_=n.pickerInputView,l.appendChild(r.pickerView_.element),r.element.appendChild(l),r.update(),n.model.emitter.on("dispose",(function(){r.buttonElem_=h.disposeElement(r.buttonElem_),r.swatchElem_=h.disposeElement(r.swatchElem_)})),r}return o(e,t),Object.defineProperty(e.prototype,"buttonElement",{get:function(){if(null===this.buttonElem_)throw d.PaneError.alreadyDisposed();return this.buttonElem_},enumerable:!1,configurable:!0}),e.prototype.update=function(){if(!this.swatchElem_)throw d.PaneError.alreadyDisposed();var t=this.value.rawValue;this.swatchElem_.style.backgroundColor=c.toHexRgbaString(t)},e.prototype.onValueChange_=function(){this.update()},e}(f.View);e.ColorSwatchInputView=v},"./src/main/js/view/input/h-palette.ts":function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,b){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(t,b)},function(t,b){function e(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)});Object.defineProperty(e,"__esModule",{value:!0}),e.HPaletteInputView=void 0;var c=n("./src/main/js/converter/color.ts"),l=n("./src/main/js/misc/class-name.ts"),h=n("./src/main/js/misc/disposing-util.ts"),d=n("./src/main/js/misc/number-util.ts"),f=n("./src/main/js/misc/pane-error.ts"),m=n("./src/main/js/model/color.ts"),v=n("./src/main/js/view/view.ts"),y=l.ClassName("hpl","input"),_=function(t){function e(e,n){var r=t.call(this,e,n)||this;r.onValueChange_=r.onValueChange_.bind(r),r.value=n.value,r.value.emitter.on("change",r.onValueChange_),r.element.classList.add(y()),r.element.tabIndex=0;var o=e.createElement("div");o.classList.add(y("c")),r.element.appendChild(o),r.colorElem_=o;var c=e.createElement("div");return c.classList.add(y("m")),r.element.appendChild(c),r.markerElem_=c,r.update(),n.model.emitter.on("dispose",(function(){r.colorElem_=h.disposeElement(r.colorElem_),r.markerElem_=h.disposeElement(r.markerElem_)})),r}return o(e,t),e.prototype.update=function(){if(!this.markerElem_)throw f.PaneError.alreadyDisposed();var t=this.value.rawValue.getComponents("hsv")[0];this.markerElem_.style.backgroundColor=c.toFunctionalRgbString(new m.Color([t,100,100],"hsv"));var e=d.NumberUtil.map(t,0,360,0,100);this.markerElem_.style.left=e+"%"},e.prototype.onValueChange_=function(){this.update()},e}(v.View);e.HPaletteInputView=_},"./src/main/js/view/input/list.ts":function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,b){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(t,b)},function(t,b){function e(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)});Object.defineProperty(e,"__esModule",{value:!0}),e.ListInputView=void 0;var c=n("./src/main/js/misc/class-name.ts"),l=n("./src/main/js/misc/disposing-util.ts"),h=n("./src/main/js/misc/pane-error.ts"),d=n("./src/main/js/view/view.ts"),f=c.ClassName("lst","input"),m=function(t){function e(e,n){var r=t.call(this,e,n)||this;r.onValueChange_=r.onValueChange_.bind(r),r.element.classList.add(f()),r.stringifyValue_=n.stringifyValue;var o=e.createElement("select");o.classList.add(f("s")),n.options.forEach((function(t,n){var c=e.createElement("option");c.dataset.index=String(n),c.textContent=t.text,c.value=r.stringifyValue_(t.value),o.appendChild(c)})),r.element.appendChild(o),r.selectElem_=o;var c=e.createElement("div");return c.classList.add(f("m")),r.element.appendChild(c),n.value.emitter.on("change",r.onValueChange_),r.value=n.value,r.update(),n.model.emitter.on("dispose",(function(){r.selectElem_=l.disposeElement(r.selectElem_)})),r}return o(e,t),Object.defineProperty(e.prototype,"selectElement",{get:function(){if(!this.selectElem_)throw h.PaneError.alreadyDisposed();return this.selectElem_},enumerable:!1,configurable:!0}),e.prototype.update=function(){if(!this.selectElem_)throw h.PaneError.alreadyDisposed();this.selectElem_.value=this.stringifyValue_(this.value.rawValue)},e.prototype.onValueChange_=function(){this.update()},e}(d.View);e.ListInputView=m},"./src/main/js/view/input/point-2d-pad-text.ts":function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,b){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(t,b)},function(t,b){function e(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)});Object.defineProperty(e,"__esModule",{value:!0}),e.Point2dPadTextInputView=void 0;var c=n("./src/main/js/misc/class-name.ts"),l=n("./src/main/js/misc/dom-util.ts"),h=n("./src/main/js/view/view.ts"),d=c.ClassName("p2dpadtxt","input"),f=function(t){function e(e,n){var r=t.call(this,e,n)||this;r.element.classList.add(d());var o=e.createElement("div");o.classList.add(d("w")),r.element.appendChild(o);var c=e.createElement("button");c.classList.add(d("b")),c.appendChild(l.createSvgIconElement(e,"p2dpad")),o.appendChild(c),r.padButtonElem_=c;var h=e.createElement("div");h.classList.add(d("p")),o.appendChild(h),r.padInputView_=n.padInputView,h.appendChild(r.padInputView_.element);var f=e.createElement("div");return f.classList.add(d("t")),r.textInputView_=n.textInputView,f.appendChild(r.textInputView_.element),r.element.appendChild(f),r}return o(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.textInputView_.value},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"padButtonElement",{get:function(){return this.padButtonElem_},enumerable:!1,configurable:!0}),e.prototype.update=function(){this.padInputView_.update(),this.textInputView_.update()},e}(h.View);e.Point2dPadTextInputView=f},"./src/main/js/view/input/point-2d-pad.ts":function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,b){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(t,b)},function(t,b){function e(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)});Object.defineProperty(e,"__esModule",{value:!0}),e.Point2dPadInputView=void 0;var c=n("./src/main/js/misc/class-name.ts"),l=n("./src/main/js/misc/disposing-util.ts"),h=n("./src/main/js/misc/dom-util.ts"),d=n("./src/main/js/misc/number-util.ts"),f=n("./src/main/js/misc/pane-error.ts"),m=n("./src/main/js/view/view.ts"),v=h.SVG_NS,y=c.ClassName("p2dpad","input"),_=function(t){function e(e,n){var r=t.call(this,e,n)||this;r.onFoldableChange_=r.onFoldableChange_.bind(r),r.onValueChange_=r.onValueChange_.bind(r),r.foldable=n.foldable,r.foldable.emitter.on("change",r.onFoldableChange_),r.invertsY_=n.invertsY,r.maxValue_=n.maxValue,r.element.classList.add(y());var o=e.createElement("div");o.tabIndex=0,o.classList.add(y("p")),r.element.appendChild(o),r.padElem_=o;var c=e.createElementNS(v,"svg");c.classList.add(y("g")),r.padElem_.appendChild(c),r.svgElem_=c;var h=e.createElementNS(v,"line");h.classList.add(y("ax")),h.setAttributeNS(null,"x1","0"),h.setAttributeNS(null,"y1","50%"),h.setAttributeNS(null,"x2","100%"),h.setAttributeNS(null,"y2","50%"),r.svgElem_.appendChild(h);var d=e.createElementNS(v,"line");d.classList.add(y("ax")),d.setAttributeNS(null,"x1","50%"),d.setAttributeNS(null,"y1","0"),d.setAttributeNS(null,"x2","50%"),d.setAttributeNS(null,"y2","100%"),r.svgElem_.appendChild(d);var f=e.createElementNS(v,"line");f.classList.add(y("l")),f.setAttributeNS(null,"x1","50%"),f.setAttributeNS(null,"y1","50%"),r.svgElem_.appendChild(f),r.lineElem_=f;var m=e.createElementNS(v,"circle");return m.classList.add(y("m")),m.setAttributeNS(null,"r","2px"),r.svgElem_.appendChild(m),r.markerElem_=m,n.value.emitter.on("change",r.onValueChange_),r.value=n.value,r.update(),n.model.emitter.on("dispose",(function(){r.padElem_=l.disposeElement(r.padElem_)})),r}return o(e,t),Object.defineProperty(e.prototype,"padElement",{get:function(){if(!this.padElem_)throw f.PaneError.alreadyDisposed();return this.padElem_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"allFocusableElements",{get:function(){if(!this.padElem_)throw f.PaneError.alreadyDisposed();return[this.padElem_]},enumerable:!1,configurable:!0}),e.prototype.update=function(){this.foldable.expanded?this.element.classList.add(y(void 0,"expanded")):this.element.classList.remove(y(void 0,"expanded"));var t=this.lineElem_,e=this.markerElem_;if(!t||!e)throw f.PaneError.alreadyDisposed();var n=this.value.rawValue.getComponents(),r=n[0],o=n[1],c=this.maxValue_,l=d.NumberUtil.map(r,-c,+c,0,100),h=d.NumberUtil.map(o,-c,+c,0,100),m=this.invertsY_?100-h:h;t.setAttributeNS(null,"x2",l+"%"),t.setAttributeNS(null,"y2",m+"%"),e.setAttributeNS(null,"cx",l+"%"),e.setAttributeNS(null,"cy",m+"%")},e.prototype.onValueChange_=function(){this.update()},e.prototype.onFoldableChange_=function(){this.update()},e}(m.View);e.Point2dPadInputView=_},"./src/main/js/view/input/point-2d-text.ts":function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,b){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(t,b)},function(t,b){function e(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)});Object.defineProperty(e,"__esModule",{value:!0}),e.Point2dTextInputView=void 0;var c=n("./src/main/js/misc/class-name.ts"),l=n("./src/main/js/misc/disposing-util.ts"),h=n("./src/main/js/misc/pane-error.ts"),d=n("./src/main/js/view/view.ts"),f=["X","Y"],m=c.ClassName("p2dtxt","input"),v=function(t){function e(e,n){var r=t.call(this,e,n)||this;r.onValueChange_=r.onValueChange_.bind(r),r.formatters_=[n.xFormatter,n.yFormatter],r.element.classList.add(m());var o=f.map((function(){var t=e.createElement("input");return t.classList.add(m("i")),t.type="text",t}));return f.forEach((function(t,n){var c=e.createElement("div");c.classList.add(m("w")),c.appendChild(o[n]),r.element.appendChild(c)})),r.inputElems_=[o[0],o[1]],n.value.emitter.on("change",r.onValueChange_),r.value=n.value,r.update(),n.model.emitter.on("dispose",(function(){r.inputElems_&&(r.inputElems_.forEach((function(t){l.disposeElement(t)})),r.inputElems_=null)})),r}return o(e,t),Object.defineProperty(e.prototype,"inputElements",{get:function(){if(!this.inputElems_)throw h.PaneError.alreadyDisposed();return this.inputElems_},enumerable:!1,configurable:!0}),e.prototype.update=function(){var t=this,e=this.inputElems_;if(!e)throw h.PaneError.alreadyDisposed();this.value.rawValue.getComponents().forEach((function(n,r){e[r].value=t.formatters_[r].format(n)}))},e.prototype.onValueChange_=function(){this.update()},e}(d.View);e.Point2dTextInputView=v},"./src/main/js/view/input/slider-text.ts":function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,b){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(t,b)},function(t,b){function e(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)});Object.defineProperty(e,"__esModule",{value:!0}),e.SliderTextInputView=void 0;var c=n("./src/main/js/misc/class-name.ts"),l=n("./src/main/js/view/view.ts"),h=c.ClassName("sldtxt","input"),d=function(t){function e(e,n){var r=t.call(this,e,n)||this;r.element.classList.add(h());var o=e.createElement("div");o.classList.add(h("s")),r.sliderInputView_=n.sliderInputView,o.appendChild(r.sliderInputView_.element),r.element.appendChild(o);var c=e.createElement("div");return c.classList.add(h("t")),r.textInputView_=n.textInputView,c.appendChild(r.textInputView_.element),r.element.appendChild(c),r}return o(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.sliderInputView_.value},enumerable:!1,configurable:!0}),e.prototype.update=function(){this.sliderInputView_.update(),this.textInputView_.update()},e}(l.View);e.SliderTextInputView=d},"./src/main/js/view/input/slider.ts":function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,b){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(t,b)},function(t,b){function e(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)});Object.defineProperty(e,"__esModule",{value:!0}),e.SliderInputView=void 0;var c=n("./src/main/js/misc/class-name.ts"),l=n("./src/main/js/misc/disposing-util.ts"),h=n("./src/main/js/misc/number-util.ts"),d=n("./src/main/js/misc/pane-error.ts"),f=n("./src/main/js/view/view.ts"),m=c.ClassName("sld","input"),v=function(t){function e(e,n){var r=t.call(this,e,n)||this;r.onValueChange_=r.onValueChange_.bind(r),r.minValue_=n.minValue,r.maxValue_=n.maxValue,r.element.classList.add(m());var o=e.createElement("div");o.classList.add(m("o")),o.tabIndex=0,r.element.appendChild(o),r.outerElem_=o;var c=e.createElement("div");return c.classList.add(m("i")),r.outerElem_.appendChild(c),r.innerElem_=c,n.value.emitter.on("change",r.onValueChange_),r.value=n.value,r.update(),n.model.emitter.on("dispose",(function(){r.innerElem_=l.disposeElement(r.innerElem_),r.outerElem_=l.disposeElement(r.outerElem_)})),r}return o(e,t),Object.defineProperty(e.prototype,"outerElement",{get:function(){if(!this.outerElem_)throw d.PaneError.alreadyDisposed();return this.outerElem_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"innerElement",{get:function(){if(!this.innerElem_)throw d.PaneError.alreadyDisposed();return this.innerElem_},enumerable:!1,configurable:!0}),e.prototype.update=function(){if(!this.innerElem_)throw d.PaneError.alreadyDisposed();var p=h.NumberUtil.constrain(h.NumberUtil.map(this.value.rawValue,this.minValue_,this.maxValue_,0,100),0,100);this.innerElem_.style.width=p+"%"},e.prototype.onValueChange_=function(){this.update()},e}(f.View);e.SliderInputView=v},"./src/main/js/view/input/sv-palette.ts":function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,b){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(t,b)},function(t,b){function e(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)});Object.defineProperty(e,"__esModule",{value:!0}),e.SvPaletteInputView=void 0;var c=n("./src/main/js/misc/class-name.ts"),l=n("./src/main/js/misc/color-model.ts"),h=n("./src/main/js/misc/disposing-util.ts"),d=n("./src/main/js/misc/dom-util.ts"),f=n("./src/main/js/misc/number-util.ts"),m=n("./src/main/js/misc/pane-error.ts"),v=n("./src/main/js/view/view.ts"),y=c.ClassName("svp","input"),_=function(t){function e(e,n){var r=t.call(this,e,n)||this;r.onValueChange_=r.onValueChange_.bind(r),r.value=n.value,r.value.emitter.on("change",r.onValueChange_),r.element.classList.add(y()),r.element.tabIndex=0;var o=e.createElement("canvas");o.height=64,o.width=64,o.classList.add(y("c")),r.element.appendChild(o),r.canvasElem_=o;var c=e.createElement("div");return c.classList.add(y("m")),r.element.appendChild(c),r.markerElem_=c,r.update(),n.model.emitter.on("dispose",(function(){r.canvasElem_=h.disposeElement(r.canvasElem_),r.markerElem_=h.disposeElement(r.markerElem_)})),r}return o(e,t),Object.defineProperty(e.prototype,"canvasElement",{get:function(){if(!this.canvasElem_)throw m.PaneError.alreadyDisposed();return this.canvasElem_},enumerable:!1,configurable:!0}),e.prototype.update=function(){if(!this.markerElem_)throw m.PaneError.alreadyDisposed();var t=d.getCanvasContext(this.canvasElement);if(t){for(var e=this.value.rawValue.getComponents("hsv"),n=this.canvasElement.width,r=this.canvasElement.height,o=t.getImageData(0,0,n,r),data=o.data,c=0;c<r;c++)for(var h=0;h<n;h++){var s=f.NumberUtil.map(h,0,n,0,100),v=f.NumberUtil.map(c,0,r,100,0),y=l.hsvToRgb(e[0],s,v),i=4*(c*n+h);data[i]=y[0],data[i+1]=y[1],data[i+2]=y[2],data[i+3]=255}t.putImageData(o,0,0);var _=f.NumberUtil.map(e[1],0,100,0,100);this.markerElem_.style.left=_+"%";var x=f.NumberUtil.map(e[2],0,100,100,0);this.markerElem_.style.top=x+"%"}},e.prototype.onValueChange_=function(){this.update()},e}(v.View);e.SvPaletteInputView=_},"./src/main/js/view/input/text.ts":function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,b){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(t,b)},function(t,b){function e(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)});Object.defineProperty(e,"__esModule",{value:!0}),e.TextInputView=void 0;var c=n("./src/main/js/misc/class-name.ts"),l=n("./src/main/js/misc/disposing-util.ts"),h=n("./src/main/js/misc/pane-error.ts"),d=n("./src/main/js/view/view.ts"),f=c.ClassName("txt","input"),m=function(t){function e(e,n){var r=t.call(this,e,n)||this;r.onValueChange_=r.onValueChange_.bind(r),r.formatter_=n.formatter,r.element.classList.add(f());var o=e.createElement("input");return o.classList.add(f("i")),o.type="text",r.element.appendChild(o),r.inputElem_=o,n.value.emitter.on("change",r.onValueChange_),r.value=n.value,r.update(),n.model.emitter.on("dispose",(function(){r.inputElem_=l.disposeElement(r.inputElem_)})),r}return o(e,t),Object.defineProperty(e.prototype,"inputElement",{get:function(){if(!this.inputElem_)throw h.PaneError.alreadyDisposed();return this.inputElem_},enumerable:!1,configurable:!0}),e.prototype.update=function(){if(!this.inputElem_)throw h.PaneError.alreadyDisposed();this.inputElem_.value=this.formatter_.format(this.value.rawValue)},e.prototype.onValueChange_=function(){this.update()},e}(d.View);e.TextInputView=m},"./src/main/js/view/labeled.ts":function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,b){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(t,b)},function(t,b){function e(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)});Object.defineProperty(e,"__esModule",{value:!0}),e.LabeledView=void 0;var c=n("./src/main/js/misc/class-name.ts"),l=n("./src/main/js/view/view.ts"),h=c.ClassName("lbl"),d=function(t){function e(e,n){var r=t.call(this,e,n)||this;r.label=n.label,r.element.classList.add(h());var o=e.createElement("div");o.classList.add(h("l")),o.appendChild(function(t,label){var e=t.createDocumentFragment();return label.split("\n").map((function(line){return t.createTextNode(line)})).forEach((function(n,r){r>0&&e.appendChild(t.createElement("br")),e.appendChild(n)})),e}(e,r.label)),r.element.appendChild(o);var c=e.createElement("div");return c.classList.add(h("v")),c.appendChild(n.view.element),r.element.appendChild(c),r}return o(e,t),e}(l.View);e.LabeledView=d},"./src/main/js/view/monitor/graph.ts":function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,b){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(t,b)},function(t,b){function e(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)});Object.defineProperty(e,"__esModule",{value:!0}),e.GraphMonitorView=void 0;var c=n("./src/main/js/misc/class-name.ts"),l=n("./src/main/js/misc/disposing-util.ts"),h=n("./src/main/js/misc/dom-util.ts"),d=n("./src/main/js/misc/number-util.ts"),f=n("./src/main/js/misc/pane-error.ts"),m=n("./src/main/js/view/view.ts"),v=h.SVG_NS,y=c.ClassName("grp","monitor"),_=function(t){function e(e,n){var r=t.call(this,e,n)||this;r.onCursorChange_=r.onCursorChange_.bind(r),r.onValueUpdate_=r.onValueUpdate_.bind(r),r.element.classList.add(y()),r.formatter_=n.formatter,r.minValue_=n.minValue,r.maxValue_=n.maxValue,r.cursor_=n.cursor,r.cursor_.emitter.on("change",r.onCursorChange_);var o=e.createElementNS(v,"svg");o.classList.add(y("g")),r.element.appendChild(o),r.svgElem_=o;var c=e.createElementNS(v,"polyline");r.svgElem_.appendChild(c),r.lineElem_=c;var h=e.createElement("div");return h.classList.add(y("t")),r.element.appendChild(h),r.tooltipElem_=h,n.value.emitter.on("update",r.onValueUpdate_),r.value=n.value,r.update(),n.model.emitter.on("dispose",(function(){r.lineElem_=l.disposeElement(r.lineElem_),r.svgElem_=l.disposeElement(r.svgElem_),r.tooltipElem_=l.disposeElement(r.tooltipElem_)})),r}return o(e,t),Object.defineProperty(e.prototype,"graphElement",{get:function(){if(!this.svgElem_)throw f.PaneError.alreadyDisposed();return this.svgElem_},enumerable:!1,configurable:!0}),e.prototype.update=function(){var t=this.tooltipElem_;if(!this.lineElem_||!this.svgElem_||!t)throw f.PaneError.alreadyDisposed();var e=this.svgElem_.getBoundingClientRect(),n=this.value.totalCount-1,r=this.minValue_,o=this.maxValue_;this.lineElem_.setAttributeNS(null,"points",this.value.rawValues.map((function(t,c){return[d.NumberUtil.map(c,0,n,0,e.width),d.NumberUtil.map(t,r,o,e.height,0)].join(",")})).join(" "));var c=this.value.rawValues[this.cursor_.index];if(void 0!==c){t.classList.add(y("t","valid"));var l=d.NumberUtil.map(this.cursor_.index,0,n,0,e.width),h=d.NumberUtil.map(c,r,o,e.height,0);t.style.left=l+"px",t.style.top=h+"px",t.textContent=""+this.formatter_.format(c)}else t.classList.remove(y("t","valid"))},e.prototype.onValueUpdate_=function(){this.update()},e.prototype.onCursorChange_=function(){this.update()},e}(m.View);e.GraphMonitorView=_},"./src/main/js/view/monitor/multi-log.ts":function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,b){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(t,b)},function(t,b){function e(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)});Object.defineProperty(e,"__esModule",{value:!0}),e.MultiLogMonitorView=void 0;var c=n("./src/main/js/misc/class-name.ts"),l=n("./src/main/js/misc/disposing-util.ts"),h=n("./src/main/js/misc/pane-error.ts"),d=n("./src/main/js/view/view.ts"),f=c.ClassName("mll","monitor"),m=function(t){function e(e,n){var r=t.call(this,e,n)||this;r.onValueUpdate_=r.onValueUpdate_.bind(r),r.formatter_=n.formatter,r.element.classList.add(f());var o=e.createElement("textarea");return o.classList.add(f("i")),o.readOnly=!0,r.element.appendChild(o),r.textareaElem_=o,n.value.emitter.on("update",r.onValueUpdate_),r.value=n.value,r.update(),n.model.emitter.on("dispose",(function(){r.textareaElem_=l.disposeElement(r.textareaElem_)})),r}return o(e,t),e.prototype.update=function(){var t=this,e=this.textareaElem_;if(!e)throw h.PaneError.alreadyDisposed();var n=e.scrollTop===e.scrollHeight-e.clientHeight;e.textContent=this.value.rawValues.map((function(e){return t.formatter_.format(e)})).join("\n"),n&&(e.scrollTop=e.scrollHeight)},e.prototype.onValueUpdate_=function(){this.update()},e}(d.View);e.MultiLogMonitorView=m},"./src/main/js/view/monitor/single-log.ts":function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,b){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(t,b)},function(t,b){function e(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)});Object.defineProperty(e,"__esModule",{value:!0}),e.SingleLogMonitorView=void 0;var c=n("./src/main/js/misc/class-name.ts"),l=n("./src/main/js/misc/disposing-util.ts"),h=n("./src/main/js/misc/pane-error.ts"),d=n("./src/main/js/view/view.ts"),f=c.ClassName("sgl","monitor"),m=function(t){function e(e,n){var r=t.call(this,e,n)||this;r.onValueUpdate_=r.onValueUpdate_.bind(r),r.formatter_=n.formatter,r.element.classList.add(f());var o=e.createElement("input");return o.classList.add(f("i")),o.readOnly=!0,o.type="text",r.element.appendChild(o),r.inputElem_=o,n.value.emitter.on("update",r.onValueUpdate_),r.value=n.value,r.update(),n.model.emitter.on("dispose",(function(){r.inputElem_=l.disposeElement(r.inputElem_)})),r}return o(e,t),e.prototype.update=function(){if(!this.inputElem_)throw h.PaneError.alreadyDisposed();var t=this.value.rawValues;this.inputElem_.value=t.length>0?this.formatter_.format(t[t.length-1]):""},e.prototype.onValueUpdate_=function(){this.update()},e}(d.View);e.SingleLogMonitorView=m},"./src/main/js/view/root.ts":function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,b){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(t,b)},function(t,b){function e(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)});Object.defineProperty(e,"__esModule",{value:!0}),e.RootView=void 0;var c=n("./src/main/js/misc/class-name.ts"),l=n("./src/main/js/misc/disposing-util.ts"),h=n("./src/main/js/misc/pane-error.ts"),d=n("./src/main/js/view/view.ts"),f=c.ClassName("rot"),m=function(t){function e(e,n){var r=t.call(this,e,n)||this;r.onFolderChange_=r.onFolderChange_.bind(r),r.folder_=n.folder,r.folder_&&r.folder_.emitter.on("change",r.onFolderChange_),r.element.classList.add(f());var o=r.folder_;if(o){var c=e.createElement("button");c.classList.add(f("t")),c.textContent=o.title,r.element.appendChild(c);var h=e.createElement("div");h.classList.add(f("m")),c.appendChild(h),r.titleElem_=c}var d=e.createElement("div");return d.classList.add(f("c")),r.element.appendChild(d),r.containerElem_=d,r.applyModel_(),n.model.emitter.on("dispose",(function(){r.containerElem_=l.disposeElement(r.containerElem_),r.folder_=null,r.titleElem_=l.disposeElement(r.titleElem_)})),r}return o(e,t),Object.defineProperty(e.prototype,"titleElement",{get:function(){return this.titleElem_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"containerElement",{get:function(){if(!this.containerElem_)throw h.PaneError.alreadyDisposed();return this.containerElem_},enumerable:!1,configurable:!0}),e.prototype.applyModel_=function(){var t=this.containerElem_;if(!t)throw h.PaneError.alreadyDisposed();var e=!this.folder_||this.folder_.styleExpanded,n=f(void 0,"expanded");e?this.element.classList.add(n):this.element.classList.remove(n),t.style.height=this.folder_?this.folder_.styleHeight:"auto"},e.prototype.onFolderChange_=function(){this.applyModel_()},e}(d.View);e.RootView=m},"./src/main/js/view/separator.ts":function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,b){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(t,b)},function(t,b){function e(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)});Object.defineProperty(e,"__esModule",{value:!0}),e.SeparatorView=void 0;var c=n("./src/main/js/misc/class-name.ts"),l=n("./src/main/js/view/view.ts"),h=c.ClassName("spt"),d=function(t){function e(e,n){var r=t.call(this,e,n)||this;r.element.classList.add(h());var o=e.createElement("hr");return o.classList.add(h("r")),r.element.appendChild(o),r}return o(e,t),e}(l.View);e.SeparatorView=d},"./src/main/js/view/view.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.View=void 0;var r=n("./src/main/js/misc/class-name.ts"),o=n("./src/main/js/misc/disposing-util.ts"),c=n("./src/main/js/misc/pane-error.ts"),l=n("./src/main/js/model/view-positions.ts"),h=r.ClassName(""),d=function(){function t(t,e){this.onChange_=this.onChange_.bind(this),this.onDispose_=this.onDispose_.bind(this),this.model_=e.model,this.model_.emitter.on("change",this.onChange_),this.model_.emitter.on("dispose",this.onDispose_),this.doc_=t,this.elem_=this.doc_.createElement("div"),this.elem_.classList.add(h())}return Object.defineProperty(t.prototype,"document",{get:function(){if(!this.doc_)throw c.PaneError.alreadyDisposed();return this.doc_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){if(!this.elem_)throw c.PaneError.alreadyDisposed();return this.elem_},enumerable:!1,configurable:!0}),t.prototype.onDispose_=function(){this.doc_=null,this.elem_=o.disposeElement(this.elem_)},t.prototype.onChange_=function(t){var e=this.elem_;if(!e)throw c.PaneError.alreadyDisposed();if("hidden"===t.propertyName){var n=h(void 0,"hidden");this.model_.hidden?e.classList.add(n):e.classList.remove(n)}else"positions"===t.propertyName&&(l.getAll().forEach((function(t){e.classList.remove(h(void 0,t))})),this.model_.positions.forEach((function(t){e.classList.add(h(void 0,t))})))},t}();e.View=d},"./src/main/sass/bundle.scss":function(t,e,n){(t.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([t.i,".tp-fldv_t,.tp-rotv_t{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background-color:var(--folder-background-color);color:var(--folder-foreground-color);cursor:pointer;display:block;height:24px;line-height:24px;overflow:hidden;padding-left:30px;position:relative;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:100%;transition:border-radius .2s ease-in-out .2s}.tp-fldv_t:hover,.tp-rotv_t:hover{background-color:var(--folder-background-color-hover)}.tp-fldv_t:focus,.tp-rotv_t:focus{background-color:var(--folder-background-color-focus)}.tp-fldv_t:active,.tp-rotv_t:active{background-color:var(--folder-background-color-active)}.tp-fldv_m,.tp-rotv_m{background:linear-gradient(to left, var(--folder-foreground-color), var(--folder-foreground-color) 2px, transparent 2px, transparent 4px, var(--folder-foreground-color) 4px);border-radius:2px;bottom:0;content:'';display:block;height:6px;left:12px;margin:auto;position:absolute;top:0;transform:rotate(90deg);transition:transform .2s ease-in-out;width:6px}.tp-fldv.tp-fldv-expanded>.tp-fldv_t>.tp-fldv_m,.tp-rotv.tp-rotv-expanded .tp-rotv_m{transform:none}.tp-fldv_c,.tp-rotv_c{box-sizing:border-box;height:0;opacity:0;overflow:hidden;padding-bottom:0;padding-top:0;position:relative;transition:height .2s ease-in-out,opacity .2s linear,padding .2s ease-in-out}.tp-fldv_c>.tp-fldv.tp-v-first,.tp-rotv_c>.tp-fldv.tp-v-first{margin-top:-4px}.tp-fldv_c>.tp-fldv.tp-v-last,.tp-rotv_c>.tp-fldv.tp-v-last{margin-bottom:-4px}.tp-fldv_c>*:not(.tp-v-first),.tp-rotv_c>*:not(.tp-v-first){margin-top:4px}.tp-fldv_c>.tp-fldv:not(.tp-v-hidden)+.tp-fldv,.tp-rotv_c>.tp-fldv:not(.tp-v-hidden)+.tp-fldv{margin-top:0}.tp-fldv_c>.tp-sptv:not(.tp-v-hidden)+.tp-sptv,.tp-rotv_c>.tp-sptv:not(.tp-v-hidden)+.tp-sptv{margin-top:0}.tp-fldv.tp-fldv-expanded>.tp-fldv_c,.tp-rotv.tp-rotv-expanded .tp-rotv_c{opacity:1;padding-bottom:4px;padding-top:4px;transform:none;overflow:visible;transition:height .2s ease-in-out,opacity .2s linear .2s,padding .2s ease-in-out}.tp-btnv{padding:0 4px}.tp-btnv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background-color:var(--button-background-color);border-radius:2px;color:var(--button-foreground-color);cursor:pointer;display:block;font-weight:bold;height:20px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%}.tp-btnv_b:hover{background-color:var(--button-background-color-hover)}.tp-btnv_b:focus{background-color:var(--button-background-color-focus)}.tp-btnv_b:active{background-color:var(--button-background-color-active)}.tp-dfwv{position:absolute;top:8px;right:8px;width:256px}.tp-fldv.tp-fldv-expanded .tp-fldv_t{transition:border-radius 0s}.tp-fldv_c{border-left:var(--folder-background-color) solid 4px}.tp-fldv_t:hover+.tp-fldv_c{border-left-color:var(--folder-background-color-hover)}.tp-fldv_t:focus+.tp-fldv_c{border-left-color:var(--folder-background-color-focus)}.tp-fldv_t:active+.tp-fldv_c{border-left-color:var(--folder-background-color-active)}.tp-fldv_c>.tp-fldv{margin-left:4px}.tp-fldv_c>.tp-fldv>.tp-fldv_t{border-top-left-radius:2px;border-bottom-left-radius:2px}.tp-fldv_c>.tp-fldv.tp-fldv-expanded>.tp-fldv_t{border-bottom-left-radius:0}.tp-fldv_c .tp-fldv>.tp-fldv_c{border-bottom-left-radius:2px}.tp-ckbiv_l{display:block;position:relative}.tp-ckbiv_i{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background:red;left:0;opacity:0;position:absolute;top:0}.tp-ckbiv_m{background-color:var(--input-background-color);border-radius:2px;cursor:pointer;display:block;height:20px;position:relative;width:20px}.tp-ckbiv_m::before{background-color:var(--input-foreground-color);border-radius:2px;bottom:4px;content:'';display:block;left:4px;opacity:0;position:absolute;right:4px;top:4px}.tp-ckbiv_i:hover+.tp-ckbiv_m{background-color:var(--input-background-color-hover)}.tp-ckbiv_i:focus+.tp-ckbiv_m{background-color:var(--input-background-color-focus)}.tp-ckbiv_i:active+.tp-ckbiv_m{background-color:var(--input-background-color-active)}.tp-ckbiv_i:checked+.tp-ckbiv_m::before{opacity:1}.tp-cctxtsiv{display:flex;width:100%}.tp-cctxtsiv_m{margin-right:4px;position:relative}.tp-cctxtsiv_ms{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;border-radius:2px;color:var(--label-foreground-color);cursor:pointer;height:20px;line-height:20px;padding:0 18px 0 4px}.tp-cctxtsiv_ms:hover{background-color:var(--input-background-color-hover)}.tp-cctxtsiv_ms:focus{background-color:var(--input-background-color-focus)}.tp-cctxtsiv_ms:active{background-color:var(--input-background-color-active)}.tp-cctxtsiv_mm{border-color:var(--label-foreground-color) transparent transparent;border-style:solid;border-width:3px;box-sizing:border-box;height:6px;pointer-events:none;width:6px;bottom:0;margin:auto;position:absolute;right:6px;top:3px}.tp-cctxtsiv_w{display:flex;flex:1}.tp-cctxtsiv_i{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background-color:var(--input-background-color);border-radius:2px;box-sizing:border-box;color:var(--input-foreground-color);font-family:inherit;height:20px;line-height:20px;min-width:0;width:100%;border-radius:0;flex:1;padding:0 4px}.tp-cctxtsiv_i:hover{background-color:var(--input-background-color-hover)}.tp-cctxtsiv_i:focus{background-color:var(--input-background-color-focus)}.tp-cctxtsiv_i:active{background-color:var(--input-background-color-active)}.tp-cctxtsiv_i:first-child{border-bottom-left-radius:2px;border-top-left-radius:2px}.tp-cctxtsiv_i:last-child{border-bottom-right-radius:2px;border-top-right-radius:2px}.tp-cctxtsiv_i+.tp-cctxtsiv_i{margin-left:2px}.tp-clpiv{background-color:var(--base-background-color);border-radius:6px;box-shadow:0 2px 4px var(--base-shadow-color);display:none;padding:4px;position:relative;visibility:hidden;z-index:1000}.tp-clpiv.tp-clpiv-expanded{display:block;visibility:visible}.tp-clpiv_h,.tp-clpiv_ap{margin-left:6px;margin-right:6px}.tp-clpiv_h{margin-top:4px}.tp-clpiv_rgb{display:flex;margin-top:4px;width:100%}.tp-clpiv_a{display:flex;margin-top:4px;padding-top:8px;position:relative}.tp-clpiv_a:before{background-color:var(--separator-color);content:'';height:4px;left:-4px;position:absolute;right:-4px;top:0}.tp-clpiv_ap{flex:3}.tp-clpiv_at{flex:1;margin-left:4px}.tp-svpiv{border-radius:2px;outline:none;overflow:hidden;position:relative}.tp-svpiv_c{cursor:crosshair;display:block;height:80px;width:100%}.tp-svpiv_m{border-radius:100%;border:rgba(255,255,255,0.75) solid 2px;box-sizing:border-box;-webkit-filter:drop-shadow(0 0 1px rgba(0,0,0,0.3));filter:drop-shadow(0 0 1px rgba(0,0,0,0.3));height:12px;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;width:12px}.tp-svpiv:focus .tp-svpiv_m{border-color:#fff}.tp-hpliv{cursor:pointer;height:20px;outline:none;position:relative}.tp-hpliv_c{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAABCAYAAABubagXAAAAQ0lEQVQoU2P8z8Dwn0GCgQEDi2OK/RBgYHjBgIpfovFh8j8YBIgzFGQxuqEgPhaDOT5gOhPkdCxOZeBg+IDFZZiGAgCaSSMYtcRHLgAAAABJRU5ErkJggg==);background-position:left top;background-repeat:no-repeat;background-size:100% 100%;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;position:absolute;top:50%;width:100%}.tp-hpliv_m{border-radius:2px;border:rgba(255,255,255,0.75) solid 2px;box-shadow:0 0 2px rgba(0,0,0,0.1);box-sizing:border-box;height:12px;left:50%;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;top:50%;width:12px}.tp-hpliv:focus .tp-hpliv_m{border-color:#fff}.tp-apliv{cursor:pointer;height:20px;outline:none;position:relative}.tp-apliv_b{background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:4px 4px;background-position:0 0,2px 2px;background-color:#fff;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;overflow:hidden;position:absolute;top:50%;width:100%}.tp-apliv_c{bottom:0;left:0;position:absolute;right:0;top:0}.tp-apliv_m{background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:12px 12px;background-position:0 0,6px 6px;background-color:#fff;border-radius:2px;box-shadow:0 0 2px rgba(0,0,0,0.1);height:12px;left:50%;margin-left:-6px;margin-top:-6px;overflow:hidden;pointer-events:none;position:absolute;top:50%;width:12px}.tp-apliv_p{border-radius:2px;border:rgba(255,255,255,0.75) solid 2px;box-sizing:border-box;bottom:0;left:0;position:absolute;right:0;top:0}.tp-apliv:focus .tp-apliv_p{border-color:#fff}.tp-lstiv{display:block;padding:0;position:relative}.tp-lstiv_s{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background-color:var(--button-background-color);border-radius:2px;color:var(--button-foreground-color);cursor:pointer;display:block;height:20px;line-height:20px;padding:0 4px;width:100%}.tp-lstiv_s:hover{background-color:var(--button-background-color-hover)}.tp-lstiv_s:focus{background-color:var(--button-background-color-focus)}.tp-lstiv_s:active{background-color:var(--button-background-color-active)}.tp-lstiv_m{border-color:var(--button-foreground-color) transparent transparent;border-style:solid;border-width:3px;box-sizing:border-box;height:6px;pointer-events:none;width:6px;bottom:0;margin:auto;position:absolute;right:6px;top:3px}.tp-p2dpadiv{background-color:var(--base-background-color);border-radius:6px;box-shadow:0 2px 4px var(--base-shadow-color);display:none;padding:4px 4px 4px 28px;position:relative;visibility:hidden;z-index:1000}.tp-p2dpadiv.tp-p2dpadiv-expanded{display:block;visibility:visible}.tp-p2dpadiv_p{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background-color:var(--input-background-color);border-radius:2px;box-sizing:border-box;color:var(--input-foreground-color);font-family:inherit;height:20px;line-height:20px;min-width:0;width:100%;cursor:crosshair;height:0;overflow:hidden;padding-bottom:100%;position:relative}.tp-p2dpadiv_p:hover{background-color:var(--input-background-color-hover)}.tp-p2dpadiv_p:focus{background-color:var(--input-background-color-focus)}.tp-p2dpadiv_p:active{background-color:var(--input-background-color-active)}.tp-p2dpadiv_g{display:block;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.tp-p2dpadiv_ax{stroke:var(--input-guide-color)}.tp-p2dpadiv_l{stroke:var(--input-foreground-color);stroke-linecap:round;stroke-dasharray:1px 3px}.tp-p2dpadiv_m{fill:var(--input-foreground-color)}.tp-p2dpadtxtiv{display:flex;position:relative}.tp-p2dpadtxtiv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background-color:var(--button-background-color);border-radius:2px;color:var(--button-foreground-color);cursor:pointer;display:block;font-weight:bold;height:20px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;height:20px;position:relative;width:20px}.tp-p2dpadtxtiv_b:hover{background-color:var(--button-background-color-hover)}.tp-p2dpadtxtiv_b:focus{background-color:var(--button-background-color-focus)}.tp-p2dpadtxtiv_b:active{background-color:var(--button-background-color-active)}.tp-p2dpadtxtiv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-p2dpadtxtiv_p{left:-4px;position:absolute;right:-4px;top:20px}.tp-p2dpadtxtiv_t{margin-left:4px}.tp-p2dtxtiv{display:flex}.tp-p2dtxtiv_w{align-items:center;display:flex}.tp-p2dtxtiv_w+.tp-p2dtxtiv_w{margin-left:2px}.tp-p2dtxtiv_i{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background-color:var(--input-background-color);border-radius:2px;box-sizing:border-box;color:var(--input-foreground-color);font-family:inherit;height:20px;line-height:20px;min-width:0;width:100%;padding:0 4px;width:100%}.tp-p2dtxtiv_i:hover{background-color:var(--input-background-color-hover)}.tp-p2dtxtiv_i:focus{background-color:var(--input-background-color-focus)}.tp-p2dtxtiv_i:active{background-color:var(--input-background-color-active)}.tp-p2dtxtiv_w:nth-child(1) .tp-p2dtxtiv_i{border-top-right-radius:0;border-bottom-right-radius:0}.tp-p2dtxtiv_w:nth-child(2) .tp-p2dtxtiv_i{border-top-left-radius:0;border-bottom-left-radius:0}.tp-sldiv{display:block;padding:0}.tp-sldiv_o{box-sizing:border-box;cursor:pointer;height:20px;margin:0 6px;outline:none;position:relative}.tp-sldiv_o::before{background-color:var(--input-background-color);border-radius:1px;bottom:0;content:'';display:block;height:2px;left:0;margin:auto;position:absolute;right:0;top:0}.tp-sldiv_i{height:100%;left:0;position:absolute;top:0}.tp-sldiv_i::before{background-color:var(--button-background-color);border-radius:2px;bottom:0;content:'';display:block;height:12px;margin:auto;position:absolute;right:-6px;top:0;width:12px}.tp-sldiv_o:hover .tp-sldiv_i::before{background-color:var(--button-background-color-hover)}.tp-sldiv_o:focus .tp-sldiv_i::before{background-color:var(--button-background-color-focus)}.tp-sldiv_o:active .tp-sldiv_i::before{background-color:var(--button-background-color-active)}.tp-txtiv{display:block;padding:0}.tp-txtiv_i{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background-color:var(--input-background-color);border-radius:2px;box-sizing:border-box;color:var(--input-foreground-color);font-family:inherit;height:20px;line-height:20px;min-width:0;width:100%;padding:0 4px}.tp-txtiv_i:hover{background-color:var(--input-background-color-hover)}.tp-txtiv_i:focus{background-color:var(--input-background-color-focus)}.tp-txtiv_i:active{background-color:var(--input-background-color-active)}.tp-cswiv{background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:10px 10px;background-position:0 0,5px 5px;background-color:#fff;border-radius:2px}.tp-cswiv_sw{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background-color:var(--input-background-color);border-radius:2px;box-sizing:border-box;color:var(--input-foreground-color);font-family:inherit;height:20px;line-height:20px;min-width:0;width:100%}.tp-cswiv_sw:hover{background-color:var(--input-background-color-hover)}.tp-cswiv_sw:focus{background-color:var(--input-background-color-focus)}.tp-cswiv_sw:active{background-color:var(--input-background-color-active)}.tp-cswiv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;cursor:pointer;display:block;height:20px;left:0;margin:0;outline:none;padding:0;position:absolute;top:0;width:20px}.tp-cswiv_b:focus::after{border:rgba(255,255,255,0.75) solid 2px;border-radius:2px;bottom:0;content:'';display:block;left:0;position:absolute;right:0;top:0}.tp-cswiv_p{left:-4px;position:absolute;right:-4px;top:20px}.tp-cswtxtiv{display:flex;position:relative}.tp-cswtxtiv_s{flex-grow:0;flex-shrink:0;width:20px}.tp-cswtxtiv_t{flex:1;margin-left:4px}.tp-sldtxtiv{display:flex}.tp-sldtxtiv_s{flex:2}.tp-sldtxtiv_t{flex:1;margin-left:4px}.tp-lblv{align-items:center;display:flex;padding-left:4px;padding-right:4px}.tp-lblv_l{color:var(--label-foreground-color);flex:1;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;overflow:hidden;padding-left:4px;padding-right:16px}.tp-lblv_v{align-self:flex-start;flex-grow:0;flex-shrink:0;width:160px}.tp-grpmv{display:block;padding:0;position:relative}.tp-grpmv_g{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background-color:var(--monitor-background-color);border-radius:2px;box-sizing:border-box;color:var(--monitor-foreground-color);height:20px;width:100%;display:block;height:60px}.tp-grpmv_g polyline{fill:none;stroke:var(--monitor-foreground-color);stroke-linejoin:round}.tp-grpmv_t{color:var(--monitor-foreground-color);font-size:0.9em;left:0;pointer-events:none;position:absolute;text-indent:4px;top:0;visibility:hidden}.tp-grpmv_t.tp-grpmv_t-valid{visibility:visible}.tp-grpmv_t::before{background-color:var(--monitor-foreground-color);border-radius:100%;content:'';display:block;height:4px;left:-2px;position:absolute;top:-2px;width:4px}.tp-sglmv_i{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background-color:var(--monitor-background-color);border-radius:2px;box-sizing:border-box;color:var(--monitor-foreground-color);height:20px;width:100%;padding:0 4px}.tp-mllmv_i{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background-color:var(--monitor-background-color);border-radius:2px;box-sizing:border-box;color:var(--monitor-foreground-color);height:20px;width:100%;display:block;height:60px;line-height:20px;padding:0 4px;resize:none;white-space:pre}.tp-cswmv_sw{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background-color:var(--monitor-background-color);border-radius:2px;box-sizing:border-box;color:var(--monitor-foreground-color);height:20px;width:100%}.tp-rotv{--font-family: var(--tp-font-family, Roboto Mono,Source Code Pro,Menlo,Courier,monospace);--base-background-color: var(--tp-base-background-color, #2f3137);--base-shadow-color: var(--tp-base-shadow-color, rgba(0,0,0,0.2));--button-background-color: var(--tp-button-background-color, #adafb8);--button-background-color-active: var(--tp-button-background-color-active, #d6d7db);--button-background-color-focus: var(--tp-button-background-color-focus, #c8cad0);--button-background-color-hover: var(--tp-button-background-color-hover, #bbbcc4);--button-foreground-color: var(--tp-button-foreground-color, #2f3137);--folder-background-color: var(--tp-folder-background-color, rgba(200,202,208,0.1));--folder-background-color-active: var(--tp-folder-background-color-active, rgba(200,202,208,0.25));--folder-background-color-focus: var(--tp-folder-background-color-focus, rgba(200,202,208,0.2));--folder-background-color-hover: var(--tp-folder-background-color-hover, rgba(200,202,208,0.15));--folder-foreground-color: var(--tp-folder-foreground-color, #c8cad0);--input-background-color: var(--tp-input-background-color, rgba(200,202,208,0.15));--input-background-color-active: var(--tp-input-background-color-active, rgba(200,202,208,0.35));--input-background-color-focus: var(--tp-input-background-color-focus, rgba(200,202,208,0.25));--input-background-color-hover: var(--tp-input-background-color-hover, rgba(200,202,208,0.15));--input-foreground-color: var(--tp-input-foreground-color, #c8cad0);--input-guide-color: var(--tp-input-guide-color, rgba(47,49,55,0.5));--label-foreground-color: var(--tp-label-foreground-color, rgba(200,202,208,0.8));--monitor-background-color: var(--tp-monitor-background-color, rgba(24,24,27,0.5));--monitor-foreground-color: var(--tp-monitor-foreground-color, rgba(200,202,208,0.7));--separator-color: var(--tp-separator-color, rgba(24,24,27,0.3));background-color:var(--base-background-color);border-radius:6px;box-shadow:0 2px 4px var(--base-shadow-color);font-family:var(--font-family);font-size:11px;font-weight:500;text-align:left}.tp-rotv_t{border-bottom-left-radius:6px;border-bottom-right-radius:6px;border-top-left-radius:6px;border-top-right-radius:6px}.tp-rotv.tp-rotv-expanded .tp-rotv_t{border-bottom-left-radius:0;border-bottom-right-radius:0}.tp-rotv_m{transition:none}.tp-rotv_c>.tp-fldv:last-child>.tp-fldv_c{border-bottom-left-radius:6px;border-bottom-right-radius:6px}.tp-rotv_c>.tp-fldv:last-child:not(.tp-fldv-expanded)>.tp-fldv_t{border-bottom-left-radius:6px;border-bottom-right-radius:6px}.tp-rotv_c>.tp-fldv:first-child>.tp-fldv_t{border-top-left-radius:6px;border-top-right-radius:6px}.tp-sptv_r{background-color:var(--separator-color);border-width:0;display:block;height:4px;margin:0;width:100%}.tp-v.tp-v-hidden{display:none}\n",""])}}).default},t.exports=r()},211:function(t,e,n){"use strict";var r=n(212),o=n(526);function c(t,i){return 55296==(64512&t.charCodeAt(i))&&(!(i<0||i+1>=t.length)&&56320==(64512&t.charCodeAt(i+1)))}function l(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function h(t){return 1===t.length?"0"+t:t}function d(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}e.inherits=o,e.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var n=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),i=0;i<t.length;i+=2)n.push(parseInt(t[i]+t[i+1],16))}else for(var p=0,i=0;i<t.length;i++){var r=t.charCodeAt(i);r<128?n[p++]=r:r<2048?(n[p++]=r>>6|192,n[p++]=63&r|128):c(t,i)?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),n[p++]=r>>18|240,n[p++]=r>>12&63|128,n[p++]=r>>6&63|128,n[p++]=63&r|128):(n[p++]=r>>12|224,n[p++]=r>>6&63|128,n[p++]=63&r|128)}else for(i=0;i<t.length;i++)n[i]=0|t[i];return n},e.toHex=function(t){for(var e="",i=0;i<t.length;i++)e+=h(t[i].toString(16));return e},e.htonl=l,e.toHex32=function(t,e){for(var n="",i=0;i<t.length;i++){var r=t[i];"little"===e&&(r=l(r)),n+=d(r.toString(16))}return n},e.zero2=h,e.zero8=d,e.join32=function(t,e,n,o){var c=n-e;r(c%4==0);for(var l=new Array(c/4),i=0,h=e;i<l.length;i++,h+=4){var d;d="big"===o?t[h]<<24|t[h+1]<<16|t[h+2]<<8|t[h+3]:t[h+3]<<24|t[h+2]<<16|t[h+1]<<8|t[h],l[i]=d>>>0}return l},e.split32=function(t,e){for(var n=new Array(4*t.length),i=0,r=0;i<t.length;i++,r+=4){var o=t[i];"big"===e?(n[r]=o>>>24,n[r+1]=o>>>16&255,n[r+2]=o>>>8&255,n[r+3]=255&o):(n[r+3]=o>>>24,n[r+2]=o>>>16&255,n[r+1]=o>>>8&255,n[r]=255&o)}return n},e.rotr32=function(t,b){return t>>>b|t<<32-b},e.rotl32=function(t,b){return t<<b|t>>>32-b},e.sum32=function(a,b){return a+b>>>0},e.sum32_3=function(a,b,t){return a+b+t>>>0},e.sum32_4=function(a,b,t,e){return a+b+t+e>>>0},e.sum32_5=function(a,b,t,e,n){return a+b+t+e+n>>>0},e.sum64=function(t,e,n,r){var o=t[e],c=r+t[e+1]>>>0,l=(c<r?1:0)+n+o;t[e]=l>>>0,t[e+1]=c},e.sum64_hi=function(t,e,n,r){return(e+r>>>0<e?1:0)+t+n>>>0},e.sum64_lo=function(t,e,n,r){return e+r>>>0},e.sum64_4_hi=function(t,e,n,r,o,c,l,dl){var h=0,d=e;return h+=(d=d+r>>>0)<e?1:0,h+=(d=d+c>>>0)<c?1:0,t+n+o+l+(h+=(d=d+dl>>>0)<dl?1:0)>>>0},e.sum64_4_lo=function(t,e,n,r,o,c,l,dl){return e+r+c+dl>>>0},e.sum64_5_hi=function(t,e,n,r,o,c,l,dl,h,d){var f=0,m=e;return f+=(m=m+r>>>0)<e?1:0,f+=(m=m+c>>>0)<c?1:0,f+=(m=m+dl>>>0)<dl?1:0,t+n+o+l+h+(f+=(m=m+d>>>0)<d?1:0)>>>0},e.sum64_5_lo=function(t,e,n,r,o,c,l,dl,h,d){return e+r+c+dl+d>>>0},e.rotr64_hi=function(t,e,n){return(e<<32-n|t>>>n)>>>0},e.rotr64_lo=function(t,e,n){return(t<<32-n|e>>>n)>>>0},e.shr64_hi=function(t,e,n){return t>>>n},e.shr64_lo=function(t,e,n){return(t<<32-n|e>>>n)>>>0}},212:function(t,e){function n(t,e){if(!t)throw new Error(e||"Assertion failed")}t.exports=n,n.equal=function(t,e,n){if(t!=e)throw new Error(n||"Assertion failed: "+t+" != "+e)}},213:function(t,e,n){"use strict";t.exports=function(t){var e=t.uri,n=t.name,r=t.type;this.uri=e,this.name=n,this.type=r}},214:function(t,e,n){"use strict";var r=n(213);t.exports=function(t){return"undefined"!=typeof File&&t instanceof File||"undefined"!=typeof Blob&&t instanceof Blob||t instanceof r}},215:function(t,e,n){"use strict";n.r(e),function(t,r){var o,c=n(374);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:r;var l=Object(c.a)(o);e.default=l}.call(this,n(44),n(522)(t))},216:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){throw new Error("Static Class")}return t.GQL_CONNECTION_INIT="connection_init",t.GQL_CONNECTION_ACK="connection_ack",t.GQL_CONNECTION_ERROR="connection_error",t.GQL_CONNECTION_KEEP_ALIVE="ka",t.GQL_CONNECTION_TERMINATE="connection_terminate",t.GQL_START="start",t.GQL_DATA="data",t.GQL_ERROR="error",t.GQL_COMPLETE="complete",t.GQL_STOP="stop",t.SUBSCRIPTION_START="subscription_start",t.SUBSCRIPTION_DATA="subscription_data",t.SUBSCRIPTION_SUCCESS="subscription_success",t.SUBSCRIPTION_FAIL="subscription_fail",t.SUBSCRIPTION_END="subscription_end",t.INIT="init",t.INIT_SUCCESS="init_success",t.INIT_FAIL="init_fail",t.KEEP_ALIVE="keepalive",t}();e.default=r},23:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return h}));var r=n(130);function o(t){var e=t.prototype.toJSON;"function"==typeof e||function(t,e){if(!Boolean(t))throw new Error(null!=e?e:"Unexpected invariant triggered.")}(0),t.prototype.inspect=e,r.a&&(t.prototype[r.a]=e)}var c=function(){function t(t,e,source){this.start=t.start,this.end=e.end,this.startToken=t,this.endToken=e,this.source=source}return t.prototype.toJSON=function(){return{start:this.start,end:this.end}},t}();o(c);var l=function(){function t(t,e,n,line,r,o,c){this.kind=t,this.start=e,this.end=n,this.line=line,this.column=r,this.value=c,this.prev=o,this.next=null}return t.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},t}();function h(t){return null!=t&&"string"==typeof t.kind}o(l)},238:function(t,e,n){"use strict";var r={name:"ClientOnly",functional:!0,props:{placeholder:String,placeholderTag:{type:String,default:"div"}},render:function(t,e){var n=e.parent,r=e.slots,o=e.props,c=r(),l=c.default;void 0===l&&(l=[]);var h=c.placeholder;return n._isMounted?l:(n.$once("hook:mounted",(function(){n.$forceUpdate()})),o.placeholderTag&&(o.placeholder||h)?t(o.placeholderTag,{class:["client-only-placeholder"]},o.placeholder||h):l.length>0?l.map((function(){return t(!1)})):t(!1))}};t.exports=r},242:function(t,e,n){"use strict";(function(t){var r=n(159),o=n.n(r);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function d(t,e,n){return e&&h(t.prototype,e),n&&h(t,n),t}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function v(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(source,!0).forEach((function(e){f(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(source).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x(t,e)}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function x(t,p){return(x=Object.setPrototypeOf||function(t,p){return t.__proto__=p,t})(t,p)}function w(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?w(t):e}function M(t,e,n){return(M="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var base=function(object,t){for(;!Object.prototype.hasOwnProperty.call(object,t)&&null!==(object=_(object)););return object}(t,e);if(base){var desc=Object.getOwnPropertyDescriptor(base,e);return desc.get?desc.get.call(n):desc.value}})(t,e,n||t)}function S(t,i){return function(t){if(Array.isArray(t))return t}(t)||function(t,i){if(!(Symbol.iterator in Object(t))&&"[object Arguments]"!==Object.prototype.toString.call(t))return;var e=[],n=!0,r=!1,o=void 0;try{for(var c,l=t[Symbol.iterator]();!(n=(c=l.next()).done)&&(e.push(c.value),!i||e.length!==i);n=!0);}catch(t){r=!0,o=t}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return e}(t,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function T(t){return function(t){if(Array.isArray(t)){for(var i=0,e=new Array(t.length);i<t.length;i++)e[i]=t[i];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function D(t,e,n,r){var o,c=!1,l=0;function h(){o&&clearTimeout(o)}function d(){var d=this,f=Date.now()-l,m=arguments;function v(){l=Date.now(),n.apply(d,m)}function y(){o=void 0}c||(r&&!o&&v(),h(),void 0===r&&f>t?v():!0!==e&&(o=setTimeout(r?y:v,void 0===r?t-f:t)))}return"boolean"!=typeof e&&(r=n,n=e,e=void 0),d.cancel=function(){h(),c=!0},d}var O=Object.freeze({__proto__:null,throttle:D,debounce:function(t,e,n){return void 0===n?D(t,e,!1):D(t,n,!1!==e)}}),C=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t,e){var n=e.Globals={};function r(t){return function(e,time){return t(time,e)}}e.throttle=r(O.throttle),e.debounce=r(O.debounce),e.getMergedDefinition=function(t){return n.Vue.util.mergeOptions({},t)},e.reapply=function(t,e){for(;"function"==typeof t;)t=t.call(e);return t},e.omit=function(t,e){return Object.entries(t).filter((function(t){var n=S(t,1)[0];return!e.includes(n)})).reduce((function(t,e){var n=S(e,2),r=n[0],o=n[1];return t[r]=o,t}),{})},e.addGqlError=function(t){t.graphQLErrors&&t.graphQLErrors.length&&(t.gqlError=t.graphQLErrors[0])},e.noop=function(){}})),A=C.Globals,k=C.throttle,P=C.debounce,j=(C.getMergedDefinition,C.reapply),L=C.omit,I=C.addGqlError,R=(C.noop,function(){function t(e,n,r){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];l(this,t),f(this,"type",null),f(this,"vueApolloSpecialKeys",[]),this.vm=e,this.key=n,this.initialOptions=r,this.options=Object.assign({},r),this._skip=!1,this._pollInterval=null,this._watchers=[],this._destroyed=!1,this.lastApolloOptions=null,o&&this.autostart()}return d(t,[{key:"autostart",value:function(){var t=this;"function"==typeof this.options.skip?this._skipWatcher=this.vm.$watch((function(){return t.options.skip.call(t.vm,t.vm,t.key)}),this.skipChanged.bind(this),{immediate:!0,deep:this.options.deep}):this.options.skip?this._skip=!0:this.start(),"function"==typeof this.options.pollInterval&&(this._pollWatcher=this.vm.$watch(this.options.pollInterval.bind(this.vm),this.pollIntervalChanged.bind(this),{immediate:!0}))}},{key:"pollIntervalChanged",value:function(t,e){t!==e&&(this.pollInterval=t,null==t?this.stopPolling():this.startPolling(t))}},{key:"skipChanged",value:function(t,e){t!==e&&(this.skip=t)}},{key:"refresh",value:function(){this._skip||(this.stop(),this.start())}},{key:"start",value:function(){var t=this;this.starting=!0;for(var e=function(e,n){var r=n[e];if("function"==typeof t.initialOptions[r]){var o=t.initialOptions[r].bind(t.vm);t.options[r]=o();var c=function(e){t.options[r]=e,t.refresh()};t.vm.$isServer||(c=t.options.throttle?k(c,t.options.throttle):c,c=t.options.debounce?P(c,t.options.debounce):c),t._watchers.push(t.vm.$watch(o,c,{deep:t.options.deep}))}},n=0,r=["query","document","context"];n<r.length;n++)e(n,r);if("function"==typeof this.options.variables){var o=this.executeApollo.bind(this);this.vm.$isServer||(o=this.options.throttle?k(o,this.options.throttle):o,o=this.options.debounce?P(o,this.options.debounce):o),this._watchers.push(this.vm.$watch((function(){return t.options.variables.call(t.vm)}),o,{immediate:!0,deep:this.options.deep}))}else this.executeApollo(this.options.variables)}},{key:"stop",value:function(){for(var t=0,e=this._watchers;t<e.length;t++){(0,e[t])()}this.sub&&(this.sub.unsubscribe(),this.sub=null)}},{key:"generateApolloOptions",value:function(t){var e=L(this.options,this.vueApolloSpecialKeys);return e.variables=t,this.lastApolloOptions=e,e}},{key:"executeApollo",value:function(t){this.starting=!1}},{key:"nextResult",value:function(t){var e=t.error;e&&I(e)}},{key:"callHandlers",value:function(t){for(var e=!1,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];for(var c=0;c<t.length;c++){var l=t[c];if(l){e=!0;var h=l.apply(this.vm,r);if(void 0!==h&&!h)break}}return e}},{key:"errorHandler",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.callHandlers.apply(this,[[this.options.error,this.vm.$apollo.error,this.vm.$apollo.provider.errorHandler]].concat(e))}},{key:"catchError",value:function(t){if(I(t),!this.errorHandler(t,this.vm,this.key,this.type,this.lastApolloOptions))if(t.graphQLErrors&&0!==t.graphQLErrors.length){console.error("GraphQL execution errors for ".concat(this.type," '").concat(this.key,"'"));for(var e=0,n=t.graphQLErrors;e<n.length;e++){var r=n[e];console.error(r)}}else if(t.networkError)console.error("Error sending the ".concat(this.type," '").concat(this.key,"'"),t.networkError);else{var o;if(console.error("[vue-apollo] An error has occurred for ".concat(this.type," '").concat(this.key,"'")),Array.isArray(t))(o=console).error.apply(o,T(t));else console.error(t)}}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.stop(),this._skipWatcher&&this._skipWatcher())}},{key:"pollInterval",get:function(){return this._pollInterval},set:function(t){this._pollInterval=t}},{key:"skip",get:function(){return this._skip},set:function(t){t?this.stop():this.start(),this._skip=t}}]),t}()),N=["variables","watch","update","result","error","loadingKey","watchLoading","skip","throttle","debounce","subscribeToMore","prefetch","manual"],F=function(t){function e(t,n,r){var o,c=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return l(this,e),t.$data.$apolloData&&!t.$data.$apolloData.queries[n]&&t.$set(t.$data.$apolloData.queries,n,{loading:!1}),f(w(o=E(this,_(e).call(this,t,n,r,!1))),"type","query"),f(w(o),"vueApolloSpecialKeys",N),f(w(o),"_loading",!1),f(w(o),"_linkedSubscriptions",[]),t.$isServer&&(o.firstRun=new Promise((function(t,e){o._firstRunResolve=t,o._firstRunReject=e}))),o.vm.$isServer&&(o.options.fetchPolicy="network-only"),r.manual||(o.hasDataField=o.vm.$data.hasOwnProperty(n),o.hasDataField?Object.defineProperty(o.vm.$data.$apolloData.data,n,{get:function(){return o.vm.$data[n]},enumerable:!0,configurable:!0}):Object.defineProperty(o.vm.$data,n,{get:function(){return o.vm.$data.$apolloData.data[n]},enumerable:!0,configurable:!0})),c&&o.autostart(),o}return y(e,t),d(e,[{key:"stop",value:function(){M(_(e.prototype),"stop",this).call(this),this.loadingDone(),this.observer&&(this.observer.stopPolling(),this.observer=null)}},{key:"generateApolloOptions",value:function(t){var n=M(_(e.prototype),"generateApolloOptions",this).call(this,t);return this.vm.$isServer&&delete n.pollInterval,n}},{key:"executeApollo",value:function(t){var n=JSON.stringify(t);if(this.sub){if(n===this.previousVariablesJson)return;this.sub.unsubscribe();for(var r=0,o=this._linkedSubscriptions;r<o.length;r++){o[r].stop()}}if(this.previousVariablesJson=n,this.observer=this.vm.$apollo.watchQuery(this.generateApolloOptions(t)),this.startQuerySubscription(),"no-cache"!==this.options.fetchPolicy||this.options.notifyOnNetworkStatusChange){var c=this.maySetLoading();c.loading&&!this.options.notifyOnNetworkStatusChange||this.nextResult(c)}M(_(e.prototype),"executeApollo",this).call(this,t);for(var l=0,h=this._linkedSubscriptions;l<h.length;l++){h[l].start()}}},{key:"startQuerySubscription",value:function(){this.sub&&!this.sub.closed||(this.sub=this.observer.subscribe({next:this.nextResult.bind(this),error:this.catchError.bind(this)}))}},{key:"maySetLoading",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.observer.getCurrentResult?this.observer.getCurrentResult():this.observer.currentResult();return(t||e.loading)&&(this.loading||this.applyLoadingModifier(1),this.loading=!0),e}},{key:"nextResult",value:function(t){M(_(e.prototype),"nextResult",this).call(this,t);var data=t.data,n=t.loading,r=t.error,o=t.errors,c=o&&o.length;if((r||c)&&this.firstRunReject(r),n||this.loadingDone(),c){var l=new Error("GraphQL error: ".concat(o.map((function(t){return t.message})).join(" | ")));Object.assign(l,{graphQLErrors:o,networkError:null}),M(_(e.prototype),"catchError",this).call(this,l)}if("none"!==this.observer.options.errorPolicy||!r&&!c){var h="function"==typeof this.options.result;null==data||(this.options.manual?h||console.error("".concat(this.key," query must have a 'result' hook in manual mode")):"function"==typeof this.options.update?this.setData(this.options.update.call(this.vm,data)):void 0===data[this.key]&&Object.keys(data).length?console.error("Missing ".concat(this.key," attribute on result"),data):this.setData(data[this.key])),h&&this.options.result.call(this.vm,t,this.key)}}},{key:"setData",value:function(t){this.vm.$set(this.hasDataField?this.vm.$data:this.vm.$data.$apolloData.data,this.key,t)}},{key:"catchError",value:function(t){M(_(e.prototype),"catchError",this).call(this,t),this.firstRunReject(t),this.loadingDone(t),this.nextResult(this.observer.getCurrentResult?this.observer.getCurrentResult():this.observer.currentResult()),this.resubscribeToQuery()}},{key:"resubscribeToQuery",value:function(){var t=this.observer.getLastError(),e=this.observer.getLastResult();this.observer.resetLastResults(),this.startQuerySubscription(),Object.assign(this.observer,{lastError:t,lastResult:e})}},{key:"watchLoading",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.callHandlers.apply(this,[[this.options.watchLoading,this.vm.$apollo.watchLoading,this.vm.$apollo.provider.watchLoading]].concat(e,[this]))}},{key:"applyLoadingModifier",value:function(t){var e=this.loadingKey;e&&"number"==typeof this.vm[e]&&(this.vm[e]+=t),this.watchLoading(1===t,t)}},{key:"loadingDone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.loading&&this.applyLoadingModifier(-1),this.loading=!1,t||this.firstRunResolve()}},{key:"fetchMore",value:function(){var t,e=this;if(this.observer)return this.maySetLoading(!0),(t=this.observer).fetchMore.apply(t,arguments).then((function(t){return t.loading||e.loadingDone(),t}))}},{key:"subscribeToMore",value:function(){var t;if(this.observer)return{unsubscribe:(t=this.observer).subscribeToMore.apply(t,arguments)}}},{key:"refetch",value:function(t){var e=this;if(t&&(this.options.variables=t),this.observer){var n=this.observer.refetch(t).then((function(t){return t.loading||e.loadingDone(),t}));return this.maySetLoading(),n}}},{key:"setVariables",value:function(t,e){if(this.options.variables=t,this.observer){var n=this.observer.setVariables(t,e);return this.maySetLoading(),n}}},{key:"setOptions",value:function(t){if(Object.assign(this.options,t),this.observer){var e=this.observer.setOptions(t);return this.maySetLoading(),e}}},{key:"startPolling",value:function(){var t;if(this.observer)return(t=this.observer).startPolling.apply(t,arguments)}},{key:"stopPolling",value:function(){var t;if(this.observer)return(t=this.observer).stopPolling.apply(t,arguments)}},{key:"firstRunResolve",value:function(){this._firstRunResolve&&(this._firstRunResolve(),this._firstRunResolve=null)}},{key:"firstRunReject",value:function(t){this._firstRunReject&&(this._firstRunReject(t),this._firstRunReject=null)}},{key:"destroy",value:function(){M(_(e.prototype),"destroy",this).call(this),this.loading&&this.watchLoading(!1,-1),this.loading=!1}},{key:"client",get:function(){return this.vm.$apollo.getClient(this.options)}},{key:"loading",get:function(){return this.vm.$data.$apolloData&&this.vm.$data.$apolloData.queries[this.key]?this.vm.$data.$apolloData.queries[this.key].loading:this._loading},set:function(t){this._loading!==t&&(this._loading=t,this.vm.$data.$apolloData&&this.vm.$data.$apolloData.queries[this.key]&&(this.vm.$data.$apolloData.queries[this.key].loading=t,this.vm.$data.$apolloData.loading+=t?1:-1))}},{key:"loadingKey",get:function(){return this.options.loadingKey||this.vm.$apollo.loadingKey}}]),e}(R),B=function(t){function e(){var t,n;l(this,e);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return f(w(n=E(this,(t=_(e)).call.apply(t,[this].concat(o)))),"type","subscription"),f(w(n),"vueApolloSpecialKeys",["variables","result","error","throttle","debounce","linkedQuery"]),n}return y(e,t),d(e,[{key:"executeApollo",value:function(t){var n=JSON.stringify(t);if(this.sub){if(n===this.previousVariablesJson)return;this.sub.unsubscribe()}this.previousVariablesJson=n;var r=this.generateApolloOptions(t);if("function"==typeof r.updateQuery&&(r.updateQuery=r.updateQuery.bind(this.vm)),this.options.linkedQuery){if("function"==typeof this.options.result){var o=this.options.result.bind(this.vm),c=r.updateQuery&&r.updateQuery.bind(this.vm);r.updateQuery=function(){return o.apply(void 0,arguments),c&&c.apply(void 0,arguments)}}this.sub=this.options.linkedQuery.subscribeToMore(r)}else this.observer=this.vm.$apollo.subscribe(r),this.sub=this.observer.subscribe({next:this.nextResult.bind(this),error:this.catchError.bind(this)});M(_(e.prototype),"executeApollo",this).call(this,t)}},{key:"nextResult",value:function(data){M(_(e.prototype),"nextResult",this).call(this,data),"function"==typeof this.options.result&&this.options.result.call(this.vm,data,this.key)}}]),e}(R),U=function(){function t(e){l(this,t),this._apolloSubscriptions=[],this._watchers=[],this.vm=e,this.queries={},this.subscriptions={},this.client=void 0,this.loadingKey=void 0,this.error=void 0}return d(t,[{key:"getClient",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!t||!t.client){if("object"===c(this.client))return this.client;if(this.client){if(this.provider.clients){var e=this.provider.clients[this.client];if(!e)throw new Error("[vue-apollo] Missing client '".concat(this.client,"' in 'apolloProvider'"));return e}throw new Error("[vue-apollo] Missing 'clients' options in 'apolloProvider'")}return this.provider.defaultClient}var n=this.provider.clients[t.client];if(!n)throw new Error("[vue-apollo] Missing client '".concat(t.client,"' in 'apolloProvider'"));return n}},{key:"query",value:function(t){return this.getClient(t).query(t)}},{key:"watchQuery",value:function(t){var e=this,n=this.getClient(t).watchQuery(t),r=n.subscribe.bind(n);return n.subscribe=function(t){var sub=r(t);return e._apolloSubscriptions.push(sub),sub},n}},{key:"mutate",value:function(t){return this.getClient(t).mutate(t)}},{key:"subscribe",value:function(t){var e=this;if(!this.vm.$isServer){var n=this.getClient(t).subscribe(t),r=n.subscribe.bind(n);return n.subscribe=function(t){var sub=r(t);return e._apolloSubscriptions.push(sub),sub},n}}},{key:"addSmartQuery",value:function(t,e){var n=this,r=j(e,this.vm);r.query||(r={query:r});var o,c=this.vm.$options.apollo,l=this.provider.defaultOptions;if(l&&l.$query&&(o=l.$query),c&&c.$query&&(o=v({},o||{},{},c.$query)),o)for(var h in o)void 0===r[h]&&(r[h]=o[h]);var d=this.queries[t]=new F(this.vm,t,r,!1);if(this.vm.$isServer&&!1===r.prefetch||d.autostart(),!this.vm.$isServer){var f=r.subscribeToMore;f&&(Array.isArray(f)?f.forEach((function(sub,e){n.addSmartSubscription("".concat(t).concat(e),v({},sub,{linkedQuery:d}))})):this.addSmartSubscription(t,v({},f,{linkedQuery:d})))}return d}},{key:"addSmartSubscription",value:function(t,e){if(!this.vm.$isServer){e=j(e,this.vm);var n=this.subscriptions[t]=new B(this.vm,t,e,!1);return n.autostart(),e.linkedQuery&&e.linkedQuery._linkedSubscriptions.push(n),n}}},{key:"defineReactiveSetter",value:function(t,e,n){var r=this;this._watchers.push(this.vm.$watch(e,(function(e){r[t]=e}),{immediate:!0,deep:n}))}},{key:"destroy",value:function(){for(var t=0,e=this._watchers;t<e.length;t++){(0,e[t])()}for(var n in this.queries)this.queries[n].destroy();for(var r in this.subscriptions)this.subscriptions[r].destroy();this._apolloSubscriptions.forEach((function(sub){sub.unsubscribe()}))}},{key:"provider",get:function(){return this.vm.$apolloProvider}},{key:"loading",get:function(){return 0!==this.vm.$data.$apolloData.loading}},{key:"data",get:function(){return this.vm.$data.$apolloData.data}},{key:"skipAllQueries",set:function(t){for(var e in this.queries)this.queries[e].skip=t}},{key:"skipAllSubscriptions",set:function(t){for(var e in this.subscriptions)this.subscriptions[e].skip=t}},{key:"skipAll",set:function(t){this.skipAllQueries=t,this.skipAllSubscriptions=t}}]),t}(),V=function(){function t(e){if(l(this,t),!e)throw new Error("Options argument required");this.clients=e.clients||{},e.defaultClient&&(this.clients.defaultClient=this.defaultClient=e.defaultClient),this.defaultOptions=e.defaultOptions,this.watchLoading=e.watchLoading,this.errorHandler=e.errorHandler,this.prefetch=e.prefetch}return d(t,[{key:"provide",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"$apolloProvider";return console.warn("<ApolloProvider>.provide() is deprecated. Use the 'apolloProvider' option instead with the provider object directly."),f({},t,this)}}]),t}();var z={name:"ApolloQuery",provide:function(){return{getDollarApollo:this.getDollarApollo,getApolloQuery:this.getApolloQuery}},props:{query:{type:[Function,Object],required:!0},variables:{type:Object,default:void 0},fetchPolicy:{type:String,default:void 0},pollInterval:{type:Number,default:void 0},notifyOnNetworkStatusChange:{type:Boolean,default:void 0},context:{type:Object,default:void 0},update:{type:Function,default:function(data){return data}},skip:{type:Boolean,default:!1},debounce:{type:Number,default:0},throttle:{type:Number,default:0},clientId:{type:String,default:void 0},deep:{type:Boolean,default:void 0},tag:{type:String,default:"div"},prefetch:{type:Boolean,default:!0},options:{type:Object,default:function(){return{}}}},data:function(){return{result:{data:null,loading:!1,networkStatus:7,error:null},times:0}},watch:{fetchPolicy:function(t){this.$apollo.queries.query.setOptions({fetchPolicy:t})},pollInterval:function(t){this.$apollo.queries.query.setOptions({pollInterval:t})},notifyOnNetworkStatusChange:function(t){this.$apollo.queries.query.setOptions({notifyOnNetworkStatusChange:t})},"$data.$apolloData.loading":function(t){this.$emit("loading",!!t)}},apollo:{$client:function(){return this.clientId},query:function(){return v({query:function(){return"function"==typeof this.query?this.query(o.a):this.query},variables:function(){return this.variables},fetchPolicy:this.fetchPolicy,pollInterval:this.pollInterval,debounce:this.debounce,throttle:this.throttle,notifyOnNetworkStatusChange:this.notifyOnNetworkStatusChange,context:function(){return this.context},skip:function(){return this.skip},deep:this.deep,prefetch:this.prefetch},this.options,{manual:!0,result:function(t){var e=t,n=e.errors,r=e.loading,o=e.networkStatus,c=t.error;t=Object.assign({},t),n&&n.length&&((c=new Error("Apollo errors occurred (".concat(n.length,")"))).graphQLErrors=n);var data={};r?Object.assign(data,this.$_previousData,t.data):c?Object.assign(data,this.$apollo.queries.query.observer.getLastResult()||{},t.data):(data=t.data,this.$_previousData=t.data);var l=function(data){return Object.keys(data).length>0}(data);this.result={data:l?this.update(data):void 0,fullData:l?data:void 0,loading:r,error:c,networkStatus:o},this.times=++this.$_times,this.$emit("result",this.result)},error:function(t){this.result.loading=!1,this.result.error=t,this.$emit("error",t)}})}},created:function(){this.$_times=0},methods:{getDollarApollo:function(){return this.$apollo},getApolloQuery:function(){return this.$apollo.queries.query}},render:function(t){var e=this.$scopedSlots.default({result:this.result,times:this.times,query:this.$apollo.queries.query,isLoading:this.$apolloData.loading,gqlError:this.result&&this.result.error&&this.result.error.gqlError});return e=Array.isArray(e)?e.concat(this.$slots.default):[e].concat(this.$slots.default),this.tag?t(this.tag,e):e[0]}},H=0,G={name:"ApolloSubscribeToMore",inject:["getDollarApollo","getApolloQuery"],props:{document:{type:[Function,Object],required:!0},variables:{type:Object,default:void 0},updateQuery:{type:Function,default:void 0}},watch:{document:"refresh",variables:"refresh"},created:function(){this.$_key="sub_component_".concat(H++)},mounted:function(){this.refresh()},beforeDestroy:function(){this.destroy()},methods:{destroy:function(){this.$_sub&&this.$_sub.destroy()},refresh:function(){this.destroy();var t=this.document;"function"==typeof t&&(t=t(o.a)),this.$_sub=this.getDollarApollo().addSmartSubscription(this.$_key,{document:t,variables:this.variables,updateQuery:this.updateQuery,linkedQuery:this.getApolloQuery()})}},render:function(t){return null}},W={props:{mutation:{type:[Function,Object],required:!0},variables:{type:Object,default:void 0},optimisticResponse:{type:Object,default:void 0},update:{type:Function,default:void 0},refetchQueries:{type:Function,default:void 0},clientId:{type:String,default:void 0},tag:{type:String,default:"div"},context:{type:Object,default:void 0}},data:function(){return{loading:!1,error:null}},watch:{loading:function(t){this.$emit("loading",t)}},methods:{mutate:function(t){var e=this;this.loading=!0,this.error=null;var n=this.mutation;return"function"==typeof n&&(n=n(o.a)),this.$apollo.mutate(v({mutation:n,client:this.clientId,variables:this.variables,optimisticResponse:this.optimisticResponse,update:this.update,refetchQueries:this.refetchQueries,context:this.context},t)).then((function(t){e.$emit("done",t),e.loading=!1})).catch((function(t){I(t),e.error=t,e.$emit("error",t),e.loading=!1}))}},render:function(t){var e=this.$scopedSlots.default({mutate:this.mutate,loading:this.loading,error:this.error,gqlError:this.error&&this.error.gqlError});return e=Array.isArray(e)?e.concat(this.$slots.default):[e].concat(this.$slots.default),this.tag?t(this.tag,e):e[0]}};function $(t,e){return void 0!==t&&Object.prototype.hasOwnProperty.call(t,e)}function Q(){var t=this.$options,e=t.apolloProvider;if(e)this.$apolloProvider="function"==typeof e?e():e;else if(t.parent&&t.parent.$apolloProvider)this.$apolloProvider=t.parent.$apolloProvider;else if(t.provide){var n="function"==typeof t.provide?t.provide.call(this):t.provide;n&&n.$apolloProvider&&(this.$apolloProvider=n.$apolloProvider)}}function X(){var t=this;this.$_apolloInitData={};var e=this.$options.apollo;if(e){var n=function(n){"$"!==n.charAt(0)&&(e[n].manual||$(t.$options.props,n)||$(t.$options.computed,n)||$(t.$options.methods,n)||Object.defineProperty(t,n,{get:function(){return t.$data.$apolloData.data[n]},set:function(e){return t.$_apolloInitData[n]=e},enumerable:!0,configurable:!0}))};for(var r in e)n(r)}}function Y(){var t=this,e=this.$apolloProvider;if(!this._apolloLaunched&&e){this._apolloLaunched=!0;var n=this.$options.apollo;if(n){for(var r in this.$_apolloPromises=[],n.$init||(n.$init=!0,e.defaultOptions&&(n=this.$options.apollo=Object.assign({},e.defaultOptions,n))),K(this.$apollo,"skipAll",n.$skipAll,n.$deep),K(this.$apollo,"skipAllQueries",n.$skipAllQueries,n.$deep),K(this.$apollo,"skipAllSubscriptions",n.$skipAllSubscriptions,n.$deep),K(this.$apollo,"client",n.$client,n.$deep),K(this.$apollo,"loadingKey",n.$loadingKey,n.$deep),K(this.$apollo,"error",n.$error,n.$deep),K(this.$apollo,"watchLoading",n.$watchLoading,n.$deep),Object.defineProperty(this,"$apolloData",{get:function(){return t.$data.$apolloData},enumerable:!0,configurable:!0}),n)if("$"!==r.charAt(0)){var o=n[r],c=this.$apollo.addSmartQuery(r,o);this.$isServer&&(o=j(o,this),!1===e.prefetch||!1===o.prefetch||!1===n.$prefetch||c.skip||this.$_apolloPromises.push(c.firstRun))}if(n.subscribe&&A.Vue.util.warn("vue-apollo -> `subscribe` option is deprecated. Use the `$subscribe` option instead."),n.$subscribe)for(var l in n.$subscribe)this.$apollo.addSmartSubscription(l,n.$subscribe[l])}}}function K(t,e,n,r){void 0!==n&&("function"==typeof n?t.defineReactiveSetter(e,n,r):t[e]=n)}function J(){this.$_apollo&&this.$_apollo.destroy()}function Z(t,e){t.mixin(v({},"1"===e?{init:Q}:{},{},"2"===e?{data:function(){return{$apolloData:{queries:{},loading:0,data:this.$_apolloInitData}}},beforeCreate:function(){Q.call(this),X.call(this)},serverPrefetch:function(){var t=this;if(this.$_apolloPromises)return Promise.all(this.$_apolloPromises).then((function(){J.call(t)})).catch((function(e){return J.call(t),Promise.reject(e)}))}}:{},{created:Y,destroyed:J}))}var tt=["$subscribe"];V.install=function t(e,n){if(!t.installed){t.installed=!0,A.Vue=e;var r=e.version.substr(0,e.version.indexOf(".")),o=e.config.optionMergeStrategies.methods;e.config.optionMergeStrategies.apollo=function(t,e,n){if(!t)return e;if(!e)return t;for(var r=Object.assign({},L(t,tt),t.data),c=Object.assign({},L(e,tt),e.data),map={},i=0;i<tt.length;i++){var l=tt[i];map[l]=o(t[l],e[l])}return Object.assign(map,o(r,c))},e.prototype.hasOwnProperty("$apollo")||Object.defineProperty(e.prototype,"$apollo",{get:function(){return this.$_apollo||(this.$_apollo=new U(this)),this.$_apollo}}),Z(e,r),"2"===r&&(e.component("apollo-query",z),e.component("ApolloQuery",z),e.component("apollo-subscribe-to-more",G),e.component("ApolloSubscribeToMore",G),e.component("apollo-mutation",W),e.component("ApolloMutation",W))}},V.version="3.0.5";var et=null;"undefined"!=typeof window?et=window.Vue:void 0!==t&&(et=t.Vue),et&&et.use(V),e.a=V}).call(this,n(44))},244:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));n(133),n(40);var r=n(0),o=n(107),c=n(129),l=n(46),h=function(t,e){l.a.call(this),this.scene=t,this.camera=e,this.clear=!0,this.needsSwap=!1,this.inverse=!1};h.prototype=Object.assign(Object.create(l.a.prototype),{constructor:h,render:function(t,e,n){var r,o,c=t.getContext(),l=t.state;l.buffers.color.setMask(!1),l.buffers.depth.setMask(!1),l.buffers.color.setLocked(!0),l.buffers.depth.setLocked(!0),this.inverse?(r=0,o=1):(r=1,o=0),l.buffers.stencil.setTest(!0),l.buffers.stencil.setOp(c.REPLACE,c.REPLACE,c.REPLACE),l.buffers.stencil.setFunc(c.ALWAYS,r,4294967295),l.buffers.stencil.setClear(o),l.buffers.stencil.setLocked(!0),t.setRenderTarget(n),this.clear&&t.clear(),t.render(this.scene,this.camera),t.setRenderTarget(e),this.clear&&t.clear(),t.render(this.scene,this.camera),l.buffers.color.setLocked(!1),l.buffers.depth.setLocked(!1),l.buffers.stencil.setLocked(!1),l.buffers.stencil.setFunc(c.EQUAL,1,4294967295),l.buffers.stencil.setOp(c.KEEP,c.KEEP,c.KEEP),l.buffers.stencil.setLocked(!0)}});var d=function(){l.a.call(this),this.needsSwap=!1};d.prototype=Object.create(l.a.prototype),Object.assign(d.prototype,{render:function(t){t.state.buffers.stencil.setLocked(!1),t.state.buffers.stencil.setTest(!1)}});var f=function(t,e){if(this.renderer=t,void 0===e){var n={minFilter:r.k,magFilter:r.k,format:r.s},l=t.getSize(new r.C);this._pixelRatio=t.getPixelRatio(),this._width=l.width,this._height=l.height,(e=new r.F(this._width*this._pixelRatio,this._height*this._pixelRatio,n)).texture.name="EffectComposer.rt1"}else this._pixelRatio=1,this._width=e.width,this._height=e.height;this.renderTarget1=e,this.renderTarget2=e.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],void 0===o.a&&console.error("THREE.EffectComposer relies on CopyShader"),void 0===c.a&&console.error("THREE.EffectComposer relies on ShaderPass"),this.copyPass=new c.a(o.a),this.clock=new r.d};Object.assign(f.prototype,{swapBuffers:function(){var t=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=t},addPass:function(t){this.passes.push(t),t.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)},insertPass:function(t,e){this.passes.splice(e,0,t),t.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)},isLastEnabledPass:function(t){for(var i=t+1;i<this.passes.length;i++)if(this.passes[i].enabled)return!1;return!0},render:function(t){void 0===t&&(t=this.clock.getDelta());var e,i,n=this.renderer.getRenderTarget(),r=!1,o=this.passes.length;for(i=0;i<o;i++)if(!1!==(e=this.passes[i]).enabled){if(e.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(i),e.render(this.renderer,this.writeBuffer,this.readBuffer,t,r),e.needsSwap){if(r){var c=this.renderer.getContext(),l=this.renderer.state.buffers.stencil;l.setFunc(c.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,t),l.setFunc(c.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==h&&(e instanceof h?r=!0:e instanceof d&&(r=!1))}this.renderer.setRenderTarget(n)},reset:function(t){if(void 0===t){var e=this.renderer.getSize(new r.C);this._pixelRatio=this.renderer.getPixelRatio(),this._width=e.width,this._height=e.height,(t=this.renderTarget1.clone()).setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=t,this.renderTarget2=t.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2},setSize:function(t,e){this._width=t,this._height=e;var n=this._width*this._pixelRatio,r=this._height*this._pixelRatio;this.renderTarget1.setSize(n,r),this.renderTarget2.setSize(n,r);for(var i=0;i<this.passes.length;i++)this.passes[i].setSize(n,r)},setPixelRatio:function(t){this._pixelRatio=t,this.setSize(this._width,this._height)}});var m,v,y,_=function(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1};Object.assign(_.prototype,{setSize:function(){},render:function(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}),_.FullScreenQuad=(m=new r.o(-1,1,1,-1,0,1),v=new r.q(2,2),y=function(t){this._mesh=new r.m(v,t)},Object.defineProperty(y.prototype,"material",{get:function(){return this._mesh.material},set:function(t){this._mesh.material=t}}),Object.assign(y.prototype,{dispose:function(){this._mesh.geometry.dispose()},render:function(t){t.render(this._mesh,m)}}),y)},25:function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var content=function(t,e){var content=t[1]||"",n=t[3];if(!n)return content;if(e&&"function"==typeof btoa){var r=(c=n,l=btoa(unescape(encodeURIComponent(JSON.stringify(c)))),data="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(l),"/*# ".concat(data," */")),o=n.sources.map((function(source){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(source," */")}));return[content].concat(o).concat([r]).join("\n")}var c,l,data;return[content].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(content,"}"):content})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var c=this[i][0];null!=c&&(o[c]=!0)}for(var l=0;l<t.length;l++){var h=[].concat(t[l]);r&&o[h[0]]||(n&&(h[2]?h[2]="".concat(n," and ").concat(h[2]):h[2]=n),e.push(h))}},e}},26:function(t,e,n){"use strict";function r(t,e){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],c=o[0],l={id:t+":"+i,css:o[1],media:o[2],sourceMap:o[3]};r[c]?r[c].parts.push(l):n.push(r[c]={id:c,parts:[l]})}return n}n.r(e),n.d(e,"default",(function(){return y}));var o="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!o)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var c={},head=o&&(document.head||document.getElementsByTagName("head")[0]),l=null,h=0,d=!1,f=function(){},m=null,v="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function y(t,e,n,o){d=n,m=o||{};var l=r(t,e);return _(l),function(e){for(var n=[],i=0;i<l.length;i++){var o=l[i];(h=c[o.id]).refs--,n.push(h)}e?_(l=r(t,e)):l=[];for(i=0;i<n.length;i++){var h;if(0===(h=n[i]).refs){for(var d=0;d<h.parts.length;d++)h.parts[d]();delete c[h.id]}}}}function _(t){for(var i=0;i<t.length;i++){var e=t[i],n=c[e.id];if(n){n.refs++;for(var r=0;r<n.parts.length;r++)n.parts[r](e.parts[r]);for(;r<e.parts.length;r++)n.parts.push(w(e.parts[r]));n.parts.length>e.parts.length&&(n.parts.length=e.parts.length)}else{var o=[];for(r=0;r<e.parts.length;r++)o.push(w(e.parts[r]));c[e.id]={id:e.id,refs:1,parts:o}}}}function x(){var t=document.createElement("style");return t.type="text/css",head.appendChild(t),t}function w(t){var e,n,r=document.querySelector('style[data-vue-ssr-id~="'+t.id+'"]');if(r){if(d)return f;r.parentNode.removeChild(r)}if(v){var o=h++;r=l||(l=x()),e=S.bind(null,r,o,!1),n=S.bind(null,r,o,!0)}else r=x(),e=T.bind(null,r),n=function(){r.parentNode.removeChild(r)};return e(t),function(r){if(r){if(r.css===t.css&&r.media===t.media&&r.sourceMap===t.sourceMap)return;e(t=r)}else n()}}var E,M=(E=[],function(t,e){return E[t]=e,E.filter(Boolean).join("\n")});function S(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=M(e,o);else{var c=document.createTextNode(o),l=t.childNodes;l[e]&&t.removeChild(l[e]),l.length?t.insertBefore(c,l[e]):t.appendChild(c)}}function T(t,e){var n=e.css,r=e.media,o=e.sourceMap;if(r&&t.setAttribute("media",r),m.ssrId&&t.setAttribute("data-vue-ssr-id",e.id),o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}},275:function(t,e,n){var content=n(407);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(26).default)("4a1cbb1a",content,!0,{sourceMap:!1})},276:function(t,e,n){var content=n(409);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(26).default)("fa7ff0ca",content,!0,{sourceMap:!1})},277:function(t,e,n){"use strict";t.exports=function(t,e){return e||(e={}),"string"!=typeof(t=t&&t.__esModule?t.default:t)?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},297:function(t,e,n){t.exports=function(t,e,n,i,r){for(e=e.split?e.split("."):e,i=0;i<e.length;i++)t=t?t[e[i]]:r;return t===r?n:t}},298:function(t,e,n){"use strict";t.exports=function(t){const e=function(t){try{return JSON.parse(t)}catch(e){return t}}(t);return void 0===e?null:e}},3:function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"addTypenameToDocument",(function(){return ot})),n.d(e,"argumentsObjectFromField",(function(){return w})),n.d(e,"assign",(function(){return B})),n.d(e,"buildQueryFromSelectionSet",(function(){return ft})),n.d(e,"canUseWeakMap",(function(){return vt})),n.d(e,"checkDocument",(function(){return V})),n.d(e,"cloneDeep",(function(){return yt})),n.d(e,"createFragmentMap",(function(){return Y})),n.d(e,"getDefaultValues",(function(){return K})),n.d(e,"getDirectiveInfoFromField",(function(){return k})),n.d(e,"getDirectiveNames",(function(){return j})),n.d(e,"getDirectivesFromDocument",(function(){return lt})),n.d(e,"getEnv",(function(){return _t})),n.d(e,"getFragmentDefinition",(function(){return Q})),n.d(e,"getFragmentDefinitions",(function(){return W})),n.d(e,"getFragmentQueryDocument",(function(){return F})),n.d(e,"getInclusionDirectives",(function(){return N})),n.d(e,"getMainDefinition",(function(){return X})),n.d(e,"getMutationDefinition",(function(){return U})),n.d(e,"getOperationDefinition",(function(){return z})),n.d(e,"getOperationDefinitionOrDie",(function(){return H})),n.d(e,"getOperationName",(function(){return G})),n.d(e,"getQueryDefinition",(function(){return $})),n.d(e,"getStoreKeyName",(function(){return x})),n.d(e,"graphQLResultHasError",(function(){return St})),n.d(e,"hasClientExports",(function(){return I})),n.d(e,"hasDirectives",(function(){return L})),n.d(e,"isDevelopment",(function(){return wt})),n.d(e,"isEnv",(function(){return bt})),n.d(e,"isField",(function(){return M})),n.d(e,"isIdValue",(function(){return T})),n.d(e,"isInlineFragment",(function(){return S})),n.d(e,"isJsonValue",(function(){return O})),n.d(e,"isNumberValue",(function(){return m})),n.d(e,"isProduction",(function(){return xt})),n.d(e,"isScalarValue",(function(){return f})),n.d(e,"isTest",(function(){return Et})),n.d(e,"maybeDeepFreeze",(function(){return Tt})),n.d(e,"mergeDeep",(function(){return Ot})),n.d(e,"mergeDeepArray",(function(){return Ct})),n.d(e,"removeArgumentsFromDocument",(function(){return ht})),n.d(e,"removeClientSetsFromDocument",(function(){return mt})),n.d(e,"removeConnectionDirectiveFromDocument",(function(){return st})),n.d(e,"removeDirectivesFromDocument",(function(){return it})),n.d(e,"removeFragmentSpreadFromDocument",(function(){return pt})),n.d(e,"resultKeyNameFromField",(function(){return E})),n.d(e,"shouldInclude",(function(){return P})),n.d(e,"storeKeyNameFromField",(function(){return y})),n.d(e,"stripSymbols",(function(){return It})),n.d(e,"toIdValue",(function(){return D})),n.d(e,"tryFunctionOrLogError",(function(){return Mt})),n.d(e,"valueFromNode",(function(){return A})),n.d(e,"valueToObjectRepresentation",(function(){return v})),n.d(e,"variablesInOperation",(function(){return J})),n.d(e,"warnOnceInDevelopment",(function(){return Lt}));var r=n(55),o=n(9),c=n(2),l=n(376),h=n.n(l),d=n(319);function f(t){return["StringValue","BooleanValue","EnumValue"].indexOf(t.kind)>-1}function m(t){return["IntValue","FloatValue"].indexOf(t.kind)>-1}function v(t,e,n,r){if(function(t){return"IntValue"===t.kind}(n)||function(t){return"FloatValue"===t.kind}(n))t[e.value]=Number(n.value);else if(function(t){return"BooleanValue"===t.kind}(n)||function(t){return"StringValue"===t.kind}(n))t[e.value]=n.value;else if(function(t){return"ObjectValue"===t.kind}(n)){var c={};n.fields.map((function(t){return v(c,t.name,t.value,r)})),t[e.value]=c}else if(function(t){return"Variable"===t.kind}(n)){var l=(r||{})[n.name.value];t[e.value]=l}else if(function(t){return"ListValue"===t.kind}(n))t[e.value]=n.values.map((function(t){var n={};return v(n,e,t,r),n[e.value]}));else if(function(t){return"EnumValue"===t.kind}(n))t[e.value]=n.value;else{if(!function(t){return"NullValue"===t.kind}(n))throw new o.a(17);t[e.value]=null}}function y(t,e){var n=null;t.directives&&(n={},t.directives.forEach((function(t){n[t.name.value]={},t.arguments&&t.arguments.forEach((function(r){var o=r.name,c=r.value;return v(n[t.name.value],o,c,e)}))})));var r=null;return t.arguments&&t.arguments.length&&(r={},t.arguments.forEach((function(t){var n=t.name,o=t.value;return v(r,n,o,e)}))),x(t.name.value,r,n)}n.d(e,"isEqual",(function(){return d.a}));var _=["connection","include","skip","client","rest","export"];function x(t,e,n){if(n&&n.connection&&n.connection.key){if(n.connection.filter&&n.connection.filter.length>0){var r=n.connection.filter?n.connection.filter:[];r.sort();var o=e,c={};return r.forEach((function(t){c[t]=o[t]})),n.connection.key+"("+JSON.stringify(c)+")"}return n.connection.key}var l=t;if(e){var d=h()(e);l+="("+d+")"}return n&&Object.keys(n).forEach((function(t){-1===_.indexOf(t)&&(n[t]&&Object.keys(n[t]).length?l+="@"+t+"("+JSON.stringify(n[t])+")":l+="@"+t)})),l}function w(t,e){if(t.arguments&&t.arguments.length){var n={};return t.arguments.forEach((function(t){var r=t.name,o=t.value;return v(n,r,o,e)})),n}return null}function E(t){return t.alias?t.alias.value:t.name.value}function M(t){return"Field"===t.kind}function S(t){return"InlineFragment"===t.kind}function T(t){return t&&"id"===t.type&&"boolean"==typeof t.generated}function D(t,e){return void 0===e&&(e=!1),Object(c.__assign)({type:"id",generated:e},"string"==typeof t?{id:t,typename:void 0}:t)}function O(t){return null!=t&&"object"==typeof t&&"json"===t.type}function C(t){throw new o.a(18)}function A(t,e){switch(void 0===e&&(e=C),t.kind){case"Variable":return e(t);case"NullValue":return null;case"IntValue":return parseInt(t.value,10);case"FloatValue":return parseFloat(t.value);case"ListValue":return t.values.map((function(t){return A(t,e)}));case"ObjectValue":for(var n={},r=0,o=t.fields;r<o.length;r++){var c=o[r];n[c.name.value]=A(c.value,e)}return n;default:return t.value}}function k(t,e){if(t.directives&&t.directives.length){var n={};return t.directives.forEach((function(t){n[t.name.value]=w(t,e)})),n}return null}function P(t,e){return void 0===e&&(e={}),N(t.directives).every((function(t){var n=t.directive,r=t.ifArgument,c=!1;return"Variable"===r.value.kind?(c=e[r.value.name.value],Object(o.b)(void 0!==c,13)):c=r.value.value,"skip"===n.name.value?!c:c}))}function j(t){var e=[];return Object(r.b)(t,{Directive:function(t){e.push(t.name.value)}}),e}function L(t,e){return j(e).some((function(e){return t.indexOf(e)>-1}))}function I(t){return t&&L(["client"],t)&&L(["export"],t)}function R(t){var e=t.name.value;return"skip"===e||"include"===e}function N(t){return t?t.filter(R).map((function(t){var e=t.arguments;t.name.value;Object(o.b)(e&&1===e.length,14);var n=e[0];Object(o.b)(n.name&&"if"===n.name.value,15);var r=n.value;return Object(o.b)(r&&("Variable"===r.kind||"BooleanValue"===r.kind),16),{directive:t,ifArgument:n}})):[]}function F(t,e){var n=e,r=[];return t.definitions.forEach((function(t){if("OperationDefinition"===t.kind)throw new o.a(11);"FragmentDefinition"===t.kind&&r.push(t)})),void 0===n&&(Object(o.b)(1===r.length,12),n=r[0].name.value),Object(c.__assign)(Object(c.__assign)({},t),{definitions:Object(c.__spreadArrays)([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:n}}]}}],t.definitions)})}function B(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.forEach((function(source){null!=source&&Object.keys(source).forEach((function(e){t[e]=source[e]}))})),t}function U(t){V(t);var e=t.definitions.filter((function(t){return"OperationDefinition"===t.kind&&"mutation"===t.operation}))[0];return Object(o.b)(e,1),e}function V(t){Object(o.b)(t&&"Document"===t.kind,2);var e=t.definitions.filter((function(t){return"FragmentDefinition"!==t.kind})).map((function(t){if("OperationDefinition"!==t.kind)throw new o.a(3);return t}));return Object(o.b)(e.length<=1,4),t}function z(t){return V(t),t.definitions.filter((function(t){return"OperationDefinition"===t.kind}))[0]}function H(t){var e=z(t);return Object(o.b)(e,5),e}function G(t){return t.definitions.filter((function(t){return"OperationDefinition"===t.kind&&t.name})).map((function(t){return t.name.value}))[0]||null}function W(t){return t.definitions.filter((function(t){return"FragmentDefinition"===t.kind}))}function $(t){var e=z(t);return Object(o.b)(e&&"query"===e.operation,6),e}function Q(t){Object(o.b)("Document"===t.kind,7),Object(o.b)(t.definitions.length<=1,8);var e=t.definitions[0];return Object(o.b)("FragmentDefinition"===e.kind,9),e}function X(t){var e;V(t);for(var n=0,r=t.definitions;n<r.length;n++){var c=r[n];if("OperationDefinition"===c.kind){var l=c.operation;if("query"===l||"mutation"===l||"subscription"===l)return c}"FragmentDefinition"!==c.kind||e||(e=c)}if(e)return e;throw new o.a(10)}function Y(t){void 0===t&&(t=[]);var e={};return t.forEach((function(t){e[t.name.value]=t})),e}function K(t){if(t&&t.variableDefinitions&&t.variableDefinitions.length){var e=t.variableDefinitions.filter((function(t){return t.defaultValue})).map((function(t){var e=t.variable,n=t.defaultValue,r={};return v(r,e.name,n),r}));return B.apply(void 0,Object(c.__spreadArrays)([{}],e))}return{}}function J(t){var e=new Set;if(t.variableDefinitions)for(var n=0,r=t.variableDefinitions;n<r.length;n++){var o=r[n];e.add(o.variable.name.value)}return e}function Z(t,e,n){var r=0;return t.forEach((function(n,i){e.call(this,n,i,t)&&(t[r++]=n)}),n),t.length=r,t}var tt={kind:"Field",name:{kind:"Name",value:"__typename"}};function et(t){return function t(e,n){return e.selectionSet.selections.every((function(e){return"FragmentSpread"===e.kind&&t(n[e.name.value],n)}))}(z(t)||Q(t),Y(W(t)))?null:t}function nt(t){return function(e){return t.some((function(t){return t.name&&t.name===e.name.value||t.test&&t.test(e)}))}}function it(t,e){var n=Object.create(null),o=[],c=Object.create(null),l=[],h=et(Object(r.b)(e,{Variable:{enter:function(t,e,r){"VariableDefinition"!==r.kind&&(n[t.name.value]=!0)}},Field:{enter:function(e){if(t&&e.directives&&(t.some((function(t){return t.remove}))&&e.directives&&e.directives.some(nt(t))))return e.arguments&&e.arguments.forEach((function(t){"Variable"===t.value.kind&&o.push({name:t.value.name.value})})),e.selectionSet&&function t(e){var n=[];return e.selections.forEach((function(e){(M(e)||S(e))&&e.selectionSet?t(e.selectionSet).forEach((function(t){return n.push(t)})):"FragmentSpread"===e.kind&&n.push(e)})),n}(e.selectionSet).forEach((function(t){l.push({name:t.name.value})})),null}},FragmentSpread:{enter:function(t){c[t.name.value]=!0}},Directive:{enter:function(e){if(nt(t)(e))return null}}}));return h&&Z(o,(function(t){return!n[t.name]})).length&&(h=ht(o,h)),h&&Z(l,(function(t){return!c[t.name]})).length&&(h=pt(l,h)),h}function ot(t){return Object(r.b)(V(t),{SelectionSet:{enter:function(t,e,n){if(!n||"OperationDefinition"!==n.kind){var r=t.selections;if(r)if(!r.some((function(t){return M(t)&&("__typename"===t.name.value||0===t.name.value.lastIndexOf("__",0))}))){var o=n;if(!(M(o)&&o.directives&&o.directives.some((function(t){return"export"===t.name.value}))))return Object(c.__assign)(Object(c.__assign)({},t),{selections:Object(c.__spreadArrays)(r,[tt])})}}}}})}var at={test:function(t){var e="connection"===t.name.value;return e&&(!t.arguments||t.arguments.some((function(t){return"key"===t.name.value}))),e}};function st(t){return it([at],V(t))}function ut(t,e,n){return void 0===n&&(n=!0),e&&e.selections&&e.selections.some((function(e){return ct(t,e,n)}))}function ct(t,e,n){return void 0===n&&(n=!0),!M(e)||!!e.directives&&(e.directives.some(nt(t))||n&&ut(t,e.selectionSet,n))}function lt(t,e){var n;return V(e),et(Object(r.b)(e,{SelectionSet:{enter:function(e,r,o,path){var l=path.join("-");if(!n||l===n||!l.startsWith(n)){if(e.selections){var h=e.selections.filter((function(e){return ct(t,e)}));return ut(t,e,!1)&&(n=l),Object(c.__assign)(Object(c.__assign)({},e),{selections:h})}return null}}}}))}function ht(t,e){var n=function(t){return function(e){return t.some((function(t){return e.value&&"Variable"===e.value.kind&&e.value.name&&(t.name===e.value.name.value||t.test&&t.test(e))}))}}(t);return et(Object(r.b)(e,{OperationDefinition:{enter:function(e){return Object(c.__assign)(Object(c.__assign)({},e),{variableDefinitions:e.variableDefinitions.filter((function(e){return!t.some((function(t){return t.name===e.variable.name.value}))}))})}},Field:{enter:function(e){if(t.some((function(t){return t.remove}))){var r=0;if(e.arguments.forEach((function(t){n(t)&&(r+=1)})),1===r)return null}}},Argument:{enter:function(t){if(n(t))return null}}}))}function pt(t,e){function n(e){if(t.some((function(t){return t.name===e.name.value})))return null}return et(Object(r.b)(e,{FragmentSpread:{enter:n},FragmentDefinition:{enter:n}}))}function ft(t){return"query"===X(t).operation?t:Object(r.b)(t,{OperationDefinition:{enter:function(t){return Object(c.__assign)(Object(c.__assign)({},t),{operation:"query"})}}})}function mt(t){V(t);var e=it([{test:function(t){return"client"===t.name.value},remove:!0}],t);return e&&(e=Object(r.b)(e,{FragmentDefinition:{enter:function(t){if(t.selectionSet&&t.selectionSet.selections.every((function(t){return M(t)&&"__typename"===t.name.value})))return null}}})),e}var vt="function"==typeof WeakMap&&!("object"==typeof navigator&&"ReactNative"===navigator.product),gt=Object.prototype.toString;function yt(t){return function t(e,n){switch(gt.call(e)){case"[object Array]":if(n.has(e))return n.get(e);var r=e.slice(0);return n.set(e,r),r.forEach((function(e,i){r[i]=t(e,n)})),r;case"[object Object]":if(n.has(e))return n.get(e);var o=Object.create(Object.getPrototypeOf(e));return n.set(e,o),Object.keys(e).forEach((function(r){o[r]=t(e[r],n)})),o;default:return e}}(t,new Map)}function _t(){return void 0!==t?"production":"development"}function bt(t){return _t()===t}function xt(){return!0===bt("production")}function wt(){return!0===bt("development")}function Et(){return!0===bt("test")}function Mt(t){try{return t()}catch(t){console.error&&console.error(t)}}function St(t){return t.errors&&t.errors.length}function Tt(t){if((wt()||Et())&&!("function"==typeof Symbol&&"string"==typeof Symbol("")))return function t(e){return Object.freeze(e),Object.getOwnPropertyNames(e).forEach((function(n){null===e[n]||"object"!=typeof e[n]&&"function"!=typeof e[n]||Object.isFrozen(e[n])||t(e[n])})),e}(t);return t}var Dt=Object.prototype.hasOwnProperty;function Ot(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Ct(t)}function Ct(t){var e=t[0]||{},n=t.length;if(n>1){var r=[];e=Pt(e,r);for(var i=1;i<n;++i)e=kt(e,t[i],r)}return e}function At(t){return null!==t&&"object"==typeof t}function kt(t,source,e){return At(source)&&At(t)?(Object.isExtensible&&!Object.isExtensible(t)&&(t=Pt(t,e)),Object.keys(source).forEach((function(n){var r=source[n];if(Dt.call(t,n)){var o=t[n];r!==o&&(t[n]=kt(Pt(o,e),r,e))}else t[n]=r})),t):source}function Pt(t,e){return null!==t&&"object"==typeof t&&e.indexOf(t)<0&&(t=Array.isArray(t)?t.slice(0):Object(c.__assign)({__proto__:Object.getPrototypeOf(t)},t),e.push(t)),t}var jt=Object.create({});function Lt(t,e){void 0===e&&(e="warn"),xt()||jt[t]||(Et()||(jt[t]=!0),"error"===e?console.error(t):console.warn(t))}function It(data){return JSON.parse(JSON.stringify(data))}}.call(this,n(182))},319:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=Object.prototype,o=r.toString,c=r.hasOwnProperty,l=new Map;function h(a,b){try{return function t(a,b){if(a===b)return!0;var e=o.call(a),n=o.call(b);if(e!==n)return!1;switch(e){case"[object Array]":if(a.length!==b.length)return!1;case"[object Object]":if(d(a,b))return!0;var r=Object.keys(a),l=Object.keys(b),h=r.length;if(h!==l.length)return!1;for(var f=0;f<h;++f)if(!c.call(b,r[f]))return!1;for(f=0;f<h;++f){var m=r[f];if(!t(a[m],b[m]))return!1}return!0;case"[object Error]":return a.name===b.name&&a.message===b.message;case"[object Number]":if(a!=a)return b!=b;case"[object Boolean]":case"[object Date]":return+a==+b;case"[object RegExp]":case"[object String]":return a==""+b;case"[object Map]":case"[object Set]":if(a.size!==b.size)return!1;if(d(a,b))return!0;for(var v=a.entries(),y="[object Map]"===e;;){var _=v.next();if(_.done)break;var x=_.value,w=x[0],E=x[1];if(!b.has(w))return!1;if(y&&!t(E,b.get(w)))return!1}return!0}return!1}(a,b)}finally{l.clear()}}function d(a,b){var t=l.get(a);if(t){if(t.has(b))return!0}else l.set(a,t=new Set);return t.add(b),!1}},320:function(t,e,n){"use strict";var r=n(214);t.exports=function t(e,path,n){var o;void 0===path&&(path=""),void 0===n&&(n=r);var c=new Map;function l(t,e){var n=c.get(e);n?n.push.apply(n,t):c.set(e,t)}if(n(e))o=null,l([path],e);else{var h=path?path+".":"";if("undefined"!=typeof FileList&&e instanceof FileList)o=Array.prototype.map.call(e,(function(t,i){return l([""+h+i],t),null}));else if(Array.isArray(e))o=e.map((function(e,i){var r=t(e,""+h+i,n);return r.files.forEach(l),r.clone}));else if(e&&e.constructor===Object)for(var i in o={},e){var d=t(e[i],""+h+i,n);d.files.forEach(l),o[i]=d.clone}else o=e}return{clone:o,files:c}}},321:function(t,e,n){"use strict";e.a=function(t,e){return e=e||{},new Promise((function(n,r){var s=new XMLHttpRequest,o=[],u=[],i={},a=function(){return{ok:2==(s.status/100|0),statusText:s.statusText,status:s.status,url:s.responseURL,text:function(){return Promise.resolve(s.responseText)},json:function(){return Promise.resolve(s.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([s.response]))},clone:a,headers:{keys:function(){return o},entries:function(){return u},get:function(t){return i[t.toLowerCase()]},has:function(t){return t.toLowerCase()in i}}}};for(var c in s.open(e.method||"get",t,!0),s.onload=function(){s.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(t,e,n){o.push(e=e.toLowerCase()),u.push([e,n]),i[e]=i[e]?i[e]+","+n:n})),n(a())},s.onerror=r,s.withCredentials="include"==e.credentials,e.headers)s.setRequestHeader(c,e.headers[c]);s.send(e.body||null)}))}},322:function(t,e,n){"use strict";var r=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===o}(t)}(t)};var o="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function c(t,e){return!1!==e.clone&&e.isMergeableObject(t)?m((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function l(t,source,e){return t.concat(source).map((function(element){return c(element,e)}))}function h(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(symbol){return t.propertyIsEnumerable(symbol)})):[]}(t))}function d(object,t){try{return t in object}catch(t){return!1}}function f(t,source,e){var n={};return e.isMergeableObject(t)&&h(t).forEach((function(r){n[r]=c(t[r],e)})),h(source).forEach((function(r){(function(t,e){return d(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,r)||(d(t,r)&&e.isMergeableObject(source[r])?n[r]=function(t,e){if(!e.customMerge)return m;var n=e.customMerge(t);return"function"==typeof n?n:m}(r,e)(t[r],source[r],e):n[r]=c(source[r],e))})),n}function m(t,source,e){(e=e||{}).arrayMerge=e.arrayMerge||l,e.isMergeableObject=e.isMergeableObject||r,e.cloneUnlessOtherwiseSpecified=c;var n=Array.isArray(source);return n===Array.isArray(t)?n?e.arrayMerge(t,source,e):f(t,source,e):c(source,e)}m.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,n){return m(t,n,e)}),{})};var v=m;t.exports=v},326:function(t,e,n){(function(){(null!==e?e:this).Lethargy=function(){function t(t,e,n,r){this.stability=null!=t?Math.abs(t):8,this.sensitivity=null!=e?1+Math.abs(e):100,this.tolerance=null!=n?1+Math.abs(n):1.1,this.delay=null!=r?r:150,this.lastUpDeltas=function(){var i,t,e;for(e=[],i=1,t=2*this.stability;1<=t?i<=t:i>=t;1<=t?i++:i--)e.push(null);return e}.call(this),this.lastDownDeltas=function(){var i,t,e;for(e=[],i=1,t=2*this.stability;1<=t?i<=t:i>=t;1<=t?i++:i--)e.push(null);return e}.call(this),this.deltasTimestamp=function(){var i,t,e;for(e=[],i=1,t=2*this.stability;1<=t?i<=t:i>=t;1<=t?i++:i--)e.push(null);return e}.call(this)}return t.prototype.check=function(t){var e;return null!=(t=t.originalEvent||t).wheelDelta?e=t.wheelDelta:null!=t.deltaY?e=-40*t.deltaY:null==t.detail&&0!==t.detail||(e=-40*t.detail),this.deltasTimestamp.push(Date.now()),this.deltasTimestamp.shift(),e>0?(this.lastUpDeltas.push(e),this.lastUpDeltas.shift(),this.isInertia(1)):(this.lastDownDeltas.push(e),this.lastDownDeltas.shift(),this.isInertia(-1))},t.prototype.isInertia=function(t){var e,n,r,o,c,l,h;return null===(e=-1===t?this.lastDownDeltas:this.lastUpDeltas)[0]?t:!(this.deltasTimestamp[2*this.stability-2]+this.delay>Date.now()&&e[0]===e[2*this.stability-1])&&(r=e.slice(0,this.stability),n=e.slice(this.stability,2*this.stability),h=r.reduce((function(t,s){return t+s})),c=n.reduce((function(t,s){return t+s})),l=h/r.length,o=c/n.length,Math.abs(l)<Math.abs(o*this.tolerance)&&this.sensitivity<Math.abs(o)&&t)},t.prototype.showLastUpDeltas=function(){return this.lastUpDeltas},t.prototype.showLastDownDeltas=function(){return this.lastDownDeltas},t}()}).call(this)},329:function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},e=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(source).filter((function(t){return Object.getOwnPropertyDescriptor(source,t).enumerable})))),e.forEach((function(e){r(t,e,source[e])}))}return t}var c={trackingId:null,debug:!1,anonymizeIp:!1,customDimensions:{},resetCustomDimensionsOnPage:[],setCustomDimensionsToPage:!0},l={};function h(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=!1,n=f(t),r=n.instanceName,h=n.instancePrefix;return{name:"google-analytics",config:o({},c,t),initialize:function(t){var e=t.config,n=t.instance;if(!e.trackingId)throw new Error("No GA trackingId defined");var i,s,c,g,f,a,m,v=e.customScriptSrc||"https://www.google-analytics.com/analytics.js";if(d(v)&&(i=window,s=document,c="script",g=v,f="ga",i.GoogleAnalyticsObject=f,i.ga=i.ga||function(){(i.ga.q=i.ga.q||[]).push(arguments)},i.ga.l=1*new Date,a=s.createElement(c),m=s.getElementsByTagName(c)[0],a.async=1,a.src=g,m.parentNode.insertBefore(a,m)),!l[r]){var _=o({cookieDomain:e.domain||"auto",siteSpeedSampleRate:e.siteSpeedSampleRate||1,sampleRate:e.sampleRate||100,allowLinker:!0},e.cookieConfig);if(r&&(_.name=r),ga("create",e.trackingId,_),e.debug&&(ga("".concat(h,"set"),"sendHitTask",null),window.ga_debug={trace:!0}),e.anonymizeIp&&ga("".concat(h,"set"),"anonymizeIp",!0),e.tasks){["customTask","previewTask","checkProtocolTask","validationTask","checkStorageTask","historyImportTask","samplerTask","buildHitTask","sendHitTask","timingTask","displayFeaturesTask"].forEach((function(t){if(e.tasks.hasOwnProperty(t)){var n=e.tasks[t];"function"==typeof n?ga(e.tasks[t]):null===n&&ga("".concat(h,"set"),t,n)}}))}var x=(n.user()||{}).traits||{};if(Object.keys(x).length){var w=y(x,e);ga("".concat(h,"set"),w)}l[r]=!0}},page:function(t){var n=t.payload,r=t.config,c=t.instance,l=n.properties,f=r.resetCustomDimensionsOnPage,m=r.customDimensions,y=c.getState("context.campaign");if(!d()){if(f&&f.length){var _=f.reduce((function(t,e){return m[e]&&(t[m[e]]=null),t}),{});Object.keys(_).length&&ga("".concat(h,"set"),_)}var path=l.path||document.location.pathname,w={page:path,title:l.title,location:l.url},E={page:path,title:l.title};l.referrer!==document.referrer&&(E.referrer=l.referrer);var M=o({},w,v(y),x(l,r,h));ga("".concat(h,"set"),E),e&&delete M.location,ga("".concat(h,"send"),"pageview",M),e=!0}},track:function(t){var e=t.payload,n=t.config,r=t.instance,o=e.properties,c=e.event,label=o.label,l=o.value;m({hitType:"event",event:c,label:label,category:o.category||"All",value:l,nonInteraction:o.nonInteraction,campaign:r.getState("context.campaign")},n,e)},identify:function(t){var e=t.payload,n=t.config;w(e.userId,e.traits,n)},loaded:function(){return!!window.gaplugins}}}function d(t){return t?!function(t){var e=document.querySelectorAll("script[src]");return!!Object.keys(e).filter((function(n){return(e[n].src||"")===t})).length}(t):"undefined"==typeof ga}function f(t){var e=t.instanceName;return{instancePrefix:e?"".concat(e,"."):"",instanceName:e}}function m(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;if(!d()){var r=f(e),c=r.instancePrefix,data={hitType:t.hitType||"event",eventAction:t.event,eventLabel:t.label,eventCategory:t.category||"All",nonInteraction:void 0!==t.nonInteraction&&!!t.nonInteraction};t.value&&(data.eventValue=E(t.value));var l=v(t),h=x(n.properties,e,c),m=o({},data,l,h);return ga("".concat(c,"send"),"event",m),m}}function v(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={},n=t.name,source=t.source,r=t.medium,content=t.content,o=t.keyword;return n&&(e.campaignName=n),source&&(e.campaignSource=source),r&&(e.campaignMedium=r),content&&(e.campaignContent=content),o&&(e.campaignKeyword=o),e}function y(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.customDimensions;return Object.keys(n).reduce((function(e,r){var o=n[r],c=_(t,r)||t[r];return"boolean"==typeof c&&(c=c.toString()),c||0===c?(e[o]=c,e):e}),{})}function _(t,e,n,p,r){for(e=e.split?e.split("."):e,p=0;p<e.length;p++)t=t?t[e[p]]:r;return t===r?n:t}function x(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=y(t,e);return Object.keys(r).length?e.setCustomDimensionsToPage?(ga("".concat(n,"set"),r),{}):r:{}}function w(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!d()){var r=f(n),o=r.instancePrefix;if(t&&ga("".concat(o,"set"),"userId",t),Object.keys(e).length){var c=y(e,n);ga("".concat(o,"set"),c)}}}function E(t){return!t||t<0?0:Math.round(t)}var M=h;e.a=M},330:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(46),o=function(t,e,n,o,c){r.a.call(this),this.scene=t,this.camera=e,this.overrideMaterial=n,this.clearColor=o,this.clearAlpha=void 0!==c?c:0,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1};o.prototype=Object.assign(Object.create(r.a.prototype),{constructor:o,render:function(t,e,n){var r,o,c,l=t.autoClear;t.autoClear=!1,void 0!==this.overrideMaterial&&(c=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(r=t.getClearColor().getHex(),o=t.getClearAlpha(),t.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&t.clearDepth(),t.setRenderTarget(this.renderToScreen?null:n),this.clear&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),t.render(this.scene,this.camera),this.clearColor&&t.setClearColor(r,o),void 0!==this.overrideMaterial&&(this.scene.overrideMaterial=c),t.autoClear=l}})},338:function(t,e,n){"use strict";n.d(e,"a",(function(){return _}));n(30),n(89),n(98),n(34),n(24),n(75),n(102),n(80),n(60),n(72),n(151),n(40),n(77),n(29),n(48),n(68),n(50),n(104),n(61),n(186),n(307),n(187),n(188),n(189),n(190),n(191),n(192),n(193),n(194),n(195),n(196),n(197),n(198),n(199),n(200),n(201),n(202),n(203),n(204),n(205),n(206),n(207),n(208),n(209),n(54);var r=n(20);n(51);function o(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,h=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return l=t.done,t},e:function(t){h=!0,o=t},f:function(){try{l||null==n.return||n.return()}finally{if(h)throw o}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function l(t,e,n,r){return new(n||(n=Promise))((function(o,a){function i(t){try{l(r.next(t))}catch(t){a(t)}}function c(t){try{l(r.throw(t))}catch(t){a(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((r=r.apply(t,e||[])).next())}))}var h=["geforce 320m","geforce 8600","geforce 8600m gt","geforce 8800 gs","geforce 8800 gt","geforce 9400","geforce 9400m g","geforce 9400m","geforce 9600m gt","geforce 9600m","geforce fx go5200","geforce gt 120","geforce gt 130","geforce gt 330m","geforce gtx 285","google swiftshader","intel g41","intel g45","intel gma 4500mhd","intel gma x3100","intel hd 3000","intel q45","legacy","mali-2","mali-3","mali-4","quadro fx 1500","quadro fx 4","quadro fx 5","radeon hd 2400","radeon hd 2600","radeon hd 4670","radeon hd 4850","radeon hd 4870","radeon hd 5670","radeon hd 5750","radeon hd 6290","radeon hd 6300","radeon hd 6310","radeon hd 6320","radeon hd 6490m","radeon hd 6630m","radeon hd 6750m","radeon hd 6770m","radeon hd 6970m","radeon r9 200","sgx 543","sgx543"],d=function(t){return t.toLowerCase().replace(/angle \((.+)\)*$/,"$1").replace(/\s+([0-9]+gb|direct3d.+$)|\(r\)| \([^\)]+\)$/g,"")},f="undefined"==typeof window,m=function(){if(!f){var t=window.navigator,e=t.userAgent,n=t.platform,r=t.maxTouchPoints,o=/(iphone|ipod|ipad)/i.test(e),a="iPad"===n||"MacIntel"===n&&r>0&&!window.MSStream;return{isIpad:a,isMobile:/android/i.test(e)||o||a,isSafari12:/Version\/12.+Safari/.test(e)}}}(),a=function(t,e,n){return"apple gpu"===e?function(t,e,n){var r=[e];if(n){var o=t.createShader(35633),c=t.createShader(35632),l=t.createProgram();if(c&&o&&l){t.shaderSource(o,"\n      precision highp float;\n      attribute vec3 aPosition;\n      varying float vvv;\n      void main() {\n        vvv = 0.31622776601683794;\n        gl_Position = vec4(aPosition, 1.0);\n      }\n    "),t.shaderSource(c,"\n      precision highp float;\n      varying float vvv;\n      void main() {\n        vec4 enc = vec4(1.0, 255.0, 65025.0, 16581375.0) * vvv;\n        enc = fract(enc);\n        enc -= enc.yzww * vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0, 0.0);\n        gl_FragColor = enc;\n      }\n    "),t.compileShader(o),t.compileShader(c),t.attachShader(l,o),t.attachShader(l,c),t.linkProgram(l),t.detachShader(l,o),t.detachShader(l,c),t.deleteShader(o),t.deleteShader(c),t.useProgram(l);var h=t.createBuffer();t.bindBuffer(34962,h),t.bufferData(34962,new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),35044);var d=t.getAttribLocation(l,"aPosition");t.vertexAttribPointer(d,3,5126,!1,0,0),t.enableVertexAttribArray(d),t.clearColor(1,1,1,1),t.clear(16384),t.viewport(0,0,1,1),t.drawArrays(4,0,3);var f=new Uint8Array(4);t.readPixels(0,0,1,1,6408,5121,f),t.deleteProgram(l),t.deleteBuffer(h),r={801621810:(null==m?void 0:m.isIpad)?["apple a12x gpu"]:["apple a11 gpu","apple a12 gpu","apple a13 gpu"],8016218135:(null==m?void 0:m.isIpad)?["apple a9x gpu","apple a10 gpu","apple a10x gpu"]:["apple a9 gpu","apple a10 gpu"]}[f.join("")]||r}}return r}(t,e,n):[e]},i=[],v=[],y=function(t,e){if(t===e)return 0;var n=t;t.length>e.length&&(t=e,e=n);for(var r=t.length,o=e.length;r>0&&t.charCodeAt(~-r)===e.charCodeAt(~-o);)r--,o--;for(var a,c=0;c<r&&t.charCodeAt(c)===e.charCodeAt(c);)c++;if(o-=c,0===(r-=c))return o;for(var l,h,s=0,g=0,d=0;g<r;)v[g]=t.charCodeAt(c+g),i[g]=++g;for(;d<o;)for(a=e.charCodeAt(c+d),l=d++,s=d,g=0;g<r;g++)h=a===v[g]?l:l+1,l=i[g],s=i[g]=l>s?h>s?s+1:h:h>l?l+1:h;return s},_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.mobileTiers,i=void 0===e?[0,15,30,60]:e,n=t.desktopTiers,c=void 0===n?[0,15,30,60]:n,v=t.override,_=void 0===v?{}:v,x=t.glContext,w=t.failIfMajorPerformanceCaveat,s=void 0!==w&&w,E=t.benchmarksURL,g=void 0===E?"https://unpkg.com/detect-gpu@3.0.0/dist/benchmarks":E;return l(void 0,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n,p,v,u,w,E,M,S,T,D,O,C,A,k,P,j,b,L,I,R,N,F;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e={},!f){t.next=3;break}return t.abrupt("return",{tier:0,type:"SSR"});case 3:if(n=_.isIpad,p=void 0===n?!!(null==m?void 0:m.isIpad):n,v=_.isMobile,u=void 0===v?!!(null==m?void 0:m.isMobile):v,w=_.screenSize,E=void 0===w?window.screen:w,M=_.loadBenchmarks,S=void 0===M?function(t){return l(void 0,void 0,void 0,regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(g,"/").concat(t)).then((function(t){return t.json()}));case 2:return n=e.sent,e.abrupt("return",(n.shift(),n));case 4:case"end":return e.stop()}}),e)})))}:M,T=_.renderer,D=function(t,e,n,r,o){return{device:o,fps:r,gpu:n,isMobile:u,tier:t,type:e}},!T){t.next=10;break}T=d(T),O=[T],t.next=17;break;case 10:if(C=x||function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={alpha:!1,antialias:!1,depth:!1,failIfMajorPerformanceCaveat:e,powerPreference:"high-performance",stencil:!1};t&&delete n.powerPreference;var r=window.document.createElement("canvas"),o=r.getContext("webgl",n)||r.getContext("experimental-webgl",n);return null!=o?o:void 0}(null==m?void 0:m.isSafari12,s)){t.next=13;break}return t.abrupt("return",D(0,"WEBGL_UNSUPPORTED"));case 13:if((A=C.getExtension("WEBGL_debug_renderer_info"))&&(T=C.getParameter(A.UNMASKED_RENDERER_WEBGL)),T){t.next=16;break}return t.abrupt("return",D(1,"FALLBACK"));case 16:T=d(T),O=a(C,T,u);case 17:return t.next=19,Promise.all(O.map((function(t){return l(void 0,void 0,void 0,regeneratorRuntime.mark((function n(){var c,l,h,d,a,i,f,m,v,_,x,s,g,w,M,T,D,O,C,A,k,P,j,L,I,R,N,F,b;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c=function(t){for(var e=0,n=u?["adreno","apple","mali-t","mali","nvidia","powervr"]:["intel","amd","radeon","nvidia","geforce"];e<n.length;e++){var r=n[e];if(t.indexOf(r)>-1)return r}}(t)){n.next=3;break}return n.abrupt("return");case 3:return l="".concat(u?"m":"d","-").concat(c,".json"),h=e[l]=e[l]||S(l),n.prev=4,n.next=7,h;case 7:d=n.sent,n.next=13;break;case 10:return n.prev=10,n.t0=n.catch(4),n.abrupt("return",void console.log(n.t0));case 13:if(a=function(t){var e,n=(t=t.replace(/\([^\)]+\)/,"")).match(/[\d]+/)||t.match(/(\W|^)([a-zA-Z]{1,3})(\W|$)/g);return null!==(e=null==n?void 0:n.join("").replace(/\W|amd/g,""))&&void 0!==e?e:""}(t),i="apple"===c,(f=d.filter((function(t){return Object(r.a)(t,2)[1]===a}))).length||(f=d.filter((function(e){return Object(r.a)(e,1)[0].indexOf(t)>-1}))),0!==(m=f.length)){n.next=19;break}return n.abrupt("return");case 19:_=m>1?f.map((function(e){return[e,y(t,e[0])]})).sort((function(t,e){return Object(r.a)(t,2)[1]-Object(r.a)(e,2)[1]}))[0][0]:f[0],x=Object(r.a)(_,4),s=x[0],g=x[3],w=Number.MAX_VALUE,M=window,T=M.devicePixelRatio,D=E.width*T*(E.height*T),i&&u&&(g=g.filter((function(t){var e,n=Object(r.a)(t,4)[3];return(null!==(e=null==n?void 0:n.indexOf(p?"ipad":"iphone"))&&void 0!==e?e:-1)>-1}))),O=o(g);try{for(O.s();!(C=O.n()).done;)A=C.value,k=Object(r.a)(A,2),P=k[0],j=k[1],L=P*j,(I=Math.abs(D-L))<w&&(w=I,v=A)}catch(t){O.e(t)}finally{O.f()}return R=v,N=Object(r.a)(R,4),F=N[2],b=N[3],n.abrupt("return",[w,F,s,b]);case 26:case"end":return n.stop()}}),n,null,[[4,10]])})))})));case 19:if((k=t.sent.filter((function(t){return!!t}))).length){t.next=23;break}return P=h.filter((function(t){return T.indexOf(t)>-1}))[0],t.abrupt("return",P?D(0,"BLOCKLISTED",P):D(1,"FALLBACK"));case 23:if(j=Object(r.a)(k.sort((function(t,e){var n=Object(r.a)(t,1)[0],o=void 0===n?Number.MAX_VALUE:n,c=Object(r.a)(e,1)[0];return o-(void 0===c?Number.MAX_VALUE:c)}))[0],4),b=j[1],L=j[2],I=j[3],-1!==b){t.next=26;break}return t.abrupt("return",D(0,"BLOCKLISTED",L,b,I));case 26:for(R=u?i:c,N=0,F=0;F<R.length;F++)b>=R[F]&&(N=F);return t.abrupt("return",D(N,"BENCHMARK",L,b,I));case 30:case"end":return t.stop()}}),t)})))}},37:function(t,e,n){"use strict";n.r(e),n.d(e,"ApolloLink",(function(){return T})),n.d(e,"concat",(function(){return S})),n.d(e,"createOperation",(function(){return y})),n.d(e,"empty",(function(){return w})),n.d(e,"execute",(function(){return D})),n.d(e,"from",(function(){return E})),n.d(e,"fromError",(function(){return v})),n.d(e,"fromPromise",(function(){return m})),n.d(e,"makePromise",(function(){return f})),n.d(e,"split",(function(){return M})),n.d(e,"toPromise",(function(){return d}));var r=n(47);n.d(e,"Observable",(function(){return r.a}));var o=n(9),c=n(2),l=n(3);n.d(e,"getOperationName",(function(){return l.getOperationName}));!function(t){function e(e,link){var n=t.call(this,e)||this;return n.link=link,n}Object(c.__extends)(e,t)}(Error);function h(link){return link.request.length<=1}function d(t){var e=!1;return new Promise((function(n,r){t.subscribe({next:function(data){e||(e=!0,n(data))},error:r})}))}var f=d;function m(t){return new r.a((function(e){t.then((function(t){e.next(t),e.complete()})).catch(e.error.bind(e))}))}function v(t){return new r.a((function(e){e.error(t)}))}function y(t,e){var n=Object(c.__assign)({},t);return Object.defineProperty(e,"setContext",{enumerable:!1,value:function(t){n="function"==typeof t?Object(c.__assign)({},n,t(n)):Object(c.__assign)({},n,t)}}),Object.defineProperty(e,"getContext",{enumerable:!1,value:function(){return Object(c.__assign)({},n)}}),Object.defineProperty(e,"toKey",{enumerable:!1,value:function(){return function(t){var e=t.query,n=t.variables,r=t.operationName;return JSON.stringify([r,e,n])}(e)}}),e}function _(t,e){return e?e(t):r.a.of()}function x(t){return"function"==typeof t?new T(t):t}function w(){return new T((function(){return r.a.of()}))}function E(t){return 0===t.length?w():t.map(x).reduce((function(t,e){return t.concat(e)}))}function M(t,e,n){var o=x(e),c=x(n||new T(_));return h(o)&&h(c)?new T((function(e){return t(e)?o.request(e)||r.a.of():c.request(e)||r.a.of()})):new T((function(e,n){return t(e)?o.request(e,n)||r.a.of():c.request(e,n)||r.a.of()}))}var S=function(t,e){var n=x(t);if(h(n))return n;var o=x(e);return h(o)?new T((function(t){return n.request(t,(function(t){return o.request(t)||r.a.of()}))||r.a.of()})):new T((function(t,e){return n.request(t,(function(t){return o.request(t,e)||r.a.of()}))||r.a.of()}))},T=function(){function t(t){t&&(this.request=t)}return t.prototype.split=function(e,n,r){return this.concat(M(e,n,r||new t(_)))},t.prototype.concat=function(t){return S(this,t)},t.prototype.request=function(t,e){throw new o.a(1)},t.empty=w,t.from=E,t.split=M,t.execute=D,t}();function D(link,t){return link.request(y(t.context,function(t){var e={variables:t.variables||{},extensions:t.extensions||{},operationName:t.operationName,query:t.query};return e.operationName||(e.operationName="string"!=typeof e.query?Object(l.getOperationName)(e.query):""),e}(function(t){for(var e=["query","operationName","variables","extensions","context"],n=0,r=Object.keys(t);n<r.length;n++){var c=r[n];if(e.indexOf(c)<0)throw new o.a(2)}return t}(t))))||r.a.of()}},373:function(t,e,n){(function(t,n){var r="[object Arguments]",o="[object Function]",c="[object GeneratorFunction]",l="[object Map]",h="[object Set]",d=/\w*$/,f=/^\[object .+?Constructor\]$/,m=/^(?:0|[1-9]\d*)$/,v={};v[r]=v["[object Array]"]=v["[object ArrayBuffer]"]=v["[object DataView]"]=v["[object Boolean]"]=v["[object Date]"]=v["[object Float32Array]"]=v["[object Float64Array]"]=v["[object Int8Array]"]=v["[object Int16Array]"]=v["[object Int32Array]"]=v[l]=v["[object Number]"]=v["[object Object]"]=v["[object RegExp]"]=v[h]=v["[object String]"]=v["[object Symbol]"]=v["[object Uint8Array]"]=v["[object Uint8ClampedArray]"]=v["[object Uint16Array]"]=v["[object Uint32Array]"]=!0,v["[object Error]"]=v[o]=v["[object WeakMap]"]=!1;var y="object"==typeof t&&t&&t.Object===Object&&t,_="object"==typeof self&&self&&self.Object===Object&&self,x=y||_||Function("return this")(),w=e&&!e.nodeType&&e,E=w&&"object"==typeof n&&n&&!n.nodeType&&n,M=E&&E.exports===w;function S(map,t){return map.set(t[0],t[1]),map}function T(t,e){return t.add(e),t}function D(t,e,n,r){var o=-1,c=t?t.length:0;for(r&&c&&(n=t[++o]);++o<c;)n=e(n,t[o],o,t);return n}function O(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function C(map){var t=-1,e=Array(map.size);return map.forEach((function(n,r){e[++t]=[r,n]})),e}function A(t,e){return function(n){return t(e(n))}}function k(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var P,j=Array.prototype,L=Function.prototype,I=Object.prototype,R=x["__core-js_shared__"],N=(P=/[^.]+$/.exec(R&&R.keys&&R.keys.IE_PROTO||""))?"Symbol(src)_1."+P:"",F=L.toString,B=I.hasOwnProperty,U=I.toString,V=RegExp("^"+F.call(B).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),z=M?x.Buffer:void 0,H=x.Symbol,G=x.Uint8Array,W=A(Object.getPrototypeOf,Object),$=Object.create,Q=I.propertyIsEnumerable,X=j.splice,Y=Object.getOwnPropertySymbols,K=z?z.isBuffer:void 0,J=A(Object.keys,Object),Z=Tt(x,"DataView"),tt=Tt(x,"Map"),et=Tt(x,"Promise"),nt=Tt(x,"Set"),it=Tt(x,"WeakMap"),ot=Tt(Object,"create"),at=kt(Z),st=kt(tt),ut=kt(et),ct=kt(nt),lt=kt(it),ht=H?H.prototype:void 0,pt=ht?ht.valueOf:void 0;function ft(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function mt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function vt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function gt(t){this.__data__=new mt(t)}function yt(t,e){var n=jt(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&Lt(t)}(t)&&B.call(t,"callee")&&(!Q.call(t,"callee")||U.call(t)==r)}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],o=n.length,c=!!o;for(var l in t)!e&&!B.call(t,l)||c&&("length"==l||Ct(l,o))||n.push(l);return n}function _t(object,t,e){var n=object[t];B.call(object,t)&&Pt(n,e)&&(void 0!==e||t in object)||(object[t]=e)}function bt(t,e){for(var n=t.length;n--;)if(Pt(t[n][0],e))return n;return-1}function xt(t,e,n,f,m,object,y){var _;if(f&&(_=object?f(t,m,object,y):f(t)),void 0!==_)return _;if(!Nt(t))return t;var x=jt(t);if(x){if(_=function(t){var e=t.length,n=t.constructor(e);e&&"string"==typeof t[0]&&B.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!e)return function(source,t){var e=-1,n=source.length;t||(t=Array(n));for(;++e<n;)t[e]=source[e];return t}(t,_)}else{var w=Ot(t),E=w==o||w==c;if(It(t))return function(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}(t,e);if("[object Object]"==w||w==r||E&&!object){if(O(t))return object?t:{};if(_=function(object){return"function"!=typeof object.constructor||At(object)?{}:(t=W(object),Nt(t)?$(t):{});var t}(E?{}:t),!e)return function(source,object){return Mt(source,Dt(source),object)}(t,function(object,source){return object&&Mt(source,Ft(source),object)}(_,t))}else{if(!v[w])return object?t:{};_=function(object,t,e,n){var r=object.constructor;switch(t){case"[object ArrayBuffer]":return Et(object);case"[object Boolean]":case"[object Date]":return new r(+object);case"[object DataView]":return function(t,e){var n=e?Et(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(object,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t,e){var n=e?Et(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(object,n);case l:return function(map,t,e){return D(t?e(C(map),!0):C(map),S,new map.constructor)}(object,n,e);case"[object Number]":case"[object String]":return new r(object);case"[object RegExp]":return function(t){var e=new t.constructor(t.source,d.exec(t));return e.lastIndex=t.lastIndex,e}(object);case h:return function(t,e,n){return D(e?n(k(t),!0):k(t),T,new t.constructor)}(object,n,e);case"[object Symbol]":return symbol=object,pt?Object(pt.call(symbol)):{}}var symbol}(t,w,xt,e)}}y||(y=new gt);var M=y.get(t);if(M)return M;if(y.set(t,_),!x)var A=n?function(object){return function(object,t,e){var n=t(object);return jt(object)?n:function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}(n,e(object))}(object,Ft,Dt)}(t):Ft(t);return function(t,e){for(var n=-1,r=t?t.length:0;++n<r&&!1!==e(t[n],n,t););}(A||t,(function(r,o){A&&(r=t[o=r]),_t(_,o,xt(r,e,n,f,o,t,y))})),_}function wt(t){return!(!Nt(t)||(e=t,N&&N in e))&&(Rt(t)||O(t)?V:f).test(kt(t));var e}function Et(t){var e=new t.constructor(t.byteLength);return new G(e).set(new G(t)),e}function Mt(source,t,object,e){object||(object={});for(var n=-1,r=t.length;++n<r;){var o=t[n],c=e?e(object[o],source[o],o,object,source):void 0;_t(object,o,void 0===c?source[o]:c)}return object}function St(map,t){var e,n,data=map.__data__;return("string"==(n=typeof(e=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==e:null===e)?data["string"==typeof t?"string":"hash"]:data.map}function Tt(object,t){var e=function(object,t){return null==object?void 0:object[t]}(object,t);return wt(e)?e:void 0}ft.prototype.clear=function(){this.__data__=ot?ot(null):{}},ft.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},ft.prototype.get=function(t){var data=this.__data__;if(ot){var e=data[t];return"__lodash_hash_undefined__"===e?void 0:e}return B.call(data,t)?data[t]:void 0},ft.prototype.has=function(t){var data=this.__data__;return ot?void 0!==data[t]:B.call(data,t)},ft.prototype.set=function(t,e){return this.__data__[t]=ot&&void 0===e?"__lodash_hash_undefined__":e,this},mt.prototype.clear=function(){this.__data__=[]},mt.prototype.delete=function(t){var data=this.__data__,e=bt(data,t);return!(e<0)&&(e==data.length-1?data.pop():X.call(data,e,1),!0)},mt.prototype.get=function(t){var data=this.__data__,e=bt(data,t);return e<0?void 0:data[e][1]},mt.prototype.has=function(t){return bt(this.__data__,t)>-1},mt.prototype.set=function(t,e){var data=this.__data__,n=bt(data,t);return n<0?data.push([t,e]):data[n][1]=e,this},vt.prototype.clear=function(){this.__data__={hash:new ft,map:new(tt||mt),string:new ft}},vt.prototype.delete=function(t){return St(this,t).delete(t)},vt.prototype.get=function(t){return St(this,t).get(t)},vt.prototype.has=function(t){return St(this,t).has(t)},vt.prototype.set=function(t,e){return St(this,t).set(t,e),this},gt.prototype.clear=function(){this.__data__=new mt},gt.prototype.delete=function(t){return this.__data__.delete(t)},gt.prototype.get=function(t){return this.__data__.get(t)},gt.prototype.has=function(t){return this.__data__.has(t)},gt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof mt){var r=n.__data__;if(!tt||r.length<199)return r.push([t,e]),this;n=this.__data__=new vt(r)}return n.set(t,e),this};var Dt=Y?A(Y,Object):function(){return[]},Ot=function(t){return U.call(t)};function Ct(t,e){return!!(e=null==e?9007199254740991:e)&&("number"==typeof t||m.test(t))&&t>-1&&t%1==0&&t<e}function At(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||I)}function kt(t){if(null!=t){try{return F.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Pt(t,e){return t===e||t!=t&&e!=e}(Z&&"[object DataView]"!=Ot(new Z(new ArrayBuffer(1)))||tt&&Ot(new tt)!=l||et&&"[object Promise]"!=Ot(et.resolve())||nt&&Ot(new nt)!=h||it&&"[object WeakMap]"!=Ot(new it))&&(Ot=function(t){var e=U.call(t),n="[object Object]"==e?t.constructor:void 0,r=n?kt(n):void 0;if(r)switch(r){case at:return"[object DataView]";case st:return l;case ut:return"[object Promise]";case ct:return h;case lt:return"[object WeakMap]"}return e});var jt=Array.isArray;function Lt(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}(t.length)&&!Rt(t)}var It=K||function(){return!1};function Rt(t){var e=Nt(t)?U.call(t):"";return e==o||e==c}function Nt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Ft(object){return Lt(object)?yt(object):function(object){if(!At(object))return J(object);var t=[];for(var e in Object(object))B.call(object,e)&&"constructor"!=e&&t.push(e);return t}(object)}n.exports=function(t){return xt(t,!0,!0)}}).call(this,n(44),n(286)(t))},374:function(t,e,n){"use strict";function r(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}n.d(e,"a",(function(){return r}))},375:function(t,e,n){t.exports=n(529).Observable},376:function(t,e,n){"use strict";t.exports=function(data,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var e,n="boolean"==typeof t.cycles&&t.cycles,r=t.cmp&&(e=t.cmp,function(t){return function(a,b){var n={key:a,value:t[a]},r={key:b,value:t[b]};return e(n,r)}}),o=[];return function t(e){if(e&&e.toJSON&&"function"==typeof e.toJSON&&(e=e.toJSON()),void 0!==e){if("number"==typeof e)return isFinite(e)?""+e:"null";if("object"!=typeof e)return JSON.stringify(e);var i,c;if(Array.isArray(e)){for(c="[",i=0;i<e.length;i++)i&&(c+=","),c+=t(e[i])||"null";return c+"]"}if(null===e)return"null";if(-1!==o.indexOf(e)){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var l=o.push(e)-1,h=Object.keys(e).sort(r&&r(e));for(c="",i=0;i<h.length;i++){var d=h[i],f=t(e[d]);f&&(c&&(c+=","),c+=JSON.stringify(d)+":"+f)}return o.splice(l,1),"{"+c+"}"}}(data)}},377:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=n(3),c=n(530);function l(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var d,f,m,v,y,_=this;return r.__generator(this,(function(x){switch(x.label){case 0:return d=n.fragmentMap,f=n.contextValue,m=n.variableValues,v={},y=function(t){return r.__awaiter(_,void 0,void 0,(function(){var y,_,x,w,E;return r.__generator(this,(function(r){switch(r.label){case 0:return o.shouldInclude(t,m)?o.isField(t)?[4,h(t,e,n)]:[3,2]:[2];case 1:return y=r.sent(),_=o.resultKeyNameFromField(t),void 0!==y&&(void 0===v[_]?v[_]=y:c.merge(v[_],y)),[2];case 2:if(o.isInlineFragment(t))x=t;else if(!(x=d[t.name.value]))throw new Error("No fragment named "+t.name.value);return w=x.typeCondition.name.value,n.fragmentMatcher(e,w,f)?[4,l(x.selectionSet,e,n)]:[3,4];case 3:E=r.sent(),c.merge(v,E),r.label=4;case 4:return[2]}}))}))},[4,Promise.all(t.selections.map(y))];case 1:return x.sent(),n.resultMapper?[2,n.resultMapper(v,e)]:[2,v]}}))}))}function h(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var c,h,f,m,v,y,_;return r.__generator(this,(function(r){switch(r.label){case 0:return c=n.variableValues,h=n.contextValue,f=n.resolver,m=t.name.value,v=o.argumentsObjectFromField(t,c),y={isLeaf:!t.selectionSet,resultKey:o.resultKeyNameFromField(t),directives:o.getDirectiveInfoFromField(t,c),field:t},[4,f(m,e,v,h,y)];case 1:return _=r.sent(),t.selectionSet?null==_?[2,_]:Array.isArray(_)?[2,d(t,_,n)]:[2,l(t.selectionSet,_,n)]:[2,_]}}))}))}function d(t,e,n){return Promise.all(e.map((function(e){return null===e?null:Array.isArray(e)?d(t,e,n):l(t.selectionSet,e,n)})))}e.graphql=function(t,e,n,r,c,h){void 0===h&&(h={});var d=o.getMainDefinition(e),f=o.getFragmentDefinitions(e),m={fragmentMap:o.createFragmentMap(f),contextValue:r,variableValues:c,resultMapper:h.resultMapper,resolver:t,fragmentMatcher:h.fragmentMatcher||function(){return!0}};return l(d.selectionSet,n,m)}},378:function(t,e,n){"use strict";var r=n(531)(n(532)),o=n(37),c=o.ApolloLink,l=o.Observable,h=n(533),d=h.selectURI,f=h.selectHttpOptionsAndBody,m=h.fallbackHttpConfig,v=h.serializeFetchParameter,y=h.createSignalIfSupported,_=h.parseAndCheckHttpResponse,x=n(534),w=x.extractFiles,E=x.isExtractableFile,M=x.ReactNativeFile;function S(t,e,n){t.append(e,n,n.name)}e.ReactNativeFile=M,e.isExtractableFile=E,e.formDataAppendFile=S,e.createUploadLink=function(t){var e=void 0===t?{}:t,n=e.uri,o=void 0===n?"/graphql":n,h=e.isExtractableFile,x=void 0===h?E:h,M=e.FormData,T=e.formDataAppendFile,D=void 0===T?S:T,O=e.fetch,C=e.fetchOptions,A=e.credentials,k=e.headers,P={http:{includeExtensions:e.includeExtensions},options:C,credentials:A,headers:k};return new c((function(t){var e=d(t,o),n=t.getContext(),c=n.clientAwareness,h=(c=void 0===c?{}:c).name,E=c.version,S=n.headers,T={http:n.http,options:n.fetchOptions,credentials:n.credentials,headers:(0,r.default)({},h&&{"apollographql-client-name":h},{},E&&{"apollographql-client-version":E},{},S)},C=f(t,m,P,T),A=C.options,body=C.body,k=w(body,"",x),j=k.clone,L=k.files,I=v(j,"Payload");if(L.size){delete A.headers["content-type"];var form=new(M||FormData);form.append("operations",I);var map={},i=0;L.forEach((function(t){map[++i]=t})),form.append("map",JSON.stringify(map)),i=0,L.forEach((function(t,e){D(form,++i,e)})),A.body=form}else A.body=I;return new l((function(n){var r;if(!A.signal){var o=y().controller;o&&(r=o,A.signal=r.signal)}return(O||fetch)(e,A).then((function(e){return t.setContext({response:e}),e})).then(_(t)).then((function(t){n.next(t),n.complete()})).catch((function(t){"AbortError"!==t.name&&(t.result&&t.result.errors&&t.result.data&&n.next(t.result),n.error(t))})),function(){r&&r.abort()}}))}))}},379:function(t,e,n){"use strict";n(29),n(66),n(51);var r=n(15),o=n(10),c=n(8),l=window.__NUXT__;function h(){if(!this._hydrated)return this.$fetch()}function d(){if((t=this).$vnode&&t.$vnode.elm&&t.$vnode.elm.dataset&&t.$vnode.elm.dataset.fetchKey){var t;this._hydrated=!0,this._fetchKey=+this.$vnode.elm.dataset.fetchKey;var data=l.fetch[this._fetchKey];if(data&&data._error)this.$fetchState.error=data._error;else for(var e in data)o.a.set(this.$data,e,data[e])}else f.call(this)}function f(){var t=!1!==this.$options.fetchOnServer;if("function"==typeof this.$options.fetchOnServer&&(t=!1!==this.$options.fetchOnServer.call(this)),t&&!this.$nuxt.isPreview&&this.$nuxt._pagePayload){this._hydrated=!0,this._fetchKey=this.$nuxt._payloadFetchIndex++;var data=this.$nuxt._pagePayload.fetch[this._fetchKey];if(data&&data._error)this.$fetchState.error=data._error;else for(var e in data)o.a.set(this.$data,e,data[e])}}function m(){var t=this;return this._fetchPromise||(this._fetchPromise=v.call(this).then((function(){delete t._fetchPromise}))),this._fetchPromise}function v(){return y.apply(this,arguments)}function y(){return(y=Object(r.a)(regeneratorRuntime.mark((function t(){var e,n,r,o=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.$nuxt.nbFetching++,this.$fetchState.pending=!0,this.$fetchState.error=null,this._hydrated=!1,e=null,n=Date.now(),t.prev=6,t.next=9,this.$options.fetch.call(this);case 9:t.next=15;break;case 11:t.prev=11,t.t0=t.catch(6),e=Object(c.o)(t.t0);case 15:if(!((r=this._fetchDelay-(Date.now()-n))>0)){t.next=19;break}return t.next=19,new Promise((function(t){return setTimeout(t,r)}));case 19:this.$fetchState.error=e,this.$fetchState.pending=!1,this.$fetchState.timestamp=Date.now(),this.$nextTick((function(){return o.$nuxt.nbFetching--}));case 23:case"end":return t.stop()}}),t,this,[[6,11]])})))).apply(this,arguments)}e.a={beforeCreate:function(){Object(c.l)(this)&&(this._fetchDelay="number"==typeof this.$options.fetchDelay?this.$options.fetchDelay:200,o.a.util.defineReactive(this,"$fetchState",{pending:!1,error:null,timestamp:Date.now()}),this.$fetch=m.bind(this),Object(c.a)(this,"created",d),Object(c.a)(this,"beforeMount",h))}}},382:function(t,e,n){"use strict";var r=n(297),o=n.n(r),c=n(87);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t){return"function"==typeof t}function d(t){return"string"==typeof t}function f(t){return"boolean"==typeof t}function m(t){if("object"!==l(t)||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function v(s){try{return decodeURIComponent(s.replace(/\+/g," "))}catch(t){return null}}var y="undefined"!=typeof document;function _(t){return function(t){var e,n={},r=/([^&=]+)=?([^&]*)/g;for(;e=r.exec(t);){var o=v(e[1]),c=v(e[2]);"[]"===o.substring(o.length-2)?(o=o.substring(0,o.length-2),(n[o]||(n[o]=[])).push(c)):n[o]=""===c||c}for(var l in n){var h=l.split("[");h.length>1&&(x(n,h.map((function(t){return t.replace(/[?[\]\\ ]/g,"")})),n[l]),delete n[l])}return n}(function(t){if(t){var p=t.match(/\?(.*)/);return p&&p[1]?p[1].split("#")[0]:""}return y&&window.location.search.substring(1)}(t))}function x(t,e,n){for(var r=e.length-1,i=0;i<r;++i){var o=e[i];o in t||(t[o]={}),t=t[o]}t[e[r]]=n}function w(){for(var u="",i=0,t=4294967295*Math.random()|0;i++<36;){var e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx"[i-1],n=15&t;u+="-"==e||"4"==e?e:("x"==e?n:3&n|8).toString(16),t=i%8==0?4294967295*Math.random()|0:t>>4}return u}var E=function(t){if(Array.isArray(t)){for(var i=0,e=new Array(t.length);i<t.length;i++)e[i]=t[i];return e}};var M=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)};var S=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")};var T=function(t){return E(t)||M(t)||S()};function D(t,e){return t(e={exports:{}},e.exports),e.exports}var O=D((function(t){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(r){return"function"==typeof Symbol&&"symbol"===e(Symbol.iterator)?t.exports=n=function(t){return e(t)}:t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)},n(r)}t.exports=n}));var C=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t};function A(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var k=function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?A(source,!0).forEach((function(e){C(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):A(source).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t},P="function",j="undefined",L="@@redux/"+Math.random().toString(36),I=function(){return("undefined"==typeof Symbol?"undefined":O(Symbol))===P&&Symbol.observable||"@@observable"}(),R=" != "+P;function N(t,e,n){if(O(e)===P&&O(n)===j&&(n=e,e=void 0),O(n)!==j){if(O(n)!==P)throw new Error("enhancer"+R);return n(N)(t,e)}if(O(t)!==P)throw new Error("reducer"+R);var r=t,o=e,c=[],l=c,h=!1;function d(){l===c&&(l=c.slice())}function f(){return o}function v(t){if(O(t)!==P)throw new Error("Listener"+R);var e=!0;return d(),l.push(t),function(){if(e){e=!1,d();var n=l.indexOf(t);l.splice(n,1)}}}function y(t){if(!m(t))throw new Error("Act != obj");if(O(t.type)===j)throw new Error("ActType "+j);if(h)throw new Error("Dispatch in reducer");try{h=!0,o=r(o,t)}finally{h=!1}for(var e=c=l,i=0;i<e.length;i++){(0,e[i])()}return t}return y({type:"@@redux/INIT"}),C({dispatch:y,subscribe:v,getState:f,replaceReducer:function(t){if(O(t)!==P)throw new Error("next reducer"+R);r=t,y({type:"@@redux/INIT"})}},I,(function(){var t=v;return C({subscribe:function(e){if("object"!==O(e))throw new TypeError("Observer != obj");function n(){e.next&&e.next(f())}return n(),{unsubscribe:t(n)}}},I,(function(){return this}))}))}function F(t,e){var n=e&&e.type;return"action "+(n&&n.toString()||"?")+"reducer "+t+" returns "+j}function B(t){for(var e=Object.keys(t),n={},i=0;i<e.length;i++){var r=e[i];O(t[r])===P&&(n[r]=t[r])}var o,c=Object.keys(n);try{!function(t){Object.keys(t).forEach((function(e){var n=t[e],r=n(void 0,{type:"@@redux/INIT"});if(O(r)===j||O(n(void 0,{type:L}))===j)throw new Error("reducer "+e+" "+j)}))}(n)}catch(t){o=t}return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;if(o)throw o;for(var r=!1,l={},h=0;h<c.length;h++){var d=c[h],f=n[d],m=t[d],v=f(m,e);if(O(v)===j){var y=F(d,e);throw new Error(y)}l[d]=v,r=r||v!==m}return r?l:t}}function U(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce((function(a,b){return function(){return a(b.apply(void 0,arguments))}}))}function V(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(n,r,o){var c,l=t(n,r,o),h=l.dispatch,d={getState:l.getState,dispatch:function(t){return h(t)}};return c=e.map((function(t){return t(d)})),h=U.apply(void 0,T(c))(l.dispatch),k(k({},l),{},{dispatch:h})}}}var z=["bootstrap","params","campaign","initializeStart","initialize","initializeEnd","ready","resetStart","reset","resetEnd","pageStart","page","pageEnd","pageAborted","trackStart","track","trackEnd","trackAborted","identifyStart","identify","identifyEnd","identifyAborted","userIdChanged","registerPlugins","enablePlugin","disablePlugin","online","offline","setItemStart","setItem","setItemEnd","setItemAborted","removeItemStart","removeItem","removeItemEnd","removeItemAborted"],H=["name","EVENTS","config","loaded"],G=z.reduce((function(t,e){return t[e]=e,t}),{registerPluginType:function(t){return"registerPlugin:".concat(t)},pluginReadyType:function(t){return"ready:".concat(t)}});function W(t){return z.includes(t)}var $="__anon_id",Q="__user_id",X="__user_traits",Y=/^utm_/,K=/^an_prop_/,J=/^an_trait_/;function Z(t){var e=t.storage,n=e.setItem,r=e.getItem;return function(e){return function(o){return function(c){if(c.type===G.bootstrap){var l=c.params,h=c.user;r($)||n($,h.anonymousId);var d=Object.keys(c.params);if(d.length){var f=l.an_uid,m=l.an_event,v=d.reduce((function(t,e){if(e.match(Y)||e.match(/^(d|g)clid/)){var n=e.replace(Y,""),r="campaign"===n?"name":n;t.campaign[r]=l[e]}return e.match(K)&&(t.props[e.replace(K,"")]=l[e]),e.match(J)&&(t.traits[e.replace(J,"")]=l[e]),t}),{campaign:{},props:{},traits:{}});e.dispatch(k(k({type:G.params,raw:l},v),f?{userId:f}:{})),f&&setTimeout((function(){return t.identify(f,v.traits)}),0),m&&setTimeout((function(){return t.track(m,v.props)}),0),Object.keys(v.campaign).length&&e.dispatch({type:G.campaign,campaign:v.campaign})}}return o(c)}}}}var tt="userId",et="anonymousId";function nt(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n.type===G.setItemEnd){if(n.key===$)return k(k({},e),{anonymousId:n.value});if(n.key===Q)return k(k({},e),{userId:n.value})}switch(n.type){case G.identify:return Object.assign({},e,{userId:n.userId,traits:k(k({},e.traits),n.traits)});case G.reset:return[tt,et,"traits"].forEach((function(t){c.b[ot(t)]=null})),[Q,$,X].forEach((function(e){t.removeItem(e)})),Object.assign({},e,{userId:null,anonymousId:null,traits:{}});default:return e}}}function it(t,e){return{userId:e.getItem(Q)||t.an_uid,anonymousId:e.getItem($)||t.an_aid||w(),traits:e.getItem(X)||{}}}var ot=function(t){return"__TEMP__"+t};function at(t){return function(e,n,r){var o=n.getState("user")[e];if(o)return o;if(r&&m(r)&&r[e])return r[e];var l=it({},t)[e];return l||(c.b[ot(e)]?c.b[ot(e)]:null)}}function st(t){var e=t.storage,n=e.setItem,r=e.removeItem,o=e.getItem;return function(t){return function(e){return function(l){var d=l.userId,f=l.traits,m=l.options,v=l.callback;if(l.type===G.reset&&([Q,X,$].forEach((function(t){return r(t)})),[tt,et,"traits"].forEach((function(t){c.b[ot(t)]=void 0})),h(v)&&v()),l.type===G.identify){o($)||n($,w());var y=o(Q),_=o(X)||{};y&&y!==d&&t.dispatch({type:G.userIdChanged,old:{userId:y,traits:_},new:{userId:d,traits:f},options:m}),d&&n(Q,d),f&&n(X,k(k({},_),f))}return e(l)}}}}var ut=D((function(t){var e=function(t){var e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function h(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{h({},"")}catch(t){h=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var o=e&&e.prototype instanceof v?e:v,c=Object.create(o.prototype),l=new A(r||[]);return c._invoke=function(t,e,n){var r="suspendedStart";return function(o,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw c;return P()}for(n.method=o,n.arg=c;;){var l=n.delegate;if(l){var h=D(l,n);if(h){if(h===m)continue;return h}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var d=f(t,e,n);if("normal"===d.type){if(r=n.done?"completed":"suspendedYield",d.arg===m)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(r="completed",n.method="throw",n.arg=d.arg)}}}(t,n,l),c}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=d;var m={};function v(){}function y(){}function _(){}var x={};x[o]=function(){return this};var w=Object.getPrototypeOf,E=w&&w(w(k([])));E&&E!==e&&n.call(E,o)&&(x=E);var M=_.prototype=v.prototype=Object.create(x);function S(t){["next","throw","return"].forEach((function(e){h(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){var r;this._invoke=function(o,c){function l(){return new e((function(r,l){!function r(o,c,l,h){var d=f(t[o],t,c);if("throw"!==d.type){var m=d.arg,v=m.value;return v&&"object"==typeof v&&n.call(v,"__await")?e.resolve(v.__await).then((function(t){r("next",t,l,h)}),(function(t){r("throw",t,l,h)})):e.resolve(v).then((function(t){m.value=t,l(m)}),(function(t){return r("throw",t,l,h)}))}h(d.arg)}(o,c,r,l)}))}return r=r?r.then(l,l):l()}}function D(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,D(t,e),"throw"===e.method))return m;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var r=f(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,m;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,m):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function k(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:P}}function P(){return{value:void 0,done:!0}}return y.prototype=M.constructor=_,_.constructor=y,y.displayName=h(_,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,h(t,l,"GeneratorFunction")),t.prototype=Object.create(M),t},t.awrap=function(t){return{__await:t}},S(T.prototype),T.prototype[c]=function(){return this},t.AsyncIterator=T,t.async=function(e,n,r,o,c){void 0===c&&(c=Promise);var l=new T(d(e,n,r,o),c);return t.isGeneratorFunction(n)?l:l.next().then((function(t){return t.done?t.value:l.next()}))},S(M),h(M,l,"Generator"),M[o]=function(){return this},M.toString=function(){return"[object Generator]"},t.keys=function(object){var t=[];for(var e in object)t.push(e);return t.reverse(),function e(){for(;t.length;){var n=t.pop();if(n in object)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=k,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return c.type="throw",c.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],c=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),h=n.call(o,"finallyLoc");if(l&&h){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=t,c.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(c)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var i=this.tryEntries.length-1;i>=0;--i){var e=this.tryEntries[i];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),C(e),m}},catch:function(t){for(var i=this.tryEntries.length-1;i>=0;--i){var e=this.tryEntries[i];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var r=n.arg;C(e)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}}));function ct(t,e,n,r,o,c,l){try{var h=t[c](l),d=h.value}catch(t){return void n(t)}h.done?e(d):Promise.resolve(d).then(r,o)}var lt=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var c=t.apply(e,n);function l(t){ct(c,r,o,l,h,"next",t)}function h(t){ct(c,r,o,l,h,"throw",t)}l(void 0)}))}},ht={};function pt(t,e){ht[t]&&h(ht[t])&&(ht[t](e),delete ht[t])}function ft(data,t,e){return new Promise((function(n,r){return t()?n(data):e<1?r(k(k({},data),{},{queue:!0})):(o=10,new Promise((function(t){return setTimeout(t,o)}))).then((function(o){return ft(data,t,e-10).then(n,r)}));var o}))}function mt(t,e,n){var r=e(),o=t.getState(),c=o.plugins,l=o.context,d=o.queue,f=o.user;if(!l.offline&&d&&d.actions&&d.actions.length){var m=d.actions.reduce((function(t,e,n){return c[e.plugin].loaded?(t.process.push(e),t.processIndex.push(n)):(t.requeue.push(e),t.requeueIndex.push(n)),t}),{processIndex:[],process:[],requeue:[],requeueIndex:[]});if(m.processIndex&&m.processIndex.length){m.processIndex.forEach((function(i){var e=d.actions[i],o=e.plugin,l=e.payload.type,m=r[o][l];if(m&&h(m)){var v=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return[tt,et].reduce((function(t,n){return gt(t,e,n)}),t)}(e.payload,f);m({payload:v,config:c[o].config,instance:n});var y="".concat(l,":").concat(o);t.dispatch(k(k({},v),{},{type:y,_:{called:y,from:"queueDrain"}}))}}));var v=d.actions.filter((function(t,e){return!~m.processIndex.indexOf(e)}));d.actions=v}}}function vt(t,e,n){return setInterval((function(){return mt(t,e,n)}),3e3)}function gt(t,e,n){return t.hasOwnProperty(n)&&!t[n]&&e[n]?Object.assign({},t,C({},"".concat(n),e[n])):t}var yt=function(t){if(Array.isArray(t))return t};var _t=function(t,i){var e=[],n=!0,r=!1,o=void 0;try{for(var c,l=t[Symbol.iterator]();!(n=(c=l.next()).done)&&(e.push(c.value),!i||e.length!==i);n=!0);}catch(t){r=!0,o=t}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return e};var bt=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")};var xt=function(t,i){return yt(t)||_t(t,i)||bt()};function wt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(t).filter((function(t){var r=n.plugins||{};return f(r[t])?r[t]:!1!==r.all&&(!e[t]||!1!==e[t].enabled)})).map((function(e){return t[e]}))}var Et=/Start$/,Mt=/^bootstrap/,St=/^ready/;function Tt(t,e,n,r,o){return Dt.apply(this,arguments)}function Dt(){return(Dt=lt(ut.mark((function t(e,n,r,o,c){var l,d,f,m,v,y,_,x,w,E,M,S;return ut.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l=h(n)?n():n,d=e.type,f=d.replace(Et,""),!e._||!e._.called){t.next=5;break}return t.abrupt("return",e);case 5:return m=r.getState(),v=wt(l,m.plugins,e.options),d===G.initializeStart&&e.fromEnable&&(v=Object.keys(m.plugins).filter((function(t){var n=m.plugins[t];return e.plugins.includes(t)&&!n.initialized})).map((function(t){return l[t]}))),y=v.map((function(p){return p.name})),_=It(d,v,l),t.next=12,Ct({action:e,data:{exact:_.before,namespaced:_.beforeNS},state:m,allPlugins:l,allMatches:_,instance:r,store:o,EVENTS:c});case 12:if(!Nt(x=t.sent,y.length)){t.next=15;break}return t.abrupt("return",x);case 15:if(d!==f){t.next=19;break}w=x,t.next=22;break;case 19:return t.next=21,Ct({action:k(k({},x),{},{type:f}),data:{exact:_.during,namespaced:_.duringNS},state:m,allPlugins:l,allMatches:_,instance:r,store:o,EVENTS:c});case 21:w=t.sent;case 22:if(!d.match(Et)){t.next=29;break}return E="".concat(f,"End"),t.next=26,Ct({action:k(k({},w),{},{type:E}),data:{exact:_.after,namespaced:_.afterNS},state:m,allPlugins:l,allMatches:_,instance:r,store:o,EVENTS:c});case 26:M=t.sent,(S=Ot(M))&&S({payload:M});case 29:return t.abrupt("return",x);case 30:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ot(t){return!!t.meta&&Object.keys(t.meta).reduce((function(e,n){var r=t.meta[n];return h(r)?r:e}),!1)}function Ct(t){return At.apply(this,arguments)}function At(){return(At=lt(ut.mark((function t(e){var data,n,r,o,c,l,d,f,v,y,_,x,w,E,M,S,T,D;return ut.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return data=e.data,n=e.action,r=e.instance,o=e.state,c=e.allPlugins,l=e.allMatches,d=e.store,f=e.EVENTS,v=o.plugins,y=o.context,_=n.type,x=_.match(Et),w=data.exact.map((function(t){return t.pluginName})),x&&(w=l.during.map((function(t){return t.pluginName}))),E=Ut(r,w),M=data.exact.reduce((function(t,e){var n=e.pluginName,r=e.methodName,o=!1;return r.match(/^initialize/)||r.match(/^reset/)||(o=!v[n].loaded),y.offline&&r.match(/^(page|track|identify)/)&&(o=!0),t["".concat(n)]=o,t}),{}),t.next=10,data.exact.reduce(function(){var t=lt(ut.mark((function t(e,o,i){var l,d,f;return ut.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l=o.pluginName,t.next=3,e;case 3:if(d=t.sent,!data.namespaced||!data.namespaced[l]){t.next=11;break}return t.next=7,data.namespaced[l].reduce(function(){var t=lt(ut.mark((function t(e,p,n){var o,d,f,y;return ut.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d=function(t,e,n){return function(r,o){var c=n||e;return k(k({},t),{},{abort:{reason:r,plugins:o||[e],caller:_,from:c}})}},t.next=3,e;case 3:if(o=t.sent,p.method&&h(p.method)){t.next=6;break}return t.abrupt("return",o);case 6:return Vt(p.methodName,p.pluginName),t.next=9,p.method({payload:o,instance:r,abort:d(o,l,p.pluginName),config:Pt(p.pluginName,v,c),plugins:v});case 9:return f=t.sent,y=m(f)?f:{},t.abrupt("return",Promise.resolve(k(k({},o),y)));case 12:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),Promise.resolve(n));case 7:f=t.sent,d[l]=f,t.next=12;break;case 11:d[l]=n;case 12:return t.abrupt("return",Promise.resolve(d));case 13:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),Promise.resolve({}));case 10:return S=t.sent,t.next=13,data.exact.reduce(function(){var t=lt(ut.mark((function t(e,n,i){var o,l,h,f,y,w,T,D,O,C,A,P;return ut.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=data.exact.length===i+1,l=n.pluginName,h=c[l],t.next=5,e;case 5:if(f=t.sent,y=S[l]?S[l]:{},x&&(y=f),!Rt(y,l)){t.next=11;break}return kt({data:y,method:_,instance:r,pluginName:l,store:d}),t.abrupt("return",Promise.resolve(f));case 11:if(!Rt(f,l)){t.next=14;break}return o&&kt({data:f,method:_,instance:r,store:d}),t.abrupt("return",Promise.resolve(f));case 14:if(!M.hasOwnProperty(l)||!0!==M[l]){t.next=17;break}return d.dispatch({type:"queue",plugin:l,payload:y,_:{called:"queue",from:"queueMechanism"}}),t.abrupt("return",Promise.resolve(f));case 17:return w=E(S[l],c[l]),t.next=20,h[_]({abort:w.abort,payload:y,instance:r,config:Pt(l,v,c),plugins:v});case 20:return T=t.sent,D=m(T)?T:{},O=k(k({},f),D),Rt(C=S[l],l)?kt({data:C,method:_,instance:r,pluginName:l,store:d}):(A="".concat(_,":").concat(l),(A.match(/:/g)||[]).length<2&&!_.match(Mt)&&!_.match(St)&&(P=x?O:y,r.dispatch(k(k({},P),{},{type:A,_:{called:A,from:"submethod"}})))),t.abrupt("return",Promise.resolve(O));case 26:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),Promise.resolve(n));case 13:if(T=t.sent,_.match(Et)||_.match(/^registerPlugin/)||_.match(St)||_.match(Mt)||_.match(/^params/)||_.match(/^userIdChanged/)){t.next=21;break}if(f.plugins.includes(_),!T._||T._.originalAction!==_){t.next=18;break}return t.abrupt("return",T);case 18:D=k(k({},T),{_:{originalAction:T.type,called:T.type,from:"engineEnd"}}),Nt(T,data.exact.length)&&!_.match(/End$/)&&(D=k(k({},D),{type:T.type+"Aborted"})),d.dispatch(D);case 21:return t.abrupt("return",T);case 22:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function kt(t){var data=t.data,e=t.method,n=(t.instance,t.pluginName),r=e+"Aborted"+(n?":"+n:"");t.store.dispatch(k(k({},data),{},{type:r,_:{called:r,from:"abort"}}))}function Pt(t,e,n){var r=e[t]||n[t];return r&&r.config?r.config:{}}function jt(t,e){return e.reduce((function(e,n){return n[t]?e.concat({methodName:t,pluginName:n.name,method:n[t]}):e}),[])}function Lt(t,e){var n=function(t){return t.replace(Et,"")}(t),r=e?":".concat(e):"";return["".concat(t).concat(r),"".concat(n).concat(r),"".concat(n,"End").concat(r)]}function It(t,e,n){var r=Lt(t).map((function(t){return jt(t,e)}));return e.reduce((function(n,r){var o=r.name,c=Lt(t,o).map((function(t){return jt(t,e)})),l=xt(c,3),h=l[0],d=l[1],f=l[2];return h.length&&(n.beforeNS[o]=h),d.length&&(n.duringNS[o]=d),f.length&&(n.afterNS[o]=f),n}),{before:r[0],beforeNS:{},during:r[1],duringNS:{},after:r[2],afterNS:{}})}function Rt(t,e){var n=t.abort;return!!n&&(!0===n||(Bt(n,e)||n&&Bt(n.plugins,e)))}function Nt(t,e){var n=t.abort;if(!n)return!1;if(!0===n||d(n))return!0;var r=n.plugins;return Ft(n)&&n.length===e||Ft(r)&&r.length===e}function Ft(t){return Array.isArray(t)}function Bt(t,e){return!(!t||!Ft(t))&&t.includes(e)}function Ut(t,e){return function(n,r,o){var c=r.config,l=r.name,h="".concat(l,".").concat(n.type);o&&(h=o.event);var d=n.type.match(Et)?function(t,e,n,r,o){return function(c,l){var h=r?r.name:t,d=l&&Ft(l)?l:n;if(r&&(!(d=l&&Ft(l)?l:[t]).includes(t)||1!==d.length))throw new Error("Method ".concat(e," can only abort ").concat(t," plugin. ").concat(JSON.stringify(d)," input valid"));return k(k({},o),{},{abort:{reason:c,plugins:d,caller:e,_:h}})}}(l,h,e,o,n):function(t,e){return function(){throw new Error(t.type+" action not cancellable. Remove abort in "+e)}}(n,h);return{payload:Ht(n),instance:t,config:c||{},abort:d}}}function Vt(t,e){var text=zt(t);if(text&&text.name===e){var sub=zt(text.method),n=sub?"or "+sub.method:"";throw new Error([e+" plugin is calling method "+t,"Plugins cant call self","Use ".concat(text.method," ").concat(n," in ").concat(e," plugin insteadof ").concat(t)].join("\n"))}}function zt(t){var e=t.match(/(.*):(.*)/);return!!e&&{method:e[1],name:e[2]}}function Ht(t){return Object.keys(t).reduce((function(e,n){return"type"===n||(m(t[n])?e[n]=Object.assign({},t[n]):e[n]=t[n]),e}),{})}function Gt(t,e,n){var r={};return function(o){return function(c){return function(){var l=lt(ut.mark((function l(h){var d,f,m,v,y,_,x,w,E,M,S,T;return ut.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(d=h.type,f=h.abort,m=h.plugins,v=h,!f){l.next=4;break}return l.abrupt("return",c(h));case 4:if(d===G.enablePlugin&&o.dispatch({type:G.initializeStart,plugins:m,disabled:[],fromEnable:!0,ts:h.ts}),d===G.disablePlugin&&setTimeout((function(){pt(h.ts)}),0),d===G.initializeEnd&&(y=e(),_=Object.keys(y),x=_.filter((function(t){return m.includes(t)})).map((function(t){return y[t]})),w=[],E=[],M=h.disabled,S=x.map((function(t){var e=t.loaded,n=t.name;return ft(t,e,1e4).then((function(e){return r[n]||(o.dispatch({type:G.pluginReadyType(n),name:n,events:Object.keys(t).filter((function(t){return!H.includes(t)}))}),r[n]=!0),w=w.concat(n),t})).catch((function(t){if(t instanceof Error)throw new Error(t);return E=E.concat(t.name),t}))})),Promise.all(S).then((function(t){var e={plugins:w,failed:E,disabled:M};setTimeout((function(){_.length===S.length+M.length&&o.dispatch(k(k({},{type:G.ready}),e)),pt(h.ts,e)}),0)}))),d===G.bootstrap){l.next=13;break}return/^ready:([^:]*)$/.test(d)&&setTimeout((function(){return mt(o,e,t)}),0),l.next=11,Tt(h,e,t,o,n);case 11:return T=l.sent,l.abrupt("return",c(T));case 13:return l.abrupt("return",c(v));case 14:case"end":return l.stop()}}),l)})));return function(t){return l.apply(this,arguments)}}()}}}function Wt(){return(new Date).getTime()}function qt(t){return function(e){return function(e){return function(n){var r=n.type,o=n.key,c=n.value,l=n.options;if(r===G.setItem||r===G.removeItem){if(n.abort)return e(n);r===G.setItem?t.setItem(o,c,l):t.removeItem(o,l)}return e(n)}}}}var $t,Qt,Xt,Yt,Kt=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Jt=function t(){var e=this;Kt(this,t),C(this,"before",[]),C(this,"after",[]),C(this,"addMiddleware",(function(t,n){e[n]=e[n].concat(t)})),C(this,"removeMiddleware",(function(t,n){var r=e[n].findIndex((function(e){return e===t}));-1!==r&&(e[n]=[].concat(T(e[n].slice(0,r)),T(e[n].slice(r+1))))})),C(this,"dynamicMiddlewares",(function(t){return function(n){return function(r){return function(o){var c={getState:n.getState,dispatch:function(t){return n.dispatch(t)}},l=e[t].map((function(t){return t(c)}));return U.apply(void 0,T(l))(r)(o)}}}}))};function Zt(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r={};if("initialize:aborted"===n.type)return e;if(/^registerPlugin:([^:]*)$/.test(n.type)){var o=te(n.type,"registerPlugin"),c=t()[o];if(!c||!o)return e;var l=n.enabled;return r[o]={enabled:l,initialized:!!l&&Boolean(!c.initialize),loaded:!!l&&Boolean(c.loaded()),config:c.config||{}},k(k({},e),r)}if(/^initialize:([^:]*)$/.test(n.type)){var h=te(n.type,G.initialize),d=t()[h];return d&&h?(r[h]=k(k({},e[h]),{initialized:!0,loaded:Boolean(d.loaded())}),k(k({},e),r)):e}if(/^ready:([^:]*)$/.test(n.type))return r[n.name]=k(k({},e[n.name]),{loaded:!0}),k(k({},e),r);switch(n.type){case G.disablePlugin:return k(k({},e),ee(n.plugins,!1,e));case G.enablePlugin:return k(k({},e),ee(n.plugins,!0,e));default:return e}}}function te(t,e){return t.substring(e.length+1,t.length)}function ee(t,e,n){return t.reduce((function(t,r){return t[r]=k(k({},n[r]),{enabled:e}),t}),n)}$t=function(){if(!y)return!1;var t=navigator.appVersion;return~t.indexOf("Win")?"Windows":~t.indexOf("Mac")?"MacOS":~t.indexOf("X11")?"UNIX":~t.indexOf("Linux")?"Linux":"Unknown OS"}(),Qt=y?document.referrer:null,Xt=function(){if(y){var t=navigator,e=t.language,n=t.languages,r=t.userLanguage;return r||(n&&n.length?n[0]:e)}}(),Yt=function(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(t){}}();var ne={initialized:!1,sessionId:w(),app:null,version:null,debug:!1,offline:!!y&&!navigator.onLine,os:{name:$t},userAgent:y?navigator.userAgent:"node",library:{name:"analytics",version:"0.9.2"},timezone:Yt,locale:Xt,campaign:{},referrer:Qt};function re(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,e=arguments.length>1?arguments[1]:void 0,n=t.initialized,r=e.type,o=e.campaign;switch(r){case G.campaign:return k(k({},t),{campaign:o});case G.offline:return k(k({},t),{offline:!0});case G.online:return k(k({},t),{offline:!1});default:return n?t:k(k(k({},ne),t),{initialized:!0})}}var ie=["plugins","reducers","storage"];function oe(t){return Object.keys(t).reduce((function(e,n){return ie.includes(n)||(e[n]=t[n]),e}),{})}function ae(t){var s=t;try{s=JSON.parse(JSON.stringify(t))}catch(t){}return s}var se=/#.*$/;function ue(t){var e=/(http[s]?:\/\/)?([^\/\s]+\/)(.*)/g.exec(t);return"/"+(e&&e[3]?e[3].split("?")[0].replace(se,""):"")}function ce(t){var e=function(){if(y)for(var t,e=document.getElementsByTagName("link"),i=0;t=e[i];i++)if("canonical"===t.getAttribute("rel"))return t.getAttribute("href")}();return e?e.match(/\?/)?e:e+t:window.location.href.replace(se,"")}var le=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!y)return t;var e=document,title=e.title,n=e.referrer,r=window,o=r.location,c=r.innerWidth,l=r.innerHeight,h=o.hash,d=o.search,f=ce(d),m={title:title,url:f,path:ue(f),hash:h,search:d,width:c,height:l};return n&&""!==n&&(m.referrer=n),k(k({},m),t)},he={last:{},history:[]};function pe(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,e=arguments.length>1?arguments[1]:void 0,n=e.properties,r=e.options,meta=e.meta;switch(e.type){case G.page:var o=ae(k({properties:n,meta:meta},Object.keys(r).length&&{options:r}));return k(k({},t),{last:o,history:t.history.concat(o)});default:return t}}var de={last:{},history:[]};function fe(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,e=arguments.length>1?arguments[1]:void 0,n=e.type,meta=e.meta,r=e.options,o=e.event,c=e.properties;switch(n){case G.track:var l=ae(k(k({event:o,properties:c},Object.keys(r).length&&{options:r}),{},{meta:meta}));return k(k({},t),{last:l,history:t.history.concat(l)});default:return t}}var me={actions:[]};function ve(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.payload;switch(n){case"queue":var o;return o=r&&r.type&&r.type===G.identify?[e].concat(t.actions):t.actions.concat(e),k(k({},t),{},{actions:o});case"dequeue":return[];default:return t}}function ge(t,e,n){if(!y)return!1;var r=window[(n?"add":"remove")+"EventListener"];t.split(" ").forEach((function(t){r(t,e)}))}function ye(t){var e=ge.bind(null,"online offline",(function(e){return Promise.resolve(!navigator.onLine).then(t)}));return e(!0),function(t){return e(!1)}}function _e(){return Array.prototype.slice.call(arguments).reduce((function(t,e){return t||(h(e)?e:t)}),!1)}function be(){return c.b.__analytics__=[],function(t){return function(e,n,r){var o=t(e,n,r),l=o.dispatch;return Object.assign(o,{dispatch:function(t){var a=t.action||t;return c.b.__analytics__.push(a),l(t)}})}}}function xe(t){return function(){return U(U.apply(null,arguments),be())}}function we(t){return t?d(t)?[t]:t:[]}var Ee=function(t,e,n){return{type:G.setItemStart,timestamp:Wt(),key:t,value:e,options:n}},Me=function(t,e){return{type:G.removeItemStart,timestamp:Wt(),key:t,options:e}};var Se="before",Te="after",De=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.reducers||{},n=(t.plugins||[]).reduce((function(t,e){if(h(e))return t.middlewares=t.middlewares.concat(e),t;if(e.NAMESPACE&&(e.name=e.NAMESPACE),!e.name)throw new Error("https://lytics.dev/errors/1");var n=e.EVENTS?Object.keys(e.EVENTS).map((function(t){return e.EVENTS[t]})):[],r=!(!1===e.enabled),o=!(e.config&&!1===e.config.enabled);t.pluginEnabled[e.name]=r&&o,delete e.enabled,e.methods&&(t.methods[e.name]=Object.keys(e.methods).reduce((function(a,t){return a[t]=_t(e.methods[t]),a}),{}),delete e.methods);var c=Object.keys(e).concat(n),l=new Set(t.events.concat(c));if(t.events=Array.from(l),t.pluginsArray=t.pluginsArray.concat(e),t.plugins[e.name])throw new Error(e.name+" already loaded");return t.plugins[e.name]=e,t.plugins[e.name].loaded||(t.plugins[e.name].loaded=function(){return!0}),t}),{plugins:{},pluginEnabled:{},methods:{},pluginsArray:[],middlewares:[],events:[]}),r=t.storage?t.storage:{getItem:function(t){return c.b[t]},setItem:function(t,e){return c.b[t]=e},removeItem:function(t){return c.b[t]=void 0}},l=at(r),f=n.plugins,v=n.events.filter((function(t){return!H.includes(t)})),x=new Set(v.concat(z).filter((function(t){return!H.includes(t)}))),E=Array.from(x).sort(),M=v.sort(),S=function(){return f},D=new Jt,C=D.addMiddleware,A=D.removeMiddleware,P=D.dynamicMiddlewares,j=function(){throw new Error("Abort disabled in listener")},L=function(t,e){return function(n){e&&e(n),t(n)}},I=_(),R=it(I,r),F=k({enable:function(t,e){var time=w();return new Promise((function(n){ht[time]=L(n,e),ft.dispatch({type:G.enablePlugin,plugins:we(t),ts:time,_:{originalAction:G.enablePlugin}})}))},disable:function(t,e){var time=w();return new Promise((function(n){ht[time]=L(n,e),ft.dispatch({type:G.disablePlugin,plugins:we(t),ts:time,_:{originalAction:G.disablePlugin}})}))}},n.methods),Q={identify:function(t,e,n,r){var o=d(t)?t:null,data=m(t)?t:e,h=n||{},f=Q.user();c.b[ot(tt)]=o;var v=o||data.userId||l(tt,Q,data);return new Promise((function(t,c){ft.dispatch(k(k({type:G.identifyStart,userId:v,traits:data||{},options:h,anonymousId:f.anonymousId},f.id&&f.id!==o&&{previousId:f.id}),{},{meta:{timestamp:Wt(),callback:L(t,_e(e,n,r))}}))}))},track:function(t,e,n,r){var o=m(t)?t.event:t;if(!o||!d(o))throw new Error("Event missing");var data=m(t)?t:e||{},c=m(n)?n:{};return new Promise((function(t,h){ft.dispatch({type:G.trackStart,event:o,properties:data,options:c,userId:l(tt,Q,e),anonymousId:l(et,Q,e),meta:{timestamp:Wt(),callback:L(t,_e(e,n,r))}})}))},page:function(data,t,e){var n=m(data)?data:{},r=m(t)?t:{};return new Promise((function(o,c){ft.dispatch({type:G.pageStart,properties:le(n),options:r,userId:l(tt,Q,n),anonymousId:l(et,Q,n),meta:{timestamp:Wt(),callback:L(o,_e(data,t,e))}})}))},user:function(t){if(t===tt||"id"===t)return l(tt,Q);var e=Q.getState("user");return t?o()(e,t):e},reset:function(t){return new Promise((function(e,n){ft.dispatch({type:G.resetStart,timestamp:Wt(),callback:L(e,t)})}))},ready:function(t){return Q.on(G.ready,t)},on:function(t,e){if(!t||!h(e))return!1;if(t===G.bootstrap)throw new Error(".on disabled for "+t);var n=/Start$|Start:/;if("*"===t){var r=function(t){return function(t){return function(r){return r.type.match(n)&&e({payload:r,instance:Q,plugins:f}),t(r)}}},o=function(t){return function(t){return function(r){return r.type.match(n)||e({payload:r,instance:Q,plugins:f}),t(r)}}};return C(r,Se),C(o,Te),function(){A(r,Se),A(o,Te)}}var c=t.match(n)?Se:Te,l=function(n){return function(n){return function(r){return r.type===t&&e({payload:r,instance:Q,plugins:f,abort:j}),n(r)}}};return C(l,c),function(){return A(l,c)}},once:function(t,e){if(!t||!h(e))return!1;if(t===G.bootstrap)throw new Error(".once disabled for "+t);var n=Q.on(t,(function(t){var r=t.payload;e({payload:r,instance:Q,plugins:f,abort:j}),n()}));return n},getState:function(t){var e=ft.getState();return t?o()(e,t):Object.assign({},e)},dispatch:function(t){var e=d(t)?{type:t}:t;if(W(e.type))throw new Error("reserved action "+e.type);var meta=e.meta||{},n=t._||{},r=k(k({},e),{},{meta:k({timestamp:Wt()},meta),_:k({originalAction:e.type},n)});ft.dispatch(r)},enablePlugin:F.enable,disablePlugin:F.disable,plugins:F,storage:{getItem:r.getItem,setItem:function(t,e,n){ft.dispatch(Ee(t,e,n))},removeItem:function(t,e){ft.dispatch(Me(t,e))}},setAnonymousId:function(t,e){Q.storage.setItem($,t,e)},events:{all:E,core:z,plugins:M}},X=n.middlewares.concat([P(Se),Gt(Q,S,{all:E,plugins:M}),qt(r),Z(Q),st(Q),P(Te)]),Y={context:re,user:nt(r),page:pe,track:fe,plugins:Zt(S),queue:ve},K=U,J=U;if(y&&t.debug){var ut=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__;ut&&(K=ut({trace:!0,traceLimit:25})),J=function(){return 0===arguments.length?be():m(O(arguments[0]))?xe():xe().apply(null,arguments)}}var ct=oe(t),lt=n.pluginsArray.reduce((function(t,e){var r=e.name,o=e.config,c=e.loaded,l=n.pluginEnabled[r];return t[r]={enabled:l,initialized:!!l&&Boolean(!e.initialize),loaded:Boolean(c()),config:o||{}},t}),{}),pt={context:ct,user:R,plugins:lt},ft=N(B(k(k({},Y),e)),pt,J(K(V.apply(void 0,T(X))))),mt=Object.keys(f);ft.dispatch({type:G.bootstrap,plugins:mt,config:ct,params:I,user:R});var gt=mt.filter((function(t){return n.pluginEnabled[t]})),yt=mt.filter((function(t){return!n.pluginEnabled[t]}));function _t(t){return function(){var e=Array.prototype.slice.call(arguments),n=Array.apply(null,Array(t.length)).map((function(){})).map((function(t,i){if(e[i]||!1===e[i]||null===e[i])return e[i]})).concat(Q);return t.apply({instance:Q},n)}}return ft.dispatch({type:G.registerPlugins,plugins:mt,enabled:n.pluginEnabled}),n.pluginsArray.map((function(t,i){var e=t.bootstrap,r=t.config,o=t.name;e&&h(e)&&e({instance:Q,config:r,payload:t}),ft.dispatch({type:G.registerPluginType(o),name:o,enabled:n.pluginEnabled[o],plugin:t}),n.pluginsArray.length===i+1&&ft.dispatch({type:G.initializeStart,plugins:gt,disabled:yt})})),ye((function(t){ft.dispatch({type:t?G.offline:G.online})})),vt(ft,S,Q),Q};var Oe=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t};function Ce(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var Ae=function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Ce(source,!0).forEach((function(e){Oe(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):Ce(source).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t};e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={storage:c.a};return De(Ae(Ae({},e),t))}},384:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));n(60),n(40);var r=n(0),o=n(46),c=n(107),l=(n(80),{shaderID:"luminosityHighPass",uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new r.e(0)},defaultOpacity:{value:0}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D tDiffuse;","uniform vec3 defaultColor;","uniform float defaultOpacity;","uniform float luminosityThreshold;","uniform float smoothWidth;","varying vec2 vUv;","void main() {","\tvec4 texel = texture2D( tDiffuse, vUv );","\tvec3 luma = vec3( 0.299, 0.587, 0.114 );","\tfloat v = dot( texel.xyz, luma );","\tvec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );","\tfloat alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );","\tgl_FragColor = mix( outputColor, texel, alpha );","}"].join("\n")}),h=function(t,e,n,h){o.a.call(this),this.strength=void 0!==e?e:1,this.radius=n,this.threshold=h,this.resolution=void 0!==t?new r.C(t.x,t.y):new r.C(256,256),this.clearColor=new r.e(0,0,0);var d={minFilter:r.k,magFilter:r.k,format:r.s};this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;var f=Math.round(this.resolution.x/2),m=Math.round(this.resolution.y/2);this.renderTargetBright=new r.F(f,m,d),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(var i=0;i<this.nMips;i++){var v=new r.F(f,m,d);v.texture.name="UnrealBloomPass.h"+i,v.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(v);var y=new r.F(f,m,d);y.texture.name="UnrealBloomPass.v"+i,y.texture.generateMipmaps=!1,this.renderTargetsVertical.push(y),f=Math.round(f/2),m=Math.round(m/2)}void 0===l&&console.error("UnrealBloomPass relies on LuminosityHighPassShader");var _=l;this.highPassUniforms=r.B.clone(_.uniforms),this.highPassUniforms.luminosityThreshold.value=h,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new r.v({uniforms:this.highPassUniforms,vertexShader:_.vertexShader,fragmentShader:_.fragmentShader,defines:{}}),this.separableBlurMaterials=[];var x=[3,5,7,9,11];for(f=Math.round(this.resolution.x/2),m=Math.round(this.resolution.y/2),i=0;i<this.nMips;i++)this.separableBlurMaterials.push(this.getSeperableBlurMaterial(x[i])),this.separableBlurMaterials[i].uniforms.texSize.value=new r.C(f,m),f=Math.round(f/2),m=Math.round(m/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=e,this.compositeMaterial.uniforms.bloomRadius.value=.1,this.compositeMaterial.needsUpdate=!0;this.compositeMaterial.uniforms.bloomFactors.value=[1,.8,.6,.4,.2],this.bloomTintColors=[new r.D(1,1,1),new r.D(1,1,1),new r.D(1,1,1),new r.D(1,1,1),new r.D(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,void 0===c.a&&console.error("UnrealBloomPass relies on CopyShader");var w=c.a;this.copyUniforms=r.B.clone(w.uniforms),this.copyUniforms.opacity.value=1,this.materialCopy=new r.v({uniforms:this.copyUniforms,vertexShader:w.vertexShader,fragmentShader:w.fragmentShader,blending:r.a,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this.oldClearColor=new r.e,this.oldClearAlpha=1,this.basic=new r.n,this.fsQuad=new o.a.FullScreenQuad(null)};h.prototype=Object.assign(Object.create(o.a.prototype),{constructor:h,dispose:function(){for(var i=0;i<this.renderTargetsHorizontal.length;i++)this.renderTargetsHorizontal[i].dispose();for(i=0;i<this.renderTargetsVertical.length;i++)this.renderTargetsVertical[i].dispose();this.renderTargetBright.dispose()},setSize:function(t,e){var n=Math.round(t/2),o=Math.round(e/2);this.renderTargetBright.setSize(n,o);for(var i=0;i<this.nMips;i++)this.renderTargetsHorizontal[i].setSize(n,o),this.renderTargetsVertical[i].setSize(n,o),this.separableBlurMaterials[i].uniforms.texSize.value=new r.C(n,o),n=Math.round(n/2),o=Math.round(o/2)},render:function(t,e,n,r,o){this.oldClearColor.copy(t.getClearColor()),this.oldClearAlpha=t.getClearAlpha();var c=t.autoClear;t.autoClear=!1,t.setClearColor(this.clearColor,0),o&&t.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=n.texture,t.setRenderTarget(null),t.clear(),this.fsQuad.render(t)),this.highPassUniforms.tDiffuse.value=n.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,t.setRenderTarget(this.renderTargetBright),t.clear(),this.fsQuad.render(t);for(var l=this.renderTargetBright,i=0;i<this.nMips;i++)this.fsQuad.material=this.separableBlurMaterials[i],this.separableBlurMaterials[i].uniforms.colorTexture.value=l.texture,this.separableBlurMaterials[i].uniforms.direction.value=h.BlurDirectionX,t.setRenderTarget(this.renderTargetsHorizontal[i]),t.clear(),this.fsQuad.render(t),this.separableBlurMaterials[i].uniforms.colorTexture.value=this.renderTargetsHorizontal[i].texture,this.separableBlurMaterials[i].uniforms.direction.value=h.BlurDirectionY,t.setRenderTarget(this.renderTargetsVertical[i]),t.clear(),this.fsQuad.render(t),l=this.renderTargetsVertical[i];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,t.setRenderTarget(this.renderTargetsHorizontal[0]),t.clear(),this.fsQuad.render(t),this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,o&&t.state.buffers.stencil.setTest(!0),this.renderToScreen?(t.setRenderTarget(null),this.fsQuad.render(t)):(t.setRenderTarget(n),this.fsQuad.render(t)),t.setClearColor(this.oldClearColor,this.oldClearAlpha),t.autoClear=c},getSeperableBlurMaterial:function(t){return new r.v({defines:{KERNEL_RADIUS:t,SIGMA:t},uniforms:{colorTexture:{value:null},texSize:{value:new r.C(.5,.5)},direction:{value:new r.C(.5,.5)}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"#include <common>\t\t\t\tvarying vec2 vUv;\n\t\t\t\tuniform sampler2D colorTexture;\n\t\t\t\tuniform vec2 texSize;\t\t\t\tuniform vec2 direction;\t\t\t\t\t\t\t\tfloat gaussianPdf(in float x, in float sigma) {\t\t\t\t\treturn 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;\t\t\t\t}\t\t\t\tvoid main() {\n\t\t\t\t\tvec2 invSize = 1.0 / texSize;\t\t\t\t\tfloat fSigma = float(SIGMA);\t\t\t\t\tfloat weightSum = gaussianPdf(0.0, fSigma);\t\t\t\t\tvec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;\t\t\t\t\tfor( int i = 1; i < KERNEL_RADIUS; i ++ ) {\t\t\t\t\t\tfloat x = float(i);\t\t\t\t\t\tfloat w = gaussianPdf(x, fSigma);\t\t\t\t\t\tvec2 uvOffset = direction * invSize * x;\t\t\t\t\t\tvec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;\t\t\t\t\t\tvec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;\t\t\t\t\t\tdiffuseSum += (sample1 + sample2) * w;\t\t\t\t\t\tweightSum += 2.0 * w;\t\t\t\t\t}\t\t\t\t\tgl_FragColor = vec4(diffuseSum/weightSum, 1.0);\n\t\t\t\t}"})},getCompositeMaterial:function(t){return new r.v({defines:{NUM_MIPS:t},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},dirtTexture:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"varying vec2 vUv;\t\t\t\tuniform sampler2D blurTexture1;\t\t\t\tuniform sampler2D blurTexture2;\t\t\t\tuniform sampler2D blurTexture3;\t\t\t\tuniform sampler2D blurTexture4;\t\t\t\tuniform sampler2D blurTexture5;\t\t\t\tuniform sampler2D dirtTexture;\t\t\t\tuniform float bloomStrength;\t\t\t\tuniform float bloomRadius;\t\t\t\tuniform float bloomFactors[NUM_MIPS];\t\t\t\tuniform vec3 bloomTintColors[NUM_MIPS];\t\t\t\t\t\t\t\tfloat lerpBloomFactor(const in float factor) { \t\t\t\t\tfloat mirrorFactor = 1.2 - factor;\t\t\t\t\treturn mix(factor, mirrorFactor, bloomRadius);\t\t\t\t}\t\t\t\t\t\t\t\tvoid main() {\t\t\t\t\tgl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) + \t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) + \t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) + \t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) + \t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );\t\t\t\t}"})}}),h.BlurDirectionX=new r.C(1,0),h.BlurDirectionY=new r.C(0,1)},388:function(t,e,n){(function(t){t.installComponents=function(component,t){const e="function"==typeof component.exports?component.exports.extendOptions:component.options;for(var i in"function"==typeof component.exports&&(e.components=component.exports.options.components),e.components=e.components||{},t)e.components[i]=e.components[i]||t[i];e.functional&&function(component,t){if(component.exports._functionalComponents)return;component.exports._functionalComponents=!0;const e=component.exports.render;component.exports.render=function(n,r){return e(n,Object.assign({},r,{_c:function(e,a,b){return r._c(t[e]||e,a,b)}}))}}(component,e.components)}}).call(this,n(44))},389:function(t,e,n){"use strict";n.r(e),function(t){n(30),n(89),n(98),n(34),n(24),n(18),n(75),n(90),n(60),n(72),n(260),n(40),n(35),n(29),n(48),n(68),n(91),n(50),n(104),n(19),n(54),n(66);var e=n(33),r=(n(51),n(15)),o=(n(145),n(395),n(399),n(400),n(10)),c=n(321),l=n(126),h=n(8),d=n(82),f=n(379),m=n(160);n(536);function v(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return c=t.done,t},e:function(t){l=!0,o=t},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}o.a.__nuxt__fetch__mixin__||(o.a.mixin(f.a),o.a.__nuxt__fetch__mixin__=!0),o.a.component(m.a.name,m.a),o.a.component("NLink",m.a),t.fetch||(t.fetch=c.a);var _,x,w=[],E=window.__NUXT__||{};Object.assign(o.a.config,{silent:!0,performance:!1});var M=o.a.config.errorHandler||console.error;function S(t,e,n){for(var r=function(component){var t=function(component,t){if(!component||!component.options||!component.options[t])return{};var option=component.options[t];if("function"==typeof option){for(var e=arguments.length,n=new Array(e>2?e-2:0),r=2;r<e;r++)n[r-2]=arguments[r];return option.apply(void 0,n)}return option}(component,"transition",e,n)||{};return"string"==typeof t?{name:t}:t},o=n?Object(h.g)(n):[],c=Math.max(t.length,o.length),l=[],d=function(i){var e=Object.assign({},r(t[i])),n=Object.assign({},r(o[i]));Object.keys(e).filter((function(t){return void 0!==e[t]&&!t.toLowerCase().includes("leave")})).forEach((function(t){n[t]=e[t]})),l.push(n)},i=0;i<c;i++)d(i);return l}function T(t,e,n){return D.apply(this,arguments)}function D(){return(D=Object(r.a)(regeneratorRuntime.mark((function t(e,n,r){var o,c,l,d,f=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._routeChanged=Boolean(_.nuxt.err)||n.name!==e.name,this._paramChanged=!this._routeChanged&&n.path!==e.path,this._queryChanged=!this._paramChanged&&n.fullPath!==e.fullPath,this._diffQuery=this._queryChanged?Object(h.i)(e.query,n.query):[],(this._routeChanged||this._paramChanged)&&this.$loading.start&&!this.$loading.manual&&this.$loading.start(),t.prev=5,!this._queryChanged){t.next=12;break}return t.next=9,Object(h.q)(e,(function(t,e){return{Component:t,instance:e}}));case 9:o=t.sent,o.some((function(t){var r=t.Component,o=t.instance,c=r.options.watchQuery;return!0===c||(Array.isArray(c)?c.some((function(t){return f._diffQuery[t]})):"function"==typeof c&&c.apply(o,[e.query,n.query]))}))&&this.$loading.start&&!this.$loading.manual&&this.$loading.start();case 12:r(),t.next=26;break;case 15:if(t.prev=15,t.t0=t.catch(5),c=t.t0||{},l=c.statusCode||c.status||c.response&&c.response.status||500,d=c.message||"",!/^Loading( CSS)? chunk (\d)+ failed\./.test(d)){t.next=23;break}return window.location.reload(!0),t.abrupt("return");case 23:this.error({statusCode:l,message:d}),this.$nuxt.$emit("routeChanged",e,n,c),r();case 26:case"end":return t.stop()}}),t,this,[[5,15]])})))).apply(this,arguments)}function O(t,e){return E.serverRendered&&e&&Object(h.b)(t,e),t._Ctor=t,t}function C(t){var path=Object(h.f)(t.options.base,t.options.mode);return Object(h.d)(t.match(path),function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(e,n,r,o,c){var l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("function"!=typeof e||e.options){t.next=4;break}return t.next=3,e();case 3:e=t.sent;case 4:return l=O(Object(h.r)(e),E.data?E.data[c]:null),r.components[o]=l,t.abrupt("return",l);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r,o,c){return t.apply(this,arguments)}}())}function A(t,e,n){var r=this,o=["nuxti18n"],c=!1;if(void 0!==n&&(o=[],(n=Object(h.r)(n)).options.middleware&&(o=o.concat(n.options.middleware)),t.forEach((function(t){t.options.middleware&&(o=o.concat(t.options.middleware))}))),o=o.map((function(t){return"function"==typeof t?t:("function"!=typeof l.a[t]&&(c=!0,r.error({statusCode:500,message:"Unknown middleware "+t})),l.a[t])})),!c)return Object(h.n)(o,e)}function k(t,e,n){return P.apply(this,arguments)}function P(){return(P=Object(r.a)(regeneratorRuntime.mark((function t(e,n,o){var c,l,f,m,y,x,E,M,T,D,O,C,k,P,j,L,I=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!1!==this._routeChanged||!1!==this._paramChanged||!1!==this._queryChanged){t.next=2;break}return t.abrupt("return",o());case 2:return c=!1,e===n?(w=[],c=!0):(l=[],w=Object(h.g)(n,l).map((function(t,i){return Object(h.c)(n.matched[l[i]].path)(n.params)}))),f=!1,m=function(path){n.path===path.path&&I.$loading.finish&&I.$loading.finish(),n.path!==path.path&&I.$loading.pause&&I.$loading.pause(),f||(f=!0,o(path))},t.next=8,Object(h.s)(_,{route:e,from:n,next:m.bind(this)});case 8:if(this._dateLastError=_.nuxt.dateErr,this._hadError=Boolean(_.nuxt.err),y=[],(x=Object(h.g)(e,y)).length){t.next=27;break}return t.next=15,A.call(this,x,_.context);case 15:if(!f){t.next=17;break}return t.abrupt("return");case 17:return E=(d.a.options||d.a).layout,t.next=20,this.loadLayout("function"==typeof E?E.call(d.a,_.context):E);case 20:return M=t.sent,t.next=23,A.call(this,x,_.context,M);case 23:if(!f){t.next=25;break}return t.abrupt("return");case 25:return _.context.error({statusCode:404,message:"This page could not be found"}),t.abrupt("return",o());case 27:return x.forEach((function(t){t._Ctor&&t._Ctor.options&&(t.options.asyncData=t._Ctor.options.asyncData,t.options.fetch=t._Ctor.options.fetch)})),this.setTransitions(S(x,e,n)),t.prev=29,t.next=32,A.call(this,x,_.context);case 32:if(!f){t.next=34;break}return t.abrupt("return");case 34:if(!_.context._errored){t.next=36;break}return t.abrupt("return",o());case 36:return"function"==typeof(T=x[0].options.layout)&&(T=T(_.context)),t.next=40,this.loadLayout(T);case 40:return T=t.sent,t.next=43,A.call(this,x,_.context,T);case 43:if(!f){t.next=45;break}return t.abrupt("return");case 45:if(!_.context._errored){t.next=47;break}return t.abrupt("return",o());case 47:D=!0,t.prev=48,O=v(x),t.prev=50,O.s();case 52:if((C=O.n()).done){t.next=63;break}if("function"==typeof(k=C.value).options.validate){t.next=56;break}return t.abrupt("continue",61);case 56:return t.next=58,k.options.validate(_.context);case 58:if(D=t.sent){t.next=61;break}return t.abrupt("break",63);case 61:t.next=52;break;case 63:t.next=68;break;case 65:t.prev=65,t.t0=t.catch(50),O.e(t.t0);case 68:return t.prev=68,O.f(),t.finish(68);case 71:t.next=77;break;case 73:return t.prev=73,t.t1=t.catch(48),this.error({statusCode:t.t1.statusCode||"500",message:t.t1.message}),t.abrupt("return",o());case 77:if(D){t.next=80;break}return this.error({statusCode:404,message:"This page could not be found"}),t.abrupt("return",o());case 80:return t.next=82,Promise.all(x.map(function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(r,i){var o,l,d,f,m,v,x,E,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r._path=Object(h.c)(e.matched[y[i]].path)(e.params),r._dataRefresh=!1,o=r._path!==w[i],I._routeChanged&&o?r._dataRefresh=!0:I._paramChanged&&o?(l=r.options.watchParam,r._dataRefresh=!1!==l):I._queryChanged&&(!0===(d=r.options.watchQuery)?r._dataRefresh=!0:Array.isArray(d)?r._dataRefresh=d.some((function(t){return I._diffQuery[t]})):"function"==typeof d&&(P||(P=Object(h.h)(e)),r._dataRefresh=d.apply(P[i],[e.query,n.query]))),I._hadError||!I._isMounted||r._dataRefresh){t.next=6;break}return t.abrupt("return");case 6:return f=[],m=r.options.asyncData&&"function"==typeof r.options.asyncData,v=Boolean(r.options.fetch)&&r.options.fetch.length,x=m&&v?30:45,m&&((E=I.isPreview||c?Object(h.p)(r.options.asyncData,_.context):I.fetchPayload(e.path).then((function(t){return t.data[i]})).catch((function(t){return Object(h.p)(r.options.asyncData,_.context)}))).then((function(t){Object(h.b)(r,t),I.$loading.increase&&I.$loading.increase(x)})),f.push(E)),I.$loading.manual=!1===r.options.loading,I.isPreview||c||f.push(I.fetchPayload(e.path).catch((function(t){return null}))),v&&((p=r.options.fetch(_.context))&&(p instanceof Promise||"function"==typeof p.then)||(p=Promise.resolve(p)),p.then((function(t){I.$loading.increase&&I.$loading.increase(x)})),f.push(p)),t.abrupt("return",Promise.all(f));case 15:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()));case 82:f||(this.$loading.finish&&!this.$loading.manual&&this.$loading.finish(),o()),t.next=99;break;case 85:if(t.prev=85,t.t2=t.catch(29),"ERR_REDIRECT"!==(j=t.t2||{}).message){t.next=90;break}return t.abrupt("return",this.$nuxt.$emit("routeChanged",e,n,j));case 90:return w=[],Object(h.k)(j),"function"==typeof(L=(d.a.options||d.a).layout)&&(L=L(_.context)),t.next=96,this.loadLayout(L);case 96:this.error(j),this.$nuxt.$emit("routeChanged",e,n,j),o();case 99:case"end":return t.stop()}}),t,this,[[29,85],[48,73],[50,65,68,71]])})))).apply(this,arguments)}function j(t,n){Object(h.d)(t,(function(t,n,r,c){return"object"!==Object(e.a)(t)||t.options||((t=o.a.extend(t))._Ctor=t,r.components[c]=t),t}))}function L(t){var e=Boolean(this.$options.nuxt.err);this._hadError&&this._dateLastError===this.$options.nuxt.dateErr&&(e=!1);var n=e?(d.a.options||d.a).layout:t.matched[0].components.default.options.layout;"function"==typeof n&&(n=n(_.context)),this.setLayout(n)}function I(t){t._hadError&&t._dateLastError===t.$options.nuxt.dateErr&&t.error()}function R(t,e){var n=this;if(!1!==this._routeChanged||!1!==this._paramChanged||!1!==this._queryChanged){var r=Object(h.h)(t),c=Object(h.g)(t);o.a.nextTick((function(){r.forEach((function(t,i){if(t&&!t._isDestroyed&&t.constructor._dataRefresh&&c[i]===t.constructor&&!0!==t.$vnode.data.keepAlive&&"function"==typeof t.constructor.options.data){var e=t.constructor.options.data.call(t);for(var n in e)o.a.set(t.$data,n,e[n]);window.$nuxt.$nextTick((function(){window.$nuxt.$emit("triggerScroll")}))}})),I(n)}))}}function N(t){window.onNuxtReadyCbs.forEach((function(e){"function"==typeof e&&e(t)})),"function"==typeof window._onNuxtLoaded&&window._onNuxtLoaded(t),x.afterEach((function(e,n){o.a.nextTick((function(){return t.$nuxt.$emit("routeChanged",e,n)}))}))}function F(){return(F=Object(r.a)(regeneratorRuntime.mark((function t(e){var n,r,c,l,d,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(_=e.app,x=e.router,n=new o.a(_),E.data||!E.serverRendered){t.next=13;break}return t.prev=4,t.next=7,n.fetchPayload(E.routePath||n.context.route.path);case 7:r=t.sent,Object.assign(E,r),t.next=13;break;case 11:t.prev=11,t.t0=t.catch(4);case 13:return c=E.layout||"default",t.next=16,n.loadLayout(c);case 16:return n.setLayout(c),l=function(){n.$mount("#__nuxt"),x.afterEach(j),x.afterEach(L.bind(n)),x.afterEach(R.bind(n)),o.a.nextTick((function(){N(n)}))},t.next=20,Promise.all(C(x));case 20:if(d=t.sent,n.setTransitions=n.$options.nuxt.setTransitions.bind(n),d.length&&(n.setTransitions(S(d,x.currentRoute)),w=x.currentRoute.matched.map((function(t){return Object(h.c)(t.path)(x.currentRoute.params)}))),n.$loading={},E.error&&n.error(E.error),x.beforeEach(T.bind(n)),x.beforeEach(k.bind(n)),!E.serverRendered){t.next=29;break}return t.abrupt("return",l());case 29:return f=function(){j(x.currentRoute,x.currentRoute),L.call(n,x.currentRoute),I(n),l()},t.next=32,new Promise((function(t){return setTimeout(t,0)}));case 32:k.call(n,x.currentRoute,x.currentRoute,(function(path){if(path){var t=x.afterEach((function(e,n){t(),f()}));x.push(path,void 0,(function(t){t&&M(t)}))}else f()}));case 33:case"end":return t.stop()}}),t,null,[[4,11]])})))).apply(this,arguments)}Object(d.b)(null,E.config).then((function(t){return F.apply(this,arguments)})).catch(M)}.call(this,n(44))},4:function(t,e,n){"use strict";n.d(e,"w",(function(){return r})),n.d(e,"q",(function(){return o})),n.d(e,"k",(function(){return c})),n.d(e,"t",(function(){return l})),n.d(e,"l",(function(){return h})),n.d(e,"u",(function(){return d})),n.d(e,"o",(function(){return f})),n.d(e,"s",(function(){return m})),n.d(e,"m",(function(){return v})),n.d(e,"n",(function(){return y})),n.d(e,"i",(function(){return _})),n.d(e,"x",(function(){return x})),n.d(e,"j",(function(){return w})),n.d(e,"r",(function(){return E})),n.d(e,"b",(function(){return M})),n.d(e,"g",(function(){return S})),n.d(e,"c",(function(){return T})),n.d(e,"f",(function(){return D})),n.d(e,"d",(function(){return O})),n.d(e,"e",(function(){return C})),n.d(e,"h",(function(){return A})),n.d(e,"a",(function(){return k})),n.d(e,"p",(function(){return P})),n.d(e,"v",(function(){return j}));var r={fallbackLocale:"en"},o=[{code:"fr",iso:"fr-FR",file:"fr-FR.js"},{code:"en",iso:"en-US",file:"en-US.js"}],c="en",l="___",h="default",d="prefix_except_default",f=!0,m=null,v=!1,y=!1,_="",x={moduleName:"i18n",syncLocale:!1,syncMessages:!1,syncRouteParams:!0},w=function(){return null},E=function(){return null},M=!0,S="nuxt-i18n",T="code",D="iso",O="domain",C="file",A={PREFIX:"prefix",PREFIX_EXCEPT_DEFAULT:"prefix_except_default",PREFIX_AND_DEFAULT:"prefix_and_default",NO_PREFIX:"no_prefix"},k="nuxtI18n",P=["fr","en"],j=void 0},406:function(t,e,n){"use strict";n(275)},407:function(t,e,n){(e=n(25)(!1)).push([t.i,".__nuxt-error-page{padding:1rem;background:#f7f8fb;color:#47494e;text-align:center;display:flex;justify-content:center;align-items:center;flex-direction:column;font-family:sans-serif;font-weight:100!important;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;-webkit-font-smoothing:antialiased;position:absolute;top:0;left:0;right:0;bottom:0}.__nuxt-error-page .error{max-width:450px}.__nuxt-error-page .title{font-size:1.5rem;margin-top:15px;color:#47494e;margin-bottom:8px}.__nuxt-error-page .description{color:#7f828b;line-height:21px;margin-bottom:10px}.__nuxt-error-page a{color:#7f828b!important;text-decoration:none}.__nuxt-error-page .logo{position:fixed;left:12px;bottom:12px}",""]),t.exports=e},408:function(t,e,n){"use strict";n(276)},409:function(t,e,n){(e=n(25)(!1)).push([t.i,".nuxt-progress{position:fixed;top:0;left:0;right:0;height:2px;width:0;opacity:1;transition:width .1s,opacity .4s;background-color:#000;z-index:999999}.nuxt-progress.nuxt-progress-notransition{transition:none}.nuxt-progress-failed{background-color:red}",""]),t.exports=e},43:function(t,e,n){(function(n){var r;!function(){"use strict";var o=function(){this.init()};o.prototype={init:function(){var t=this||c;return t._counter=1e3,t._html5AudioPool=[],t.html5PoolSize=10,t._codecs={},t._howls=[],t._muted=!1,t._volume=1,t._canPlayEvent="canplaythrough",t._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,t.masterGain=null,t.noAudio=!1,t.usingWebAudio=!0,t.autoSuspend=!0,t.ctx=null,t.autoUnlock=!0,t._setup(),t},volume:function(t){var e=this||c;if(t=parseFloat(t),e.ctx||_(),void 0!==t&&t>=0&&t<=1){if(e._volume=t,e._muted)return e;e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t,c.ctx.currentTime);for(var i=0;i<e._howls.length;i++)if(!e._howls[i]._webAudio)for(var n=e._howls[i]._getSoundIds(),r=0;r<n.length;r++){var o=e._howls[i]._soundById(n[r]);o&&o._node&&(o._node.volume=o._volume*t)}return e}return e._volume},mute:function(t){var e=this||c;e.ctx||_(),e._muted=t,e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t?0:e._volume,c.ctx.currentTime);for(var i=0;i<e._howls.length;i++)if(!e._howls[i]._webAudio)for(var n=e._howls[i]._getSoundIds(),r=0;r<n.length;r++){var o=e._howls[i]._soundById(n[r]);o&&o._node&&(o._node.muted=!!t||o._muted)}return e},stop:function(){for(var t=this||c,i=0;i<t._howls.length;i++)t._howls[i].stop();return t},unload:function(){for(var t=this||c,i=t._howls.length-1;i>=0;i--)t._howls[i].unload();return t.usingWebAudio&&t.ctx&&void 0!==t.ctx.close&&(t.ctx.close(),t.ctx=null,_()),t},codecs:function(t){return(this||c)._codecs[t.replace(/^x-/,"")]},_setup:function(){var t=this||c;if(t.state=t.ctx&&t.ctx.state||"suspended",t._autoSuspend(),!t.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(t._canPlayEvent="canplay")}catch(e){t.noAudio=!0}else t.noAudio=!0;try{(new Audio).muted&&(t.noAudio=!0)}catch(t){}return t.noAudio||t._setupCodecs(),t},_setupCodecs:function(){var t=this||c,e=null;try{e="undefined"!=typeof Audio?new Audio:null}catch(e){return t}if(!e||"function"!=typeof e.canPlayType)return t;var n=e.canPlayType("audio/mpeg;").replace(/^no$/,""),r=t._navigator&&t._navigator.userAgent.match(/OPR\/([0-6].)/g),o=r&&parseInt(r[0].split("/")[1],10)<33;return t._codecs={mp3:!(o||!n&&!e.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!e.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(e.canPlayType('audio/wav; codecs="1"')||e.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!e.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!e.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(e.canPlayType("audio/x-m4b;")||e.canPlayType("audio/m4b;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(e.canPlayType("audio/x-mp4;")||e.canPlayType("audio/mp4;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!e.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(e.canPlayType("audio/x-flac;")||e.canPlayType("audio/flac;")).replace(/^no$/,"")},t},_unlockAudio:function(){var t=this||c;if(!t._audioUnlocked&&t.ctx){t._audioUnlocked=!1,t.autoUnlock=!1,t._mobileUnloaded||44100===t.ctx.sampleRate||(t._mobileUnloaded=!0,t.unload()),t._scratchBuffer=t.ctx.createBuffer(1,1,22050);var e=function(n){for(;t._html5AudioPool.length<t.html5PoolSize;)try{var r=new Audio;r._unlocked=!0,t._releaseHtml5Audio(r)}catch(n){t.noAudio=!0;break}for(var i=0;i<t._howls.length;i++)if(!t._howls[i]._webAudio)for(var o=t._howls[i]._getSoundIds(),c=0;c<o.length;c++){var l=t._howls[i]._soundById(o[c]);l&&l._node&&!l._node._unlocked&&(l._node._unlocked=!0,l._node.load())}t._autoResume();var source=t.ctx.createBufferSource();source.buffer=t._scratchBuffer,source.connect(t.ctx.destination),void 0===source.start?source.noteOn(0):source.start(0),"function"==typeof t.ctx.resume&&t.ctx.resume(),source.onended=function(){source.disconnect(0),t._audioUnlocked=!0,document.removeEventListener("touchstart",e,!0),document.removeEventListener("touchend",e,!0),document.removeEventListener("click",e,!0);for(var i=0;i<t._howls.length;i++)t._howls[i]._emit("unlock")}};return document.addEventListener("touchstart",e,!0),document.addEventListener("touchend",e,!0),document.addEventListener("click",e,!0),t}},_obtainHtml5Audio:function(){var t=this||c;if(t._html5AudioPool.length)return t._html5AudioPool.pop();var e=(new Audio).play();return e&&"undefined"!=typeof Promise&&(e instanceof Promise||"function"==typeof e.then)&&e.catch((function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")})),new Audio},_releaseHtml5Audio:function(audio){var t=this||c;return audio._unlocked&&t._html5AudioPool.push(audio),t},_autoSuspend:function(){var t=this;if(t.autoSuspend&&t.ctx&&void 0!==t.ctx.suspend&&c.usingWebAudio){for(var i=0;i<t._howls.length;i++)if(t._howls[i]._webAudio)for(var e=0;e<t._howls[i]._sounds.length;e++)if(!t._howls[i]._sounds[e]._paused)return t;return t._suspendTimer&&clearTimeout(t._suspendTimer),t._suspendTimer=setTimeout((function(){if(t.autoSuspend){t._suspendTimer=null,t.state="suspending";var e=function(){t.state="suspended",t._resumeAfterSuspend&&(delete t._resumeAfterSuspend,t._autoResume())};t.ctx.suspend().then(e,e)}}),3e4),t}},_autoResume:function(){var t=this;if(t.ctx&&void 0!==t.ctx.resume&&c.usingWebAudio)return"running"===t.state&&"interrupted"!==t.ctx.state&&t._suspendTimer?(clearTimeout(t._suspendTimer),t._suspendTimer=null):"suspended"===t.state||"running"===t.state&&"interrupted"===t.ctx.state?(t.ctx.resume().then((function(){t.state="running";for(var i=0;i<t._howls.length;i++)t._howls[i]._emit("resume")})),t._suspendTimer&&(clearTimeout(t._suspendTimer),t._suspendTimer=null)):"suspending"===t.state&&(t._resumeAfterSuspend=!0),t}};var c=new o,l=function(t){t.src&&0!==t.src.length?this.init(t):console.error("An array of source files must be passed with any new Howl.")};l.prototype={init:function(t){var e=this;return c.ctx||_(),e._autoplay=t.autoplay||!1,e._format="string"!=typeof t.format?t.format:[t.format],e._html5=t.html5||!1,e._muted=t.mute||!1,e._loop=t.loop||!1,e._pool=t.pool||5,e._preload="boolean"!=typeof t.preload&&"metadata"!==t.preload||t.preload,e._rate=t.rate||1,e._sprite=t.sprite||{},e._src="string"!=typeof t.src?t.src:[t.src],e._volume=void 0!==t.volume?t.volume:1,e._xhr={method:t.xhr&&t.xhr.method?t.xhr.method:"GET",headers:t.xhr&&t.xhr.headers?t.xhr.headers:null,withCredentials:!(!t.xhr||!t.xhr.withCredentials)&&t.xhr.withCredentials},e._duration=0,e._state="unloaded",e._sounds=[],e._endTimers={},e._queue=[],e._playLock=!1,e._onend=t.onend?[{fn:t.onend}]:[],e._onfade=t.onfade?[{fn:t.onfade}]:[],e._onload=t.onload?[{fn:t.onload}]:[],e._onloaderror=t.onloaderror?[{fn:t.onloaderror}]:[],e._onplayerror=t.onplayerror?[{fn:t.onplayerror}]:[],e._onpause=t.onpause?[{fn:t.onpause}]:[],e._onplay=t.onplay?[{fn:t.onplay}]:[],e._onstop=t.onstop?[{fn:t.onstop}]:[],e._onmute=t.onmute?[{fn:t.onmute}]:[],e._onvolume=t.onvolume?[{fn:t.onvolume}]:[],e._onrate=t.onrate?[{fn:t.onrate}]:[],e._onseek=t.onseek?[{fn:t.onseek}]:[],e._onunlock=t.onunlock?[{fn:t.onunlock}]:[],e._onresume=[],e._webAudio=c.usingWebAudio&&!e._html5,void 0!==c.ctx&&c.ctx&&c.autoUnlock&&c._unlockAudio(),c._howls.push(e),e._autoplay&&e._queue.push({event:"play",action:function(){e.play()}}),e._preload&&"none"!==e._preload&&e.load(),e},load:function(){var t=null;if(c.noAudio)this._emit("loaderror",null,"No audio support.");else{"string"==typeof this._src&&(this._src=[this._src]);for(var i=0;i<this._src.length;i++){var e,n;if(this._format&&this._format[i])e=this._format[i];else{if("string"!=typeof(n=this._src[i])){this._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(e=/^data:audio\/([^;,]+);/i.exec(n))||(e=/\.([^.]+)$/.exec(n.split("?",1)[0])),e&&(e=e[1].toLowerCase())}if(e||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),e&&c.codecs(e)){t=this._src[i];break}}if(t)return this._src=t,this._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(this._html5=!0,this._webAudio=!1),new h(this),this._webAudio&&f(this),this;this._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(t,e){var n=this,r=null;if("number"==typeof t)r=t,t=null;else{if("string"==typeof t&&"loaded"===n._state&&!n._sprite[t])return null;if(void 0===t&&(t="__default",!n._playLock)){for(var o=0,i=0;i<n._sounds.length;i++)n._sounds[i]._paused&&!n._sounds[i]._ended&&(o++,r=n._sounds[i]._id);1===o?t=null:r=null}}var l=r?n._soundById(r):n._inactiveSound();if(!l)return null;if(r&&!t&&(t=l._sprite||"__default"),"loaded"!==n._state){l._sprite=t,l._ended=!1;var h=l._id;return n._queue.push({event:"play",action:function(){n.play(h)}}),h}if(r&&!l._paused)return e||n._loadQueue("play"),l._id;n._webAudio&&c._autoResume();var d=Math.max(0,l._seek>0?l._seek:n._sprite[t][0]/1e3),f=Math.max(0,(n._sprite[t][0]+n._sprite[t][1])/1e3-d),m=1e3*f/Math.abs(l._rate),v=n._sprite[t][0]/1e3,y=(n._sprite[t][0]+n._sprite[t][1])/1e3;l._sprite=t,l._ended=!1;var _=function(){l._paused=!1,l._seek=d,l._start=v,l._stop=y,l._loop=!(!l._loop&&!n._sprite[t][2])};if(!(d>=y)){var x=l._node;if(n._webAudio){var w=function(){n._playLock=!1,_(),n._refreshBuffer(l);var t=l._muted||n._muted?0:l._volume;x.gain.setValueAtTime(t,c.ctx.currentTime),l._playStart=c.ctx.currentTime,void 0===x.bufferSource.start?l._loop?x.bufferSource.noteGrainOn(0,d,86400):x.bufferSource.noteGrainOn(0,d,f):l._loop?x.bufferSource.start(0,d,86400):x.bufferSource.start(0,d,f),m!==1/0&&(n._endTimers[l._id]=setTimeout(n._ended.bind(n,l),m)),e||setTimeout((function(){n._emit("play",l._id),n._loadQueue()}),0)};"running"===c.state&&"interrupted"!==c.ctx.state?w():(n._playLock=!0,n.once("resume",w),n._clearTimer(l._id))}else{var E=function(){x.currentTime=d,x.muted=l._muted||n._muted||c._muted||x.muted,x.volume=l._volume*c.volume(),x.playbackRate=l._rate;try{var r=x.play();if(r&&"undefined"!=typeof Promise&&(r instanceof Promise||"function"==typeof r.then)?(n._playLock=!0,_(),r.then((function(){n._playLock=!1,x._unlocked=!0,e||(n._emit("play",l._id),n._loadQueue())})).catch((function(){n._playLock=!1,n._emit("playerror",l._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),l._ended=!0,l._paused=!0}))):e||(n._playLock=!1,_(),n._emit("play",l._id),n._loadQueue()),x.playbackRate=l._rate,x.paused)return void n._emit("playerror",l._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==t||l._loop?n._endTimers[l._id]=setTimeout(n._ended.bind(n,l),m):(n._endTimers[l._id]=function(){n._ended(l),x.removeEventListener("ended",n._endTimers[l._id],!1)},x.addEventListener("ended",n._endTimers[l._id],!1))}catch(t){n._emit("playerror",l._id,t)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===x.src&&(x.src=n._src,x.load());var M=window&&window.ejecta||!x.readyState&&c._navigator.isCocoonJS;if(x.readyState>=3||M)E();else{n._playLock=!0;var S=function(){E(),x.removeEventListener(c._canPlayEvent,S,!1)};x.addEventListener(c._canPlayEvent,S,!1),n._clearTimer(l._id)}}return l._id}n._ended(l)},pause:function(t){var e=this;if("loaded"!==e._state||e._playLock)return e._queue.push({event:"pause",action:function(){e.pause(t)}}),e;for(var n=e._getSoundIds(t),i=0;i<n.length;i++){e._clearTimer(n[i]);var r=e._soundById(n[i]);if(r&&!r._paused&&(r._seek=e.seek(n[i]),r._rateSeek=0,r._paused=!0,e._stopFade(n[i]),r._node))if(e._webAudio){if(!r._node.bufferSource)continue;void 0===r._node.bufferSource.stop?r._node.bufferSource.noteOff(0):r._node.bufferSource.stop(0),e._cleanBuffer(r._node)}else isNaN(r._node.duration)&&r._node.duration!==1/0||r._node.pause();arguments[1]||e._emit("pause",r?r._id:null)}return e},stop:function(t,e){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(t)}}),n;for(var r=n._getSoundIds(t),i=0;i<r.length;i++){n._clearTimer(r[i]);var o=n._soundById(r[i]);o&&(o._seek=o._start||0,o._rateSeek=0,o._paused=!0,o._ended=!0,n._stopFade(r[i]),o._node&&(n._webAudio?o._node.bufferSource&&(void 0===o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),n._cleanBuffer(o._node)):isNaN(o._node.duration)&&o._node.duration!==1/0||(o._node.currentTime=o._start||0,o._node.pause(),o._node.duration===1/0&&n._clearSound(o._node))),e||n._emit("stop",o._id))}return n},mute:function(t,e){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(t,e)}}),n;if(void 0===e){if("boolean"!=typeof t)return n._muted;n._muted=t}for(var r=n._getSoundIds(e),i=0;i<r.length;i++){var o=n._soundById(r[i]);o&&(o._muted=t,o._interval&&n._stopFade(o._id),n._webAudio&&o._node?o._node.gain.setValueAtTime(t?0:o._volume,c.ctx.currentTime):o._node&&(o._node.muted=!!c._muted||t),n._emit("mute",o._id))}return n},volume:function(){var t,e,n,r=this,o=arguments;if(0===o.length)return r._volume;if(1===o.length||2===o.length&&void 0===o[1]){var l=r._getSoundIds(),h=l.indexOf(o[0]);h>=0?e=parseInt(o[0],10):t=parseFloat(o[0])}else o.length>=2&&(t=parseFloat(o[0]),e=parseInt(o[1],10));if(!(void 0!==t&&t>=0&&t<=1))return(n=e?r._soundById(e):r._sounds[0])?n._volume:0;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,o)}}),r;void 0===e&&(r._volume=t),e=r._getSoundIds(e);for(var i=0;i<e.length;i++)(n=r._soundById(e[i]))&&(n._volume=t,o[2]||r._stopFade(e[i]),r._webAudio&&n._node&&!n._muted?n._node.gain.setValueAtTime(t,c.ctx.currentTime):n._node&&!n._muted&&(n._node.volume=t*c.volume()),r._emit("volume",n._id));return r},fade:function(t,e,n,r){var o=this;if("loaded"!==o._state||o._playLock)return o._queue.push({event:"fade",action:function(){o.fade(t,e,n,r)}}),o;t=Math.min(Math.max(0,parseFloat(t)),1),e=Math.min(Math.max(0,parseFloat(e)),1),n=parseFloat(n),o.volume(t,r);for(var l=o._getSoundIds(r),i=0;i<l.length;i++){var h=o._soundById(l[i]);if(h){if(r||o._stopFade(l[i]),o._webAudio&&!h._muted){var d=c.ctx.currentTime,f=d+n/1e3;h._volume=t,h._node.gain.setValueAtTime(t,d),h._node.gain.linearRampToValueAtTime(e,f)}o._startFadeInterval(h,t,e,n,l[i],void 0===r)}}return o},_startFadeInterval:function(t,e,n,r,o,c){var l=this,h=e,d=n-e,f=Math.abs(d/.01),m=Math.max(4,f>0?r/f:r),v=Date.now();t._fadeTo=n,t._interval=setInterval((function(){var o=(Date.now()-v)/r;v=Date.now(),h+=d*o,h=Math.round(100*h)/100,h=d<0?Math.max(n,h):Math.min(n,h),l._webAudio?t._volume=h:l.volume(h,t._id,!0),c&&(l._volume=h),(n<e&&h<=n||n>e&&h>=n)&&(clearInterval(t._interval),t._interval=null,t._fadeTo=null,l.volume(n,t._id),l._emit("fade",t._id))}),m)},_stopFade:function(t){var e=this._soundById(t);return e&&e._interval&&(this._webAudio&&e._node.gain.cancelScheduledValues(c.ctx.currentTime),clearInterval(e._interval),e._interval=null,this.volume(e._fadeTo,t),e._fadeTo=null,this._emit("fade",t)),this},loop:function(){var t,e,n,r=this,o=arguments;if(0===o.length)return r._loop;if(1===o.length){if("boolean"!=typeof o[0])return!!(n=r._soundById(parseInt(o[0],10)))&&n._loop;t=o[0],r._loop=t}else 2===o.length&&(t=o[0],e=parseInt(o[1],10));for(var c=r._getSoundIds(e),i=0;i<c.length;i++)(n=r._soundById(c[i]))&&(n._loop=t,r._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=t,t&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop)));return r},rate:function(){var t,e,n,r=this,o=arguments;if(0===o.length)e=r._sounds[0]._id;else if(1===o.length){var l=r._getSoundIds(),h=l.indexOf(o[0]);h>=0?e=parseInt(o[0],10):t=parseFloat(o[0])}else 2===o.length&&(t=parseFloat(o[0]),e=parseInt(o[1],10));if("number"!=typeof t)return(n=r._soundById(e))?n._rate:r._rate;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"rate",action:function(){r.rate.apply(r,o)}}),r;void 0===e&&(r._rate=t),e=r._getSoundIds(e);for(var i=0;i<e.length;i++)if(n=r._soundById(e[i])){r.playing(e[i])&&(n._rateSeek=r.seek(e[i]),n._playStart=r._webAudio?c.ctx.currentTime:n._playStart),n._rate=t,r._webAudio&&n._node&&n._node.bufferSource?n._node.bufferSource.playbackRate.setValueAtTime(t,c.ctx.currentTime):n._node&&(n._node.playbackRate=t);var d=r.seek(e[i]),f=(r._sprite[n._sprite][0]+r._sprite[n._sprite][1])/1e3-d,m=1e3*f/Math.abs(n._rate);!r._endTimers[e[i]]&&n._paused||(r._clearTimer(e[i]),r._endTimers[e[i]]=setTimeout(r._ended.bind(r,n),m)),r._emit("rate",n._id)}return r},seek:function(){var t,e,n=this,r=arguments;if(0===r.length)e=n._sounds[0]._id;else if(1===r.length){var o=n._getSoundIds(),l=o.indexOf(r[0]);l>=0?e=parseInt(r[0],10):n._sounds.length&&(e=n._sounds[0]._id,t=parseFloat(r[0]))}else 2===r.length&&(t=parseFloat(r[0]),e=parseInt(r[1],10));if(void 0===e)return n;if("number"==typeof t&&("loaded"!==n._state||n._playLock))return n._queue.push({event:"seek",action:function(){n.seek.apply(n,r)}}),n;var h=n._soundById(e);if(h){if(!("number"==typeof t&&t>=0)){if(n._webAudio){var d=n.playing(e)?c.ctx.currentTime-h._playStart:0,f=h._rateSeek?h._rateSeek-h._seek:0;return h._seek+(f+d*Math.abs(h._rate))}return h._node.currentTime}var m=n.playing(e);m&&n.pause(e,!0),h._seek=t,h._ended=!1,n._clearTimer(e),n._webAudio||!h._node||isNaN(h._node.duration)||(h._node.currentTime=t);var v=function(){n._emit("seek",e),m&&n.play(e,!0)};if(m&&!n._webAudio){var y=function(){n._playLock?setTimeout(y,0):v()};setTimeout(y,0)}else v()}return n},playing:function(t){if("number"==typeof t){var e=this._soundById(t);return!!e&&!e._paused}for(var i=0;i<this._sounds.length;i++)if(!this._sounds[i]._paused)return!0;return!1},duration:function(t){var e=this._duration,n=this._soundById(t);return n&&(e=this._sprite[n._sprite][1]/1e3),e},state:function(){return this._state},unload:function(){for(var t=this,e=t._sounds,i=0;i<e.length;i++)e[i]._paused||t.stop(e[i]._id),t._webAudio||(t._clearSound(e[i]._node),e[i]._node.removeEventListener("error",e[i]._errorFn,!1),e[i]._node.removeEventListener(c._canPlayEvent,e[i]._loadFn,!1),e[i]._node.removeEventListener("ended",e[i]._endFn,!1),c._releaseHtml5Audio(e[i]._node)),delete e[i]._node,t._clearTimer(e[i]._id);var n=c._howls.indexOf(t);n>=0&&c._howls.splice(n,1);var r=!0;for(i=0;i<c._howls.length;i++)if(c._howls[i]._src===t._src||t._src.indexOf(c._howls[i]._src)>=0){r=!1;break}return d&&r&&delete d[t._src],c.noAudio=!1,t._state="unloaded",t._sounds=[],t=null,null},on:function(t,e,n,r){var o=this["_on"+t];return"function"==typeof e&&o.push(r?{id:n,fn:e,once:r}:{id:n,fn:e}),this},off:function(t,e,n){var r=this["_on"+t],i=0;if("number"==typeof e&&(n=e,e=null),e||n)for(i=0;i<r.length;i++){var o=n===r[i].id;if(e===r[i].fn&&o||!e&&o){r.splice(i,1);break}}else if(t)this["_on"+t]=[];else{var c=Object.keys(this);for(i=0;i<c.length;i++)0===c[i].indexOf("_on")&&Array.isArray(this[c[i]])&&(this[c[i]]=[])}return this},once:function(t,e,n){return this.on(t,e,n,1),this},_emit:function(t,e,n){for(var r=this["_on"+t],i=r.length-1;i>=0;i--)r[i].id&&r[i].id!==e&&"load"!==t||(setTimeout(function(t){t.call(this,e,n)}.bind(this,r[i].fn),0),r[i].once&&this.off(t,r[i].fn,r[i].id));return this._loadQueue(t),this},_loadQueue:function(t){if(this._queue.length>0){var e=this._queue[0];e.event===t&&(this._queue.shift(),this._loadQueue()),t||e.action()}return this},_ended:function(t){var e=t._sprite;if(!this._webAudio&&t._node&&!t._node.paused&&!t._node.ended&&t._node.currentTime<t._stop)return setTimeout(this._ended.bind(this,t),100),this;var n=!(!t._loop&&!this._sprite[e][2]);if(this._emit("end",t._id),!this._webAudio&&n&&this.stop(t._id,!0).play(t._id),this._webAudio&&n){this._emit("play",t._id),t._seek=t._start||0,t._rateSeek=0,t._playStart=c.ctx.currentTime;var r=1e3*(t._stop-t._start)/Math.abs(t._rate);this._endTimers[t._id]=setTimeout(this._ended.bind(this,t),r)}return this._webAudio&&!n&&(t._paused=!0,t._ended=!0,t._seek=t._start||0,t._rateSeek=0,this._clearTimer(t._id),this._cleanBuffer(t._node),c._autoSuspend()),this._webAudio||n||this.stop(t._id,!0),this},_clearTimer:function(t){if(this._endTimers[t]){if("function"!=typeof this._endTimers[t])clearTimeout(this._endTimers[t]);else{var e=this._soundById(t);e&&e._node&&e._node.removeEventListener("ended",this._endTimers[t],!1)}delete this._endTimers[t]}return this},_soundById:function(t){for(var i=0;i<this._sounds.length;i++)if(t===this._sounds[i]._id)return this._sounds[i];return null},_inactiveSound:function(){this._drain();for(var i=0;i<this._sounds.length;i++)if(this._sounds[i]._ended)return this._sounds[i].reset();return new h(this)},_drain:function(){var t=this._pool,e=0,i=0;if(!(this._sounds.length<t)){for(i=0;i<this._sounds.length;i++)this._sounds[i]._ended&&e++;for(i=this._sounds.length-1;i>=0;i--){if(e<=t)return;this._sounds[i]._ended&&(this._webAudio&&this._sounds[i]._node&&this._sounds[i]._node.disconnect(0),this._sounds.splice(i,1),e--)}}},_getSoundIds:function(t){if(void 0===t){for(var e=[],i=0;i<this._sounds.length;i++)e.push(this._sounds[i]._id);return e}return[t]},_refreshBuffer:function(t){return t._node.bufferSource=c.ctx.createBufferSource(),t._node.bufferSource.buffer=d[this._src],t._panner?t._node.bufferSource.connect(t._panner):t._node.bufferSource.connect(t._node),t._node.bufferSource.loop=t._loop,t._loop&&(t._node.bufferSource.loopStart=t._start||0,t._node.bufferSource.loopEnd=t._stop||0),t._node.bufferSource.playbackRate.setValueAtTime(t._rate,c.ctx.currentTime),this},_cleanBuffer:function(t){var e=c._navigator&&c._navigator.vendor.indexOf("Apple")>=0;if(c._scratchBuffer&&t.bufferSource&&(t.bufferSource.onended=null,t.bufferSource.disconnect(0),e))try{t.bufferSource.buffer=c._scratchBuffer}catch(t){}return t.bufferSource=null,this},_clearSound:function(t){/MSIE |Trident\//.test(c._navigator&&c._navigator.userAgent)||(t.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var h=function(t){this._parent=t,this.init()};h.prototype={init:function(){var t=this._parent;return this._muted=t._muted,this._loop=t._loop,this._volume=t._volume,this._rate=t._rate,this._seek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++c._counter,t._sounds.push(this),this.create(),this},create:function(){var t=this._parent,e=c._muted||this._muted||this._parent._muted?0:this._volume;return t._webAudio?(this._node=void 0===c.ctx.createGain?c.ctx.createGainNode():c.ctx.createGain(),this._node.gain.setValueAtTime(e,c.ctx.currentTime),this._node.paused=!0,this._node.connect(c.masterGain)):c.noAudio||(this._node=c._obtainHtml5Audio(),this._errorFn=this._errorListener.bind(this),this._node.addEventListener("error",this._errorFn,!1),this._loadFn=this._loadListener.bind(this),this._node.addEventListener(c._canPlayEvent,this._loadFn,!1),this._endFn=this._endListener.bind(this),this._node.addEventListener("ended",this._endFn,!1),this._node.src=t._src,this._node.preload=!0===t._preload?"auto":t._preload,this._node.volume=e*c.volume(),this._node.load()),this},reset:function(){var t=this._parent;return this._muted=t._muted,this._loop=t._loop,this._volume=t._volume,this._rate=t._rate,this._seek=0,this._rateSeek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++c._counter,this},_errorListener:function(){this._parent._emit("loaderror",this._id,this._node.error?this._node.error.code:0),this._node.removeEventListener("error",this._errorFn,!1)},_loadListener:function(){var t=this._parent;t._duration=Math.ceil(10*this._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),this._node.removeEventListener(c._canPlayEvent,this._loadFn,!1)},_endListener:function(){var t=this._parent;t._duration===1/0&&(t._duration=Math.ceil(10*this._node.duration)/10,t._sprite.__default[1]===1/0&&(t._sprite.__default[1]=1e3*t._duration),t._ended(this)),this._node.removeEventListener("ended",this._endFn,!1)}};var d={},f=function(t){var e=t._src;if(d[e])return t._duration=d[e].duration,void y(t);if(/^data:[^;]+;base64,/.test(e)){for(var data=atob(e.split(",")[1]),n=new Uint8Array(data.length),i=0;i<data.length;++i)n[i]=data.charCodeAt(i);v(n.buffer,t)}else{var r=new XMLHttpRequest;r.open(t._xhr.method,e,!0),r.withCredentials=t._xhr.withCredentials,r.responseType="arraybuffer",t._xhr.headers&&Object.keys(t._xhr.headers).forEach((function(e){r.setRequestHeader(e,t._xhr.headers[e])})),r.onload=function(){var code=(r.status+"")[0];"0"===code||"2"===code||"3"===code?v(r.response,t):t._emit("loaderror",null,"Failed loading audio file with status: "+r.status+".")},r.onerror=function(){t._webAudio&&(t._html5=!0,t._webAudio=!1,t._sounds=[],delete d[e],t.load())},m(r)}},m=function(t){try{t.send()}catch(e){t.onerror()}},v=function(t,e){var n=function(){e._emit("loaderror",null,"Decoding audio data failed.")},r=function(t){t&&e._sounds.length>0?(d[e._src]=t,y(e,t)):n()};"undefined"!=typeof Promise&&1===c.ctx.decodeAudioData.length?c.ctx.decodeAudioData(t).then(r).catch(n):c.ctx.decodeAudioData(t,r,n)},y=function(t,e){e&&!t._duration&&(t._duration=e.duration),0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue())},_=function(){if(c.usingWebAudio){try{"undefined"!=typeof AudioContext?c.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?c.ctx=new webkitAudioContext:c.usingWebAudio=!1}catch(t){c.usingWebAudio=!1}c.ctx||(c.usingWebAudio=!1);var t=/iP(hone|od|ad)/.test(c._navigator&&c._navigator.platform),e=c._navigator&&c._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=e?parseInt(e[1],10):null;if(t&&n&&n<9){var r=/safari/.test(c._navigator&&c._navigator.userAgent.toLowerCase());c._navigator&&!r&&(c.usingWebAudio=!1)}c.usingWebAudio&&(c.masterGain=void 0===c.ctx.createGain?c.ctx.createGainNode():c.ctx.createGain(),c.masterGain.gain.setValueAtTime(c._muted?0:c._volume,c.ctx.currentTime),c.masterGain.connect(c.ctx.destination)),c._setup()}};void 0===(r=function(){return{Howler:c,Howl:l}}.apply(e,[]))||(t.exports=r),e.Howler=c,e.Howl=l,void 0!==n?(n.HowlerGlobal=o,n.Howler=c,n.Howl=l,n.Sound=h):"undefined"!=typeof window&&(window.HowlerGlobal=o,window.Howler=c,window.Howl=l,window.Sound=h)}(),function(){"use strict";var t;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){if(!this.ctx||!this.ctx.listener)return this;for(var i=this._howls.length-1;i>=0;i--)this._howls[i].stereo(t);return this},HowlerGlobal.prototype.pos=function(t,e,n){return this.ctx&&this.ctx.listener?(e="number"!=typeof e?this._pos[1]:e,n="number"!=typeof n?this._pos[2]:n,"number"!=typeof t?this._pos:(this._pos=[t,e,n],void 0!==this.ctx.listener.positionX?(this.ctx.listener.positionX.setTargetAtTime(this._pos[0],Howler.ctx.currentTime,.1),this.ctx.listener.positionY.setTargetAtTime(this._pos[1],Howler.ctx.currentTime,.1),this.ctx.listener.positionZ.setTargetAtTime(this._pos[2],Howler.ctx.currentTime,.1)):this.ctx.listener.setPosition(this._pos[0],this._pos[1],this._pos[2]),this)):this},HowlerGlobal.prototype.orientation=function(t,e,n,r,o,c){if(!this.ctx||!this.ctx.listener)return this;var l=this._orientation;return e="number"!=typeof e?l[1]:e,n="number"!=typeof n?l[2]:n,r="number"!=typeof r?l[3]:r,o="number"!=typeof o?l[4]:o,c="number"!=typeof c?l[5]:c,"number"!=typeof t?l:(this._orientation=[t,e,n,r,o,c],void 0!==this.ctx.listener.forwardX?(this.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),this.ctx.listener.forwardY.setTargetAtTime(e,Howler.ctx.currentTime,.1),this.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),this.ctx.listener.upX.setTargetAtTime(r,Howler.ctx.currentTime,.1),this.ctx.listener.upY.setTargetAtTime(o,Howler.ctx.currentTime,.1),this.ctx.listener.upZ.setTargetAtTime(c,Howler.ctx.currentTime,.1)):this.ctx.listener.setOrientation(t,e,n,r,o,c),this)},Howl.prototype.init=(t=Howl.prototype.init,function(e){return this._orientation=e.orientation||[1,0,0],this._stereo=e.stereo||null,this._pos=e.pos||null,this._pannerAttr={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:360,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:360,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:0,distanceModel:void 0!==e.distanceModel?e.distanceModel:"inverse",maxDistance:void 0!==e.maxDistance?e.maxDistance:1e4,panningModel:void 0!==e.panningModel?e.panningModel:"HRTF",refDistance:void 0!==e.refDistance?e.refDistance:1,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:1},this._onstereo=e.onstereo?[{fn:e.onstereo}]:[],this._onpos=e.onpos?[{fn:e.onpos}]:[],this._onorientation=e.onorientation?[{fn:e.onorientation}]:[],t.call(this,e)}),Howl.prototype.stereo=function(t,n){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"stereo",action:function(){r.stereo(t,n)}}),r;var o=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===n){if("number"!=typeof t)return r._stereo;r._stereo=t,r._pos=[t,0,0]}for(var c=r._getSoundIds(n),i=0;i<c.length;i++){var l=r._soundById(c[i]);if(l){if("number"!=typeof t)return l._stereo;l._stereo=t,l._pos=[t,0,0],l._node&&(l._pannerAttr.panningModel="equalpower",l._panner&&l._panner.pan||e(l,o),"spatial"===o?void 0!==l._panner.positionX?(l._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):l._panner.setPosition(t,0,0):l._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),r._emit("stereo",l._id)}}return r},Howl.prototype.pos=function(t,n,r,o){var c=this;if(!c._webAudio)return c;if("loaded"!==c._state)return c._queue.push({event:"pos",action:function(){c.pos(t,n,r,o)}}),c;if(n="number"!=typeof n?0:n,r="number"!=typeof r?-.5:r,void 0===o){if("number"!=typeof t)return c._pos;c._pos=[t,n,r]}for(var l=c._getSoundIds(o),i=0;i<l.length;i++){var h=c._soundById(l[i]);if(h){if("number"!=typeof t)return h._pos;h._pos=[t,n,r],h._node&&(h._panner&&!h._panner.pan||e(h,"spatial"),void 0!==h._panner.positionX?(h._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),h._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),h._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):h._panner.setPosition(t,n,r)),c._emit("pos",h._id)}}return c},Howl.prototype.orientation=function(t,n,r,o){var c=this;if(!c._webAudio)return c;if("loaded"!==c._state)return c._queue.push({event:"orientation",action:function(){c.orientation(t,n,r,o)}}),c;if(n="number"!=typeof n?c._orientation[1]:n,r="number"!=typeof r?c._orientation[2]:r,void 0===o){if("number"!=typeof t)return c._orientation;c._orientation=[t,n,r]}for(var l=c._getSoundIds(o),i=0;i<l.length;i++){var h=c._soundById(l[i]);if(h){if("number"!=typeof t)return h._orientation;h._orientation=[t,n,r],h._node&&(h._panner||(h._pos||(h._pos=c._pos||[0,0,-.5]),e(h,"spatial")),void 0!==h._panner.orientationX?(h._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),h._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),h._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)):h._panner.setOrientation(t,n,r)),c._emit("orientation",h._id)}}return c},Howl.prototype.pannerAttr=function(){var t,n,r,o=this,c=arguments;if(!o._webAudio)return o;if(0===c.length)return o._pannerAttr;if(1===c.length){if("object"!=typeof c[0])return(r=o._soundById(parseInt(c[0],10)))?r._pannerAttr:o._pannerAttr;t=c[0],void 0===n&&(t.pannerAttr||(t.pannerAttr={coneInnerAngle:t.coneInnerAngle,coneOuterAngle:t.coneOuterAngle,coneOuterGain:t.coneOuterGain,distanceModel:t.distanceModel,maxDistance:t.maxDistance,refDistance:t.refDistance,rolloffFactor:t.rolloffFactor,panningModel:t.panningModel}),o._pannerAttr={coneInnerAngle:void 0!==t.pannerAttr.coneInnerAngle?t.pannerAttr.coneInnerAngle:o._coneInnerAngle,coneOuterAngle:void 0!==t.pannerAttr.coneOuterAngle?t.pannerAttr.coneOuterAngle:o._coneOuterAngle,coneOuterGain:void 0!==t.pannerAttr.coneOuterGain?t.pannerAttr.coneOuterGain:o._coneOuterGain,distanceModel:void 0!==t.pannerAttr.distanceModel?t.pannerAttr.distanceModel:o._distanceModel,maxDistance:void 0!==t.pannerAttr.maxDistance?t.pannerAttr.maxDistance:o._maxDistance,refDistance:void 0!==t.pannerAttr.refDistance?t.pannerAttr.refDistance:o._refDistance,rolloffFactor:void 0!==t.pannerAttr.rolloffFactor?t.pannerAttr.rolloffFactor:o._rolloffFactor,panningModel:void 0!==t.pannerAttr.panningModel?t.pannerAttr.panningModel:o._panningModel})}else 2===c.length&&(t=c[0],n=parseInt(c[1],10));for(var l=o._getSoundIds(n),i=0;i<l.length;i++)if(r=o._soundById(l[i])){var h=r._pannerAttr;h={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:h.coneInnerAngle,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:h.coneOuterAngle,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:h.coneOuterGain,distanceModel:void 0!==t.distanceModel?t.distanceModel:h.distanceModel,maxDistance:void 0!==t.maxDistance?t.maxDistance:h.maxDistance,refDistance:void 0!==t.refDistance?t.refDistance:h.refDistance,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:h.rolloffFactor,panningModel:void 0!==t.panningModel?t.panningModel:h.panningModel};var d=r._panner;d?(d.coneInnerAngle=h.coneInnerAngle,d.coneOuterAngle=h.coneOuterAngle,d.coneOuterGain=h.coneOuterGain,d.distanceModel=h.distanceModel,d.maxDistance=h.maxDistance,d.refDistance=h.refDistance,d.rolloffFactor=h.rolloffFactor,d.panningModel=h.panningModel):(r._pos||(r._pos=o._pos||[0,0,-.5]),e(r,"spatial"))}return o},Sound.prototype.init=function(t){return function(){var e=this._parent;this._orientation=e._orientation,this._stereo=e._stereo,this._pos=e._pos,this._pannerAttr=e._pannerAttr,t.call(this),this._stereo?e.stereo(this._stereo):this._pos&&e.pos(this._pos[0],this._pos[1],this._pos[2],this._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var e=this._parent;return this._orientation=e._orientation,this._stereo=e._stereo,this._pos=e._pos,this._pannerAttr=e._pannerAttr,this._stereo?e.stereo(this._stereo):this._pos?e.pos(this._pos[0],this._pos[1],this._pos[2],this._id):this._panner&&(this._panner.disconnect(0),this._panner=void 0,e._refreshBuffer(this)),t.call(this)}}(Sound.prototype.reset);var e=function(t,e){"spatial"===(e=e||"spatial")?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,void 0!==t._panner.positionX?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),void 0!==t._panner.orientationX?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}}()}).call(this,n(44))},452:function(t,e,n){"use strict";(function(e){var r=n(453),o=n(298),c=n(454),l="localStorage"in e&&e.localStorage?e.localStorage:r;function h(t,e){return 1===arguments.length?d(t):f(t,e)}function d(t){const e=l.getItem(t);return o(e)}function f(t,e){try{return l.setItem(t,JSON.stringify(e)),!0}catch(t){return!1}}h.set=f,h.get=d,h.remove=function(t){return l.removeItem(t)},h.clear=function(){return l.clear()},h.backend=function(t){return t&&(l=t),l},h.on=c.on,h.off=c.off,t.exports=h}).call(this,n(44))},453:function(t,e,n){"use strict";var r={};t.exports={getItem:function(t){return t in r?r[t]:null},setItem:function(t,e){return r[t]=e,!0},removeItem:function(t){return!!(t in r)&&delete r[t]},clear:function(){return r={},!0}}},454:function(t,e,n){"use strict";(function(e){var r=n(298),o={};function c(t){t||(t=e.event);var n=o[t.key];n&&n.forEach((function(e){e(r(t.newValue),r(t.oldValue),t.url||t.uri)}))}t.exports={on:function(t,n){o[t]?o[t].push(n):o[t]=[n],e.addEventListener?e.addEventListener("storage",c,!1):e.attachEvent?e.attachEvent("onstorage",c):e.onstorage=c},off:function(t,e){var n=o[t];n.length>1?n.splice(n.indexOf(e),1):o[t]=[]}}}).call(this,n(44))},46:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r,o,c,l=n(0);function h(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}Object.assign(h.prototype,{setSize:function(){},render:function(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}),h.FullScreenQuad=(r=new l.o(-1,1,1,-1,0,1),o=new l.q(2,2),c=function(t){this._mesh=new l.m(o,t)},Object.defineProperty(c.prototype,"material",{get:function(){return this._mesh.material},set:function(t){this._mesh.material=t}}),Object.assign(c.prototype,{dispose:function(){this._mesh.geometry.dispose()},render:function(t){t.render(this._mesh,r)}}),c)},47:function(t,e,n){"use strict";var r=n(375),o=n.n(r).a;e.a=o},485:function(t,e,n){"use strict";n.r(e),n.d(e,"OrbitControls",(function(){return o})),n.d(e,"MapControls",(function(){return c}));n(29),n(303),n(54);var r=n(0),o=function(object,t){var e,n,o,c,l,h;void 0===t&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=object,this.domElement=t,this.enabled=!0,this.target=new r.D,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:r.l.ROTATE,MIDDLE:r.l.DOLLY,RIGHT:r.l.PAN},this.touches={ONE:r.y.ROTATE,TWO:r.y.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return w.phi},this.getAzimuthalAngle=function(){return w.theta},this.saveState=function(){d.target0.copy(d.target),d.position0.copy(d.object.position),d.zoom0=d.object.zoom},this.reset=function(){d.target.copy(d.target0),d.object.position.copy(d.position0),d.object.zoom=d.zoom0,d.object.updateProjectionMatrix(),d.dispatchEvent(f),d.update(),_=y.NONE},this.update=(e=new r.D,n=(new r.r).setFromUnitVectors(object.up,new r.D(0,1,0)),o=n.clone().inverse(),c=new r.D,l=new r.r,h=2*Math.PI,function(){var t=d.object.position;e.copy(t).sub(d.target),e.applyQuaternion(n),w.setFromVector3(e),d.autoRotate&&_===y.NONE&&N(2*Math.PI/60/60*d.autoRotateSpeed),d.enableDamping?(w.theta+=E.theta*d.dampingFactor,w.phi+=E.phi*d.dampingFactor):(w.theta+=E.theta,w.phi+=E.phi);var r=d.minAzimuthAngle,m=d.maxAzimuthAngle;return isFinite(r)&&isFinite(m)&&(r<-Math.PI?r+=h:r>Math.PI&&(r-=h),m<-Math.PI?m+=h:m>Math.PI&&(m-=h),w.theta=r<m?Math.max(r,Math.min(m,w.theta)):w.theta>(r+m)/2?Math.max(r,w.theta):Math.min(m,w.theta)),w.phi=Math.max(d.minPolarAngle,Math.min(d.maxPolarAngle,w.phi)),w.makeSafe(),w.radius*=M,w.radius=Math.max(d.minDistance,Math.min(d.maxDistance,w.radius)),!0===d.enableDamping?d.target.addScaledVector(S,d.dampingFactor):d.target.add(S),e.setFromSpherical(w),e.applyQuaternion(o),t.copy(d.target).add(e),d.object.lookAt(d.target),!0===d.enableDamping?(E.theta*=1-d.dampingFactor,E.phi*=1-d.dampingFactor,S.multiplyScalar(1-d.dampingFactor)):(E.set(0,0,0),S.set(0,0,0)),M=1,!!(T||c.distanceToSquared(d.object.position)>x||8*(1-l.dot(d.object.quaternion))>x)&&(d.dispatchEvent(f),c.copy(d.object.position),l.copy(d.object.quaternion),T=!1,!0)}),this.dispose=function(){d.domElement.removeEventListener("contextmenu",ct,!1),d.domElement.removeEventListener("pointerdown",tt,!1),d.domElement.removeEventListener("wheel",it,!1),d.domElement.removeEventListener("touchstart",at,!1),d.domElement.removeEventListener("touchend",ut,!1),d.domElement.removeEventListener("touchmove",st,!1),d.domElement.ownerDocument.removeEventListener("pointermove",et,!1),d.domElement.ownerDocument.removeEventListener("pointerup",nt,!1),d.domElement.removeEventListener("keydown",ot,!1)};var d=this,f={type:"change"},m={type:"start"},v={type:"end"},y={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},_=y.NONE,x=1e-6,w=new r.x,E=new r.x,M=1,S=new r.D,T=!1,D=new r.C,O=new r.C,C=new r.C,A=new r.C,k=new r.C,P=new r.C,j=new r.C,L=new r.C,I=new r.C;function R(){return Math.pow(.95,d.zoomSpeed)}function N(t){E.theta-=t}function F(t){E.phi-=t}var B,U=(B=new r.D,function(t,e){B.setFromMatrixColumn(e,0),B.multiplyScalar(-t),S.add(B)}),V=function(){var t=new r.D;return function(e,n){!0===d.screenSpacePanning?t.setFromMatrixColumn(n,1):(t.setFromMatrixColumn(n,0),t.crossVectors(d.object.up,t)),t.multiplyScalar(e),S.add(t)}}(),z=function(){var t=new r.D;return function(e,n){var element=d.domElement;if(d.object.isPerspectiveCamera){var r=d.object.position;t.copy(r).sub(d.target);var o=t.length();o*=Math.tan(d.object.fov/2*Math.PI/180),U(2*e*o/element.clientHeight,d.object.matrix),V(2*n*o/element.clientHeight,d.object.matrix)}else d.object.isOrthographicCamera?(U(e*(d.object.right-d.object.left)/d.object.zoom/element.clientWidth,d.object.matrix),V(n*(d.object.top-d.object.bottom)/d.object.zoom/element.clientHeight,d.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),d.enablePan=!1)}}();function H(t){d.object.isPerspectiveCamera?M/=t:d.object.isOrthographicCamera?(d.object.zoom=Math.max(d.minZoom,Math.min(d.maxZoom,d.object.zoom*t)),d.object.updateProjectionMatrix(),T=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),d.enableZoom=!1)}function G(t){d.object.isPerspectiveCamera?M*=t:d.object.isOrthographicCamera?(d.object.zoom=Math.max(d.minZoom,Math.min(d.maxZoom,d.object.zoom/t)),d.object.updateProjectionMatrix(),T=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),d.enableZoom=!1)}function W(t){D.set(t.clientX,t.clientY)}function $(t){A.set(t.clientX,t.clientY)}function Q(t){if(1==t.touches.length)D.set(t.touches[0].pageX,t.touches[0].pageY);else{var e=.5*(t.touches[0].pageX+t.touches[1].pageX),n=.5*(t.touches[0].pageY+t.touches[1].pageY);D.set(e,n)}}function X(t){if(1==t.touches.length)A.set(t.touches[0].pageX,t.touches[0].pageY);else{var e=.5*(t.touches[0].pageX+t.touches[1].pageX),n=.5*(t.touches[0].pageY+t.touches[1].pageY);A.set(e,n)}}function Y(t){var e=t.touches[0].pageX-t.touches[1].pageX,n=t.touches[0].pageY-t.touches[1].pageY,r=Math.sqrt(e*e+n*n);j.set(0,r)}function K(t){if(1==t.touches.length)O.set(t.touches[0].pageX,t.touches[0].pageY);else{var e=.5*(t.touches[0].pageX+t.touches[1].pageX),n=.5*(t.touches[0].pageY+t.touches[1].pageY);O.set(e,n)}C.subVectors(O,D).multiplyScalar(d.rotateSpeed);var element=d.domElement;N(2*Math.PI*C.x/element.clientHeight),F(2*Math.PI*C.y/element.clientHeight),D.copy(O)}function J(t){if(1==t.touches.length)k.set(t.touches[0].pageX,t.touches[0].pageY);else{var e=.5*(t.touches[0].pageX+t.touches[1].pageX),n=.5*(t.touches[0].pageY+t.touches[1].pageY);k.set(e,n)}P.subVectors(k,A).multiplyScalar(d.panSpeed),z(P.x,P.y),A.copy(k)}function Z(t){var e=t.touches[0].pageX-t.touches[1].pageX,n=t.touches[0].pageY-t.touches[1].pageY,r=Math.sqrt(e*e+n*n);L.set(0,r),I.set(0,Math.pow(L.y/j.y,d.zoomSpeed)),H(I.y),j.copy(L)}function tt(t){if(!1!==d.enabled)switch(t.pointerType){case"mouse":case"pen":!function(t){var e;switch(t.preventDefault(),d.domElement.focus?d.domElement.focus():window.focus(),t.button){case 0:e=d.mouseButtons.LEFT;break;case 1:e=d.mouseButtons.MIDDLE;break;case 2:e=d.mouseButtons.RIGHT;break;default:e=-1}switch(e){case r.l.DOLLY:if(!1===d.enableZoom)return;!function(t){j.set(t.clientX,t.clientY)}(t),_=y.DOLLY;break;case r.l.ROTATE:if(t.ctrlKey||t.metaKey||t.shiftKey){if(!1===d.enablePan)return;$(t),_=y.PAN}else{if(!1===d.enableRotate)return;W(t),_=y.ROTATE}break;case r.l.PAN:if(t.ctrlKey||t.metaKey||t.shiftKey){if(!1===d.enableRotate)return;W(t),_=y.ROTATE}else{if(!1===d.enablePan)return;$(t),_=y.PAN}break;default:_=y.NONE}_!==y.NONE&&(d.domElement.ownerDocument.addEventListener("pointermove",et,!1),d.domElement.ownerDocument.addEventListener("pointerup",nt,!1),d.dispatchEvent(m))}(t)}}function et(t){if(!1!==d.enabled)switch(t.pointerType){case"mouse":case"pen":!function(t){if(!1===d.enabled)return;switch(t.preventDefault(),_){case y.ROTATE:if(!1===d.enableRotate)return;!function(t){O.set(t.clientX,t.clientY),C.subVectors(O,D).multiplyScalar(d.rotateSpeed);var element=d.domElement;N(2*Math.PI*C.x/element.clientHeight),F(2*Math.PI*C.y/element.clientHeight),D.copy(O),d.update()}(t);break;case y.DOLLY:if(!1===d.enableZoom)return;!function(t){L.set(t.clientX,t.clientY),I.subVectors(L,j),I.y>0?H(R()):I.y<0&&G(R()),j.copy(L),d.update()}(t);break;case y.PAN:if(!1===d.enablePan)return;!function(t){k.set(t.clientX,t.clientY),P.subVectors(k,A).multiplyScalar(d.panSpeed),z(P.x,P.y),A.copy(k),d.update()}(t)}}(t)}}function nt(t){if(!1!==d.enabled)switch(t.pointerType){case"mouse":case"pen":!function(t){if(!1===d.enabled)return;d.domElement.ownerDocument.removeEventListener("pointermove",et,!1),d.domElement.ownerDocument.removeEventListener("pointerup",nt,!1),d.dispatchEvent(v),_=y.NONE}()}}function it(t){!1===d.enabled||!1===d.enableZoom||_!==y.NONE&&_!==y.ROTATE||(t.preventDefault(),t.stopPropagation(),d.dispatchEvent(m),function(t){t.deltaY<0?G(R()):t.deltaY>0&&H(R()),d.update()}(t),d.dispatchEvent(v))}function ot(t){!1!==d.enabled&&!1!==d.enableKeys&&!1!==d.enablePan&&function(t){var e=!1;switch(t.keyCode){case d.keys.UP:z(0,d.keyPanSpeed),e=!0;break;case d.keys.BOTTOM:z(0,-d.keyPanSpeed),e=!0;break;case d.keys.LEFT:z(d.keyPanSpeed,0),e=!0;break;case d.keys.RIGHT:z(-d.keyPanSpeed,0),e=!0}e&&(t.preventDefault(),d.update())}(t)}function at(t){if(!1!==d.enabled){switch(t.preventDefault(),t.touches.length){case 1:switch(d.touches.ONE){case r.y.ROTATE:if(!1===d.enableRotate)return;Q(t),_=y.TOUCH_ROTATE;break;case r.y.PAN:if(!1===d.enablePan)return;X(t),_=y.TOUCH_PAN;break;default:_=y.NONE}break;case 2:switch(d.touches.TWO){case r.y.DOLLY_PAN:if(!1===d.enableZoom&&!1===d.enablePan)return;!function(t){d.enableZoom&&Y(t),d.enablePan&&X(t)}(t),_=y.TOUCH_DOLLY_PAN;break;case r.y.DOLLY_ROTATE:if(!1===d.enableZoom&&!1===d.enableRotate)return;!function(t){d.enableZoom&&Y(t),d.enableRotate&&Q(t)}(t),_=y.TOUCH_DOLLY_ROTATE;break;default:_=y.NONE}break;default:_=y.NONE}_!==y.NONE&&d.dispatchEvent(m)}}function st(t){if(!1!==d.enabled)switch(t.preventDefault(),t.stopPropagation(),_){case y.TOUCH_ROTATE:if(!1===d.enableRotate)return;K(t),d.update();break;case y.TOUCH_PAN:if(!1===d.enablePan)return;J(t),d.update();break;case y.TOUCH_DOLLY_PAN:if(!1===d.enableZoom&&!1===d.enablePan)return;!function(t){d.enableZoom&&Z(t),d.enablePan&&J(t)}(t),d.update();break;case y.TOUCH_DOLLY_ROTATE:if(!1===d.enableZoom&&!1===d.enableRotate)return;!function(t){d.enableZoom&&Z(t),d.enableRotate&&K(t)}(t),d.update();break;default:_=y.NONE}}function ut(t){!1!==d.enabled&&(d.dispatchEvent(v),_=y.NONE)}function ct(t){!1!==d.enabled&&t.preventDefault()}d.domElement.addEventListener("contextmenu",ct,!1),d.domElement.addEventListener("pointerdown",tt,!1),d.domElement.addEventListener("wheel",it,!1),d.domElement.addEventListener("touchstart",at,!1),d.domElement.addEventListener("touchend",ut,!1),d.domElement.addEventListener("touchmove",st,!1),d.domElement.addEventListener("keydown",ot,!1),-1===d.domElement.tabIndex&&(d.domElement.tabIndex=0),this.update()};o.prototype=Object.create(r.g.prototype),o.prototype.constructor=o;var c=function(object,t){o.call(this,object,t),this.screenSpacePanning=!1,this.mouseButtons.LEFT=r.l.PAN,this.mouseButtons.RIGHT=r.l.ROTATE,this.touches.ONE=r.y.PAN,this.touches.TWO=r.y.DOLLY_ROTATE};c.prototype=Object.create(r.g.prototype),c.prototype.constructor=c},508:function(t,e){!function(){"use strict";if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var t=function(t){for(var e=window.document,n=o(e);n;)n=o(e=n.ownerDocument);return e}(),e=[],n=null,r=null;l.prototype.THROTTLE_TIMEOUT=100,l.prototype.POLL_INTERVAL=null,l.prototype.USE_MUTATION_OBSERVER=!0,l._setupCrossOriginUpdater=function(){return n||(n=function(t,n){r=t&&n?v(t,n):{top:0,bottom:0,left:0,right:0,width:0,height:0},e.forEach((function(t){t._checkForIntersections()}))}),n},l._resetCrossOriginUpdater=function(){n=null,r=null},l.prototype.observe=function(t){if(!this._observationTargets.some((function(e){return e.element==t}))){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(t.ownerDocument),this._checkForIntersections()}},l.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter((function(e){return e.element!=t})),this._unmonitorIntersections(t.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},l.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},l.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},l.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter((function(t,i,a){if("number"!=typeof t||isNaN(t)||t<0||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==a[i-1]}))},l.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map((function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}}));return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},l.prototype._monitorIntersections=function(e){var n=e.defaultView;if(n&&-1==this._monitoringDocuments.indexOf(e)){var r=this._checkForIntersections,c=null,l=null;this.POLL_INTERVAL?c=n.setInterval(r,this.POLL_INTERVAL):(h(n,"resize",r,!0),h(e,"scroll",r,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in n&&(l=new n.MutationObserver(r)).observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(e),this._monitoringUnsubscribes.push((function(){var t=e.defaultView;t&&(c&&t.clearInterval(c),d(t,"resize",r,!0)),d(e,"scroll",r,!0),l&&l.disconnect()}));var f=this.root&&(this.root.ownerDocument||this.root)||t;if(e!=f){var m=o(e);m&&this._monitorIntersections(m.ownerDocument)}}},l.prototype._unmonitorIntersections=function(e){var n=this._monitoringDocuments.indexOf(e);if(-1!=n){var r=this.root&&(this.root.ownerDocument||this.root)||t;if(!this._observationTargets.some((function(t){var n=t.element.ownerDocument;if(n==e)return!0;for(;n&&n!=r;){var c=o(n);if((n=c&&c.ownerDocument)==e)return!0}return!1}))){var c=this._monitoringUnsubscribes[n];if(this._monitoringDocuments.splice(n,1),this._monitoringUnsubscribes.splice(n,1),c(),e!=r){var l=o(e);l&&this._unmonitorIntersections(l.ownerDocument)}}}},l.prototype._unmonitorAllIntersections=function(){var t=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var i=0;i<t.length;i++)t[i]()},l.prototype._checkForIntersections=function(){if(this.root||!n||r){var t=this._rootIsInDom(),e=t?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(r){var o=r.element,l=f(o),h=this._rootContainsTarget(o),d=r.entry,m=t&&h&&this._computeTargetAndRootIntersection(o,l,e),v=null;this._rootContainsTarget(o)?n&&!this.root||(v=e):v={top:0,bottom:0,left:0,right:0,width:0,height:0};var y=r.entry=new c({time:window.performance&&performance.now&&performance.now(),target:o,boundingClientRect:l,rootBounds:v,intersectionRect:m});d?t&&h?this._hasCrossedThreshold(d,y)&&this._queuedEntries.push(y):d&&d.isIntersecting&&this._queuedEntries.push(y):this._queuedEntries.push(y)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},l.prototype._computeTargetAndRootIntersection=function(e,o,c){if("none"!=window.getComputedStyle(e).display){for(var l,h,d,m,y,x,w,E,M=o,S=_(e),T=!1;!T&&S;){var D=null,O=1==S.nodeType?window.getComputedStyle(S):{};if("none"==O.display)return null;if(S==this.root||9==S.nodeType)if(T=!0,S==this.root||S==t)n&&!this.root?!r||0==r.width&&0==r.height?(S=null,D=null,M=null):D=r:D=c;else{var C=_(S),A=C&&f(C),k=C&&this._computeTargetAndRootIntersection(C,A,c);A&&k?(S=C,D=v(A,k)):(S=null,M=null)}else{var P=S.ownerDocument;S!=P.body&&S!=P.documentElement&&"visible"!=O.overflow&&(D=f(S))}if(D&&(l=D,h=M,d=void 0,m=void 0,y=void 0,x=void 0,w=void 0,E=void 0,d=Math.max(l.top,h.top),m=Math.min(l.bottom,h.bottom),y=Math.max(l.left,h.left),x=Math.min(l.right,h.right),E=m-d,M=(w=x-y)>=0&&E>=0&&{top:d,bottom:m,left:y,right:x,width:w,height:E}||null),!M)break;S=S&&_(S)}return M}},l.prototype._getRootRect=function(){var e;if(this.root&&!x(this.root))e=f(this.root);else{var n=x(this.root)?this.root:t,html=n.documentElement,body=n.body;e={top:0,left:0,right:html.clientWidth||body.clientWidth,width:html.clientWidth||body.clientWidth,bottom:html.clientHeight||body.clientHeight,height:html.clientHeight||body.clientHeight}}return this._expandRectByRootMargin(e)},l.prototype._expandRectByRootMargin=function(rect){var t=this._rootMarginValues.map((function(t,i){return"px"==t.unit?t.value:t.value*(i%2?rect.width:rect.height)/100})),e={top:rect.top-t[0],right:rect.right+t[1],bottom:rect.bottom+t[2],left:rect.left-t[3]};return e.width=e.right-e.left,e.height=e.bottom-e.top,e},l.prototype._hasCrossedThreshold=function(t,e){var n=t&&t.isIntersecting?t.intersectionRatio||0:-1,r=e.isIntersecting?e.intersectionRatio||0:-1;if(n!==r)for(var i=0;i<this.thresholds.length;i++){var o=this.thresholds[i];if(o==n||o==r||o<n!=o<r)return!0}},l.prototype._rootIsInDom=function(){return!this.root||y(t,this.root)},l.prototype._rootContainsTarget=function(e){var n=this.root&&(this.root.ownerDocument||this.root)||t;return y(n,e)&&(!this.root||n==e.ownerDocument)},l.prototype._registerInstance=function(){e.indexOf(this)<0&&e.push(this)},l.prototype._unregisterInstance=function(){var t=e.indexOf(this);-1!=t&&e.splice(t,1)},window.IntersectionObserver=l,window.IntersectionObserverEntry=c}function o(t){try{return t.defaultView&&t.defaultView.frameElement||null}catch(t){return null}}function c(t){this.time=t.time,this.target=t.target,this.rootBounds=m(t.rootBounds),this.boundingClientRect=m(t.boundingClientRect),this.intersectionRect=m(t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0}),this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,n=e.width*e.height,r=this.intersectionRect,o=r.width*r.height;this.intersectionRatio=n?Number((o/n).toFixed(4)):this.isIntersecting?1:0}function l(t,e){var n,r,o,c=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(c.root&&1!=c.root.nodeType&&9!=c.root.nodeType)throw new Error("root must be a Document or Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),r=this.THROTTLE_TIMEOUT,o=null,function(){o||(o=setTimeout((function(){n(),o=null}),r))}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(c.rootMargin),this.thresholds=this._initThresholds(c.threshold),this.root=c.root||null,this.rootMargin=this._rootMarginValues.map((function(t){return t.value+t.unit})).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function h(t,e,n,r){"function"==typeof t.addEventListener?t.addEventListener(e,n,r||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,n)}function d(t,e,n,r){"function"==typeof t.removeEventListener?t.removeEventListener(e,n,r||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,n)}function f(t){var rect;try{rect=t.getBoundingClientRect()}catch(t){}return rect?(rect.width&&rect.height||(rect={top:rect.top,right:rect.right,bottom:rect.bottom,left:rect.left,width:rect.right-rect.left,height:rect.bottom-rect.top}),rect):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function m(rect){return!rect||"x"in rect?rect:{top:rect.top,y:rect.top,bottom:rect.bottom,left:rect.left,x:rect.left,right:rect.right,width:rect.width,height:rect.height}}function v(t,e){var n=e.top-t.top,r=e.left-t.left;return{top:n,left:r,height:e.height,width:e.width,bottom:n+e.height,right:r+e.width}}function y(t,e){for(var n=e;n;){if(n==t)return!0;n=_(n)}return!1}function _(e){var n=e.parentNode;return 9==e.nodeType&&e!=t?o(e):(n&&n.assignedSlot&&(n=n.assignedSlot.parentNode),n&&11==n.nodeType&&n.host?n.host:n)}function x(t){return t&&9===t.nodeType}}()},513:function(t,e,n){"use strict";n.r(e),n.d(e,"loadLanguageAsync",(function(){return c}));n(34),n(122),n(90),n(29),n(91),n(51);var r=n(15),o=n(4);function c(t,e){return l.apply(this,arguments)}function l(){return(l=Object(r.a)(regeneratorRuntime.mark((function t(e,r){var c,l,h,d,f,m,v;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((c=e.app).i18n.loadedLanguages||(c.i18n.loadedLanguages=[]),c.i18n.loadedLanguages.includes(r)){t.next=31;break}if(!(l=c.i18n.locales.find((function(t){return t[o.c]===r})))){t.next=31;break}if(!(h=l[o.e])){t.next=30;break}if((f=e.nuxtState)&&f.__i18n&&f.__i18n.langs[r]&&(d=f.__i18n.langs[r]),d){t.next=27;break}return t.prev=9,t.next=12,n(514)("./".concat(h));case 12:if(m=t.sent,"function"!=typeof(v=m.default||m)){t.next=20;break}return t.next=17,Promise.resolve(v(e,r));case 17:t.t0=t.sent,t.next=21;break;case 20:t.t0=v;case 21:d=t.t0,t.next=27;break;case 24:t.prev=24,t.t1=t.catch(9),console.error(t.t1);case 27:d&&(c.i18n.setLocaleMessage(r,d),c.i18n.loadedLanguages.push(r)),t.next=31;break;case 30:console.warn("[".concat(o.g,"] Could not find lang file for locale ").concat(r));case 31:case"end":return t.stop()}}),t,null,[[9,24]])})))).apply(this,arguments)}},515:function(t,e){!function(t){!function(e){var n="URLSearchParams"in t,r="Symbol"in t&&"iterator"in Symbol,o="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),c="FormData"in t,l="ArrayBuffer"in t;if(l)var h=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(t){return t&&h.indexOf(Object.prototype.toString.call(t))>-1};function f(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function m(t){return"string"!=typeof t&&(t=String(t)),t}function v(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return r&&(e[Symbol.iterator]=function(){return e}),e}function y(t){this.map={},t instanceof y?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(header){this.append(header[0],header[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function _(body){if(body.bodyUsed)return Promise.reject(new TypeError("Already read"));body.bodyUsed=!0}function x(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function w(t){var e=new FileReader,n=x(e);return e.readAsArrayBuffer(t),n}function E(t){if(t.slice)return t.slice(0);var view=new Uint8Array(t.byteLength);return view.set(new Uint8Array(t)),view.buffer}function M(){return this.bodyUsed=!1,this._initBody=function(body){var t;this._bodyInit=body,body?"string"==typeof body?this._bodyText=body:o&&Blob.prototype.isPrototypeOf(body)?this._bodyBlob=body:c&&FormData.prototype.isPrototypeOf(body)?this._bodyFormData=body:n&&URLSearchParams.prototype.isPrototypeOf(body)?this._bodyText=body.toString():l&&o&&((t=body)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=E(body.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l&&(ArrayBuffer.prototype.isPrototypeOf(body)||d(body))?this._bodyArrayBuffer=E(body):this._bodyText=body=Object.prototype.toString.call(body):this._bodyText="",this.headers.get("content-type")||("string"==typeof body?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(body)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var t=_(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?_(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(w)}),this.text=function(){var t,e,n,r=_(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,n=x(e),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var view=new Uint8Array(t),e=new Array(view.length),i=0;i<view.length;i++)e[i]=String.fromCharCode(view[i]);return e.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c&&(this.formData=function(){return this.text().then(D)}),this.json=function(){return this.text().then(JSON.parse)},this}y.prototype.append=function(t,e){t=f(t),e=m(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},y.prototype.delete=function(t){delete this.map[f(t)]},y.prototype.get=function(t){return t=f(t),this.has(t)?this.map[t]:null},y.prototype.has=function(t){return this.map.hasOwnProperty(f(t))},y.prototype.set=function(t,e){this.map[f(t)]=m(e)},y.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},y.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),v(t)},y.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),v(t)},y.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),v(t)},r&&(y.prototype[Symbol.iterator]=y.prototype.entries);var S=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function T(input,t){var e,n,body=(t=t||{}).body;if(input instanceof T){if(input.bodyUsed)throw new TypeError("Already read");this.url=input.url,this.credentials=input.credentials,t.headers||(this.headers=new y(input.headers)),this.method=input.method,this.mode=input.mode,this.signal=input.signal,body||null==input._bodyInit||(body=input._bodyInit,input.bodyUsed=!0)}else this.url=String(input);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new y(t.headers)),this.method=(e=t.method||this.method||"GET",n=e.toUpperCase(),S.indexOf(n)>-1?n:e),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&body)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(body)}function D(body){var form=new FormData;return body.trim().split("&").forEach((function(t){if(t){var e=t.split("="),n=e.shift().replace(/\+/g," "),r=e.join("=").replace(/\+/g," ");form.append(decodeURIComponent(n),decodeURIComponent(r))}})),form}function O(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new y(e.headers),this.url=e.url||"",this._initBody(t)}T.prototype.clone=function(){return new T(this,{body:this._bodyInit})},M.call(T.prototype),M.call(O.prototype),O.prototype.clone=function(){return new O(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},O.error=function(){var t=new O(null,{status:0,statusText:""});return t.type="error",t};var C=[301,302,303,307,308];O.redirect=function(t,e){if(-1===C.indexOf(e))throw new RangeError("Invalid status code");return new O(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function A(input,t){return new Promise((function(n,r){var c=new T(input,t);if(c.signal&&c.signal.aborted)return r(new e.DOMException("Aborted","AbortError"));var l=new XMLHttpRequest;function h(){l.abort()}l.onload=function(){var t,e,r={status:l.status,statusText:l.statusText,headers:(t=l.getAllResponseHeaders()||"",e=new y,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(line){var t=line.split(":"),n=t.shift().trim();if(n){var r=t.join(":").trim();e.append(n,r)}})),e)};r.url="responseURL"in l?l.responseURL:r.headers.get("X-Request-URL");var body="response"in l?l.response:l.responseText;n(new O(body,r))},l.onerror=function(){r(new TypeError("Network request failed"))},l.ontimeout=function(){r(new TypeError("Network request failed"))},l.onabort=function(){r(new e.DOMException("Aborted","AbortError"))},l.open(c.method,c.url,!0),"include"===c.credentials?l.withCredentials=!0:"omit"===c.credentials&&(l.withCredentials=!1),"responseType"in l&&o&&(l.responseType="blob"),c.headers.forEach((function(t,e){l.setRequestHeader(e,t)})),c.signal&&(c.signal.addEventListener("abort",h),l.onreadystatechange=function(){4===l.readyState&&c.signal.removeEventListener("abort",h)}),l.send(void 0===c._bodyInit?null:c._bodyInit)}))}A.polyfill=!0,t.fetch||(t.fetch=A,t.Headers=y,t.Request=T,t.Response=O),e.Headers=y,e.Request=T,e.Response=O,e.fetch=A}({})}("undefined"!=typeof self?self:this)},517:function(t,e){function n(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}t.exports=n,n.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(t){this.ms=t},n.prototype.setMax=function(t){this.max=t},n.prototype.setJitter=function(t){this.jitter=t}},518:function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,o="~";function c(){}function l(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function h(t,e,n,r,c){if("function"!=typeof n)throw new TypeError("The listener must be a function");var h=new l(n,r||t,c),d=o?o+e:e;return t._events[d]?t._events[d].fn?t._events[d]=[t._events[d],h]:t._events[d].push(h):(t._events[d]=h,t._eventsCount++),t}function d(t,e){0==--t._eventsCount?t._events=new c:delete t._events[e]}function f(){this._events=new c,this._eventsCount=0}Object.create&&(c.prototype=Object.create(null),(new c).__proto__||(o=!1)),f.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)r.call(t,e)&&n.push(o?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},f.prototype.listeners=function(t){var e=o?o+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,r=n.length,c=new Array(r);i<r;i++)c[i]=n[i].fn;return c},f.prototype.listenerCount=function(t){var e=o?o+t:t,n=this._events[e];return n?n.fn?1:n.length:0},f.prototype.emit=function(t,e,n,r,c,l){var h=o?o+t:t;if(!this._events[h])return!1;var d,i,f=this._events[h],m=arguments.length;if(f.fn){switch(f.once&&this.removeListener(t,f.fn,void 0,!0),m){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,e),!0;case 3:return f.fn.call(f.context,e,n),!0;case 4:return f.fn.call(f.context,e,n,r),!0;case 5:return f.fn.call(f.context,e,n,r,c),!0;case 6:return f.fn.call(f.context,e,n,r,c,l),!0}for(i=1,d=new Array(m-1);i<m;i++)d[i-1]=arguments[i];f.fn.apply(f.context,d)}else{var v,y=f.length;for(i=0;i<y;i++)switch(f[i].once&&this.removeListener(t,f[i].fn,void 0,!0),m){case 1:f[i].fn.call(f[i].context);break;case 2:f[i].fn.call(f[i].context,e);break;case 3:f[i].fn.call(f[i].context,e,n);break;case 4:f[i].fn.call(f[i].context,e,n,r);break;default:if(!d)for(v=1,d=new Array(m-1);v<m;v++)d[v-1]=arguments[v];f[i].fn.apply(f[i].context,d)}}return!0},f.prototype.on=function(t,e,n){return h(this,t,e,n,!1)},f.prototype.once=function(t,e,n){return h(this,t,e,n,!0)},f.prototype.removeListener=function(t,e,n,r){var c=o?o+t:t;if(!this._events[c])return this;if(!e)return d(this,c),this;var l=this._events[c];if(l.fn)l.fn!==e||r&&!l.once||n&&l.context!==n||d(this,c);else{for(var i=0,h=[],f=l.length;i<f;i++)(l[i].fn!==e||r&&!l[i].once||n&&l[i].context!==n)&&h.push(l[i]);h.length?this._events[c]=1===h.length?h[0]:h:d(this,c)}return this},f.prototype.removeAllListeners=function(t){var e;return t?(e=o?o+t:t,this._events[e]&&d(this,e)):(this._events=new c,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=o,f.EventEmitter=f,t.exports=f},519:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return"string"==typeof t}},520:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return null!==t&&"object"==typeof t}},521:function(t,e,n){"use strict";n.r(e),n.d(e,"getOperationAST",(function(){return o}));var r=n(12);function o(t,e){for(var n=null,o=0,c=t.definitions;o<c.length;o++){var l,h=c[o];if(h.kind===r.a.OPERATION_DEFINITION)if(null==e){if(n)return null;n=h}else if((null===(l=h.name)||void 0===l?void 0:l.value)===e)return h}return n}},523:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GRAPHQL_SUBSCRIPTIONS=e.GRAPHQL_WS=void 0;e.GRAPHQL_WS="graphql-ws";e.GRAPHQL_SUBSCRIPTIONS="graphql-subscriptions"},524:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WS_TIMEOUT=e.MIN_WS_TIMEOUT=void 0;e.MIN_WS_TIMEOUT=1e3;e.WS_TIMEOUT=3e4},525:function(t,e,n){"use strict";var r=n(211),o=n(527),c=n(528),l=n(212),h=r.sum32,d=r.sum32_4,f=r.sum32_5,m=c.ch32,v=c.maj32,y=c.s0_256,_=c.s1_256,x=c.g0_256,w=c.g1_256,E=o.BlockHash,M=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function S(){if(!(this instanceof S))return new S;E.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=M,this.W=new Array(64)}r.inherits(S,E),t.exports=S,S.blockSize=512,S.outSize=256,S.hmacStrength=192,S.padLength=64,S.prototype._update=function(t,e){for(var n=this.W,i=0;i<16;i++)n[i]=t[e+i];for(;i<n.length;i++)n[i]=d(w(n[i-2]),n[i-7],x(n[i-15]),n[i-16]);var a=this.h[0],b=this.h[1],r=this.h[2],o=this.h[3],c=this.h[4],E=this.h[5],g=this.h[6],M=this.h[7];for(l(this.k.length===n.length),i=0;i<n.length;i++){var S=f(M,_(c),m(c,E,g),this.k[i],n[i]),T=h(y(a),v(a,b,r));M=g,g=E,E=c,c=h(o,S),o=r,r=b,b=a,a=h(S,T)}this.h[0]=h(this.h[0],a),this.h[1]=h(this.h[1],b),this.h[2]=h(this.h[2],r),this.h[3]=h(this.h[3],o),this.h[4]=h(this.h[4],c),this.h[5]=h(this.h[5],E),this.h[6]=h(this.h[6],g),this.h[7]=h(this.h[7],M)},S.prototype._digest=function(t){return"hex"===t?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},526:function(t,e){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},527:function(t,e,n){"use strict";var r=n(211),o=n(212);function c(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}e.BlockHash=c,c.prototype.update=function(t,e){if(t=r.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var n=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-n,t.length),0===this.pending.length&&(this.pending=null),t=r.join32(t,0,t.length-n,this.endian);for(var i=0;i<t.length;i+=this._delta32)this._update(t,i,i+this._delta32)}return this},c.prototype.digest=function(t){return this.update(this._pad()),o(null===this.pending),this._digest(t)},c.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,n=e-(t+this.padLength)%e,r=new Array(n+this.padLength);r[0]=128;for(var i=1;i<n;i++)r[i]=0;if(t<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)r[i++]=0;r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=t>>>24&255,r[i++]=t>>>16&255,r[i++]=t>>>8&255,r[i++]=255&t}else for(r[i++]=255&t,r[i++]=t>>>8&255,r[i++]=t>>>16&255,r[i++]=t>>>24&255,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,o=8;o<this.padLength;o++)r[i++]=0;return r}},528:function(t,e,n){"use strict";var r=n(211).rotr32;function o(t,e,n){return t&e^~t&n}function c(t,e,n){return t&e^t&n^e&n}function l(t,e,n){return t^e^n}e.ft_1=function(s,t,e,n){return 0===s?o(t,e,n):1===s||3===s?l(t,e,n):2===s?c(t,e,n):void 0},e.ch32=o,e.maj32=c,e.p32=l,e.s0_256=function(t){return r(t,2)^r(t,13)^r(t,22)},e.s1_256=function(t){return r(t,6)^r(t,11)^r(t,25)},e.g0_256=function(t){return r(t,7)^r(t,18)^t>>>3},e.g1_256=function(t){return r(t,17)^r(t,19)^t>>>10}},529:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}Object.defineProperty(e,"__esModule",{value:!0}),e.Observable=void 0;var l=function(){return"function"==typeof Symbol},h=function(t){return l()&&Boolean(Symbol[t])},d=function(t){return h(t)?Symbol[t]:"@@"+t};l()&&!h("observable")&&(Symbol.observable=Symbol("observable"));var f=d("iterator"),m=d("observable"),v=d("species");function y(t,e){var n=t[e];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function _(t){var e=t.constructor;return void 0!==e&&null===(e=e[v])&&(e=void 0),void 0!==e?e:A}function x(t){return t instanceof A}function w(t){w.log?w.log(t):setTimeout((function(){throw t}))}function E(t){Promise.resolve().then((function(){try{t()}catch(t){w(t)}}))}function M(t){var e=t._cleanup;if(void 0!==e&&(t._cleanup=void 0,e))try{if("function"==typeof e)e();else{var n=y(e,"unsubscribe");n&&n.call(e)}}catch(t){w(t)}}function S(t){t._observer=void 0,t._queue=void 0,t._state="closed"}function T(t,e,n){t._state="running";var r=t._observer;try{var o=y(r,e);switch(e){case"next":o&&o.call(r,n);break;case"error":if(S(t),!o)throw n;o.call(r,n);break;case"complete":S(t),o&&o.call(r)}}catch(t){w(t)}"closed"===t._state?M(t):"running"===t._state&&(t._state="ready")}function D(t,e,n){if("closed"!==t._state){if("buffering"!==t._state)return"ready"!==t._state?(t._state="buffering",t._queue=[{type:e,value:n}],void E((function(){return function(t){var e=t._queue;if(e){t._queue=void 0,t._state="ready";for(var i=0;i<e.length&&(T(t,e[i].type,e[i].value),"closed"!==t._state);++i);}}(t)}))):void T(t,e,n);t._queue.push({type:e,value:n})}}var O=function(){function t(e,n){r(this,t),this._cleanup=void 0,this._observer=e,this._queue=void 0,this._state="initializing";var o=new C(this);try{this._cleanup=n.call(void 0,o)}catch(t){o.error(t)}"initializing"===this._state&&(this._state="ready")}return c(t,[{key:"unsubscribe",value:function(){"closed"!==this._state&&(S(this),M(this))}},{key:"closed",get:function(){return"closed"===this._state}}]),t}(),C=function(){function t(e){r(this,t),this._subscription=e}return c(t,[{key:"next",value:function(t){D(this._subscription,"next",t)}},{key:"error",value:function(t){D(this._subscription,"error",t)}},{key:"complete",value:function(){D(this._subscription,"complete")}},{key:"closed",get:function(){return"closed"===this._subscription._state}}]),t}(),A=function(){function t(e){if(r(this,t),!(this instanceof t))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof e)throw new TypeError("Observable initializer must be a function");this._subscriber=e}return c(t,[{key:"subscribe",value:function(t){return"object"==typeof t&&null!==t||(t={next:t,error:arguments[1],complete:arguments[2]}),new O(t,this._subscriber)}},{key:"forEach",value:function(t){var e=this;return new Promise((function(n,r){if("function"==typeof t)var o=e.subscribe({next:function(e){try{t(e,c)}catch(t){r(t),o.unsubscribe()}},error:r,complete:n});else r(new TypeError(t+" is not a function"));function c(){o.unsubscribe(),n()}}))}},{key:"map",value:function(t){var e=this;if("function"!=typeof t)throw new TypeError(t+" is not a function");return new(_(this))((function(n){return e.subscribe({next:function(e){try{e=t(e)}catch(t){return n.error(t)}n.next(e)},error:function(t){n.error(t)},complete:function(){n.complete()}})}))}},{key:"filter",value:function(t){var e=this;if("function"!=typeof t)throw new TypeError(t+" is not a function");return new(_(this))((function(n){return e.subscribe({next:function(e){try{if(!t(e))return}catch(t){return n.error(t)}n.next(e)},error:function(t){n.error(t)},complete:function(){n.complete()}})}))}},{key:"reduce",value:function(t){var e=this;if("function"!=typeof t)throw new TypeError(t+" is not a function");var n=_(this),r=arguments.length>1,o=!1,c=arguments[1],l=c;return new n((function(n){return e.subscribe({next:function(e){var c=!o;if(o=!0,!c||r)try{l=t(l,e)}catch(t){return n.error(t)}else l=e},error:function(t){n.error(t)},complete:function(){if(!o&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(l),n.complete()}})}))}},{key:"concat",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=_(this);return new o((function(e){var r,c=0;return function t(l){r=l.subscribe({next:function(t){e.next(t)},error:function(t){e.error(t)},complete:function(){c===n.length?(r=void 0,e.complete()):t(o.from(n[c++]))}})}(t),function(){r&&(r.unsubscribe(),r=void 0)}}))}},{key:"flatMap",value:function(t){var e=this;if("function"!=typeof t)throw new TypeError(t+" is not a function");var n=_(this);return new n((function(r){var o=[],c=e.subscribe({next:function(e){if(t)try{e=t(e)}catch(t){return r.error(t)}var c=n.from(e).subscribe({next:function(t){r.next(t)},error:function(t){r.error(t)},complete:function(){var i=o.indexOf(c);i>=0&&o.splice(i,1),l()}});o.push(c)},error:function(t){r.error(t)},complete:function(){l()}});function l(){c.closed&&0===o.length&&r.complete()}return function(){o.forEach((function(s){return s.unsubscribe()})),c.unsubscribe()}}))}},{key:m,value:function(){return this}}],[{key:"from",value:function(e){var n="function"==typeof this?this:t;if(null==e)throw new TypeError(e+" is not an object");var r=y(e,m);if(r){var o=r.call(e);if(Object(o)!==o)throw new TypeError(o+" is not an object");return x(o)&&o.constructor===n?o:new n((function(t){return o.subscribe(t)}))}if(h("iterator")&&(r=y(e,f)))return new n((function(t){E((function(){if(!t.closed){var n=!0,o=!1,c=void 0;try{for(var l,h=r.call(e)[Symbol.iterator]();!(n=(l=h.next()).done);n=!0){var d=l.value;if(t.next(d),t.closed)return}}catch(t){o=!0,c=t}finally{try{n||null==h.return||h.return()}finally{if(o)throw c}}t.complete()}}))}));if(Array.isArray(e))return new n((function(t){E((function(){if(!t.closed){for(var i=0;i<e.length;++i)if(t.next(e[i]),t.closed)return;t.complete()}}))}));throw new TypeError(e+" is not observable")}},{key:"of",value:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o="function"==typeof this?this:t;return new o((function(t){E((function(){if(!t.closed){for(var i=0;i<n.length;++i)if(t.next(n[i]),t.closed)return;t.complete()}}))}))}},{key:v,get:function(){return this}}]),t}();e.Observable=A,l()&&Object.defineProperty(A,Symbol("extensions"),{value:{symbol:m,hostReportError:w},configurable:!0})},530:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3);function o(t,e,n){var c=n.fragmentMap,h=n.contextValue,d=n.variableValues,f={};return t.selections.forEach((function(t){if(!d||r.shouldInclude(t,d))if(r.isField(t)){var m=function(t,e,n){var c=n.variableValues,l=n.contextValue,h=n.resolver,d=t.name.value,f=r.argumentsObjectFromField(t,c),m={isLeaf:!t.selectionSet,resultKey:r.resultKeyNameFromField(t),directives:r.getDirectiveInfoFromField(t,c),field:t},v=h(d,e,f,l,m);if(!t.selectionSet)return v;if(null==v)return v;if(Array.isArray(v))return function t(e,n,r){return n.map((function(n){return null===n?null:Array.isArray(n)?t(e,n,r):o(e.selectionSet,n,r)}))}(t,v,n);return o(t.selectionSet,v,n)}(t,e,n),v=r.resultKeyNameFromField(t);void 0!==m&&(void 0===f[v]?f[v]=m:l(f[v],m))}else{var y=void 0;if(r.isInlineFragment(t))y=t;else if(!(y=c[t.name.value]))throw new Error("No fragment named "+t.name.value);var _=y.typeCondition.name.value;if(n.fragmentMatcher(e,_,h)){var x=o(y.selectionSet,e,n);l(f,x)}}})),n.resultMapper?n.resultMapper(f,e):f}e.graphql=function(t,e,n,c,l,h){void 0===l&&(l={}),void 0===h&&(h={});var d=r.getMainDefinition(e),f=r.getFragmentDefinitions(e),m={fragmentMap:r.createFragmentMap(f),contextValue:c,variableValues:l,resultMapper:h.resultMapper,resolver:t,fragmentMatcher:h.fragmentMatcher||function(){return!0}};return o(d.selectionSet,n,m)};var c=Object.prototype.hasOwnProperty;function l(t,e){null!==e&&"object"==typeof e&&Object.keys(e).forEach((function(n){var r=e[n];c.call(t,n)?l(t[n],r):t[n]=r}))}e.merge=l},533:function(t,e,n){"use strict";n.r(e),n.d(e,"checkFetcher",(function(){return f})),n.d(e,"createSignalIfSupported",(function(){return m})),n.d(e,"fallbackHttpConfig",(function(){return l})),n.d(e,"parseAndCheckHttpResponse",(function(){return d})),n.d(e,"selectHttpOptionsAndBody",(function(){return v})),n.d(e,"selectURI",(function(){return _})),n.d(e,"serializeFetchParameter",(function(){return y})),n.d(e,"throwServerError",(function(){return h}));var r=n(2),o=n(125),c=n(9),l={http:{includeQuery:!0,includeExtensions:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}},h=function(t,e,n){var r=new Error(n);throw r.name="ServerError",r.response=t,r.statusCode=t.status,r.result=e,r},d=function(t){return function(e){return e.text().then((function(t){try{return JSON.parse(t)}catch(r){var n=r;return n.name="ServerParseError",n.response=e,n.statusCode=e.status,n.bodyText=t,Promise.reject(n)}})).then((function(n){return e.status>=300&&h(e,n,"Response not successful: Received status code "+e.status),Array.isArray(n)||n.hasOwnProperty("data")||n.hasOwnProperty("errors")||h(e,n,"Server response was missing for query '"+(Array.isArray(t)?t.map((function(t){return t.operationName})):t.operationName)+"'."),n}))}},f=function(t){if(!t&&"undefined"==typeof fetch){throw"undefined"==typeof window&&"node-fetch",new c.a(1)}},m=function(){if("undefined"==typeof AbortController)return{controller:!1,signal:!1};var t=new AbortController;return{controller:t,signal:t.signal}},v=function(t,e){for(var n=[],c=2;c<arguments.length;c++)n[c-2]=arguments[c];var l=Object(r.__assign)({},e.options,{headers:e.headers,credentials:e.credentials}),h=e.http;n.forEach((function(t){l=Object(r.__assign)({},l,t.options,{headers:Object(r.__assign)({},l.headers,t.headers)}),t.credentials&&(l.credentials=t.credentials),h=Object(r.__assign)({},h,t.http)}));var d=t.operationName,f=t.extensions,m=t.variables,v=t.query,body={operationName:d,variables:m};return h.includeExtensions&&(body.extensions=f),h.includeQuery&&(body.query=Object(o.print)(v)),{options:l,body:body}},y=function(p,label){var t;try{t=JSON.stringify(p)}catch(t){var e=new c.a(2);throw e.parseError=t,e}return t},_=function(t,e){var n=t.getContext().uri;return n||("function"==typeof e?e(t):e||"/graphql")}},534:function(t,e,n){"use strict";n.r(e);var r=n(213);n.d(e,"ReactNativeFile",(function(){return r}));var o=n(320);n.d(e,"extractFiles",(function(){return o}));var c=n(214);n.d(e,"isExtractableFile",(function(){return c}))},536:function(t,e,n){n(40),n(29),n(66);var r={},o={},c={};window.__NUXT_JSONP__=function(t,e){r[t]=e},window.__NUXT_JSONP_CACHE__=r,window.__NUXT_IMPORT__=function(t,e){if(r[t])return Promise.resolve(r[t]);if(c[t])return Promise.reject(c[t]);if(o[t])return o[t];var n,l,h=o[t]=new Promise((function(t,e){n=t,l=e}));delete r[t];var d,script=document.createElement("script");script.charset="utf-8",script.timeout=120,script.src=e;var f=new Error,m=script.onerror=script.onload=function(e){if(clearTimeout(d),delete o[t],script.onerror=script.onload=null,r[t])return n(r[t]);var h=e&&("load"===e.type?"missing":e.type),m=e&&e.target&&e.target.src;f.message="Loading chunk "+t+" failed.\n("+h+": "+m+")",f.name="ChunkLoadError",f.type=h,f.request=m,c[t]=f,l(f)};return d=setTimeout((function(){m({type:"timeout",target:script})}),12e4),document.head.appendChild(script),h}},537:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.r(e),n.d(e,"parse",(function(){return Y})),n.d(e,"parseValue",(function(){return K})),n.d(e,"parseType",(function(){return J})),n.d(e,"Parser",(function(){return Z}));"function"==typeof Symbol&&null!=Symbol.iterator&&Symbol.iterator,"function"==typeof Symbol&&null!=Symbol.asyncIterator&&Symbol.asyncIterator;var o="function"==typeof Symbol&&null!=Symbol.toStringTag?Symbol.toStringTag:"@@toStringTag";function c(source,t){for(var e,n=/\r\n|[\n\r]/g,line=1,r=t+1;(e=n.exec(source.body))&&e.index<t;)line+=1,r=t+1-(e.index+e[0].length);return{line:line,column:r}}function l(t){return h(t.source,c(t.source,t.start))}function h(source,t){var e=source.locationOffset.column-1,body=f(e)+source.body,n=t.line-1,r=source.locationOffset.line-1,o=t.line+r,c=1===t.line?e:0,l=t.column+c,h="".concat(source.name,":").concat(o,":").concat(l,"\n"),m=body.split(/\r\n|[\n\r]/g),v=m[n];if(v.length>120){for(var y=Math.floor(l/80),_=l%80,x=[],i=0;i<v.length;i+=80)x.push(v.slice(i,i+80));return h+d([["".concat(o),x[0]]].concat(x.slice(1,y+1).map((function(t){return["",t]})),[[" ",f(_-1)+"^"],["",x[y+1]]]))}return h+d([["".concat(o-1),m[n-1]],["".concat(o),v],["",f(l-1)+"^"],["".concat(o+1),m[n+1]]])}function d(t){var e=t.filter((function(t){t[0];return void 0!==t[1]})),n=Math.max.apply(Math,e.map((function(t){return t[0].length})));return e.map((function(t){var e,r=t[0],line=t[1];return f(n-(e=r).length)+e+(line?" | "+line:" |")})).join("\n")}function f(t){return Array(t+1).join(" ")}function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function y(t,e){return!e||"object"!==m(e)&&"function"!=typeof e?_(t):e}function _(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x(t){var e="function"==typeof Map?new Map:void 0;return(x=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return w(t,arguments,S(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),M(r,t)})(t)}function w(t,e,n){return(w=E()?Reflect.construct:function(t,e,n){var a=[null];a.push.apply(a,e);var r=new(Function.bind.apply(t,a));return n&&M(r,n.prototype),r}).apply(null,arguments)}function E(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function M(t,p){return(M=Object.setPrototypeOf||function(t,p){return t.__proto__=p,t})(t,p)}function S(t){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var T=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&M(t,e)}(w,t);var e,n,d,f,m,x=(e=w,n=E(),function(){var t,r=S(e);if(n){var o=S(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return y(this,t)});function w(t,e,source,n,path,o,l){var h,d,f,m,v;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,w),v=x.call(this,t);var E,M=Array.isArray(e)?0!==e.length?e:void 0:e?[e]:void 0,S=source;!S&&M&&(S=null===(E=M[0].loc)||void 0===E?void 0:E.source);var T,D=n;!D&&M&&(D=M.reduce((function(t,e){return e.loc&&t.push(e.loc.start),t}),[])),D&&0===D.length&&(D=void 0),n&&source?T=n.map((function(t){return c(source,t)})):M&&(T=M.reduce((function(t,e){return e.loc&&t.push(c(e.loc.source,e.loc.start)),t}),[]));var O,C=l;if(null==C&&null!=o){var A=o.extensions;"object"==r(O=A)&&null!==O&&(C=A)}return Object.defineProperties(_(v),{name:{value:"GraphQLError"},message:{value:t,enumerable:!0,writable:!0},locations:{value:null!==(h=T)&&void 0!==h?h:void 0,enumerable:null!=T},path:{value:null!=path?path:void 0,enumerable:null!=path},nodes:{value:null!=M?M:void 0},source:{value:null!==(d=S)&&void 0!==d?d:void 0},positions:{value:null!==(f=D)&&void 0!==f?f:void 0},originalError:{value:o},extensions:{value:null!==(m=C)&&void 0!==m?m:void 0,enumerable:null!=C}}),(null==o?void 0:o.stack)?(Object.defineProperty(_(v),"stack",{value:o.stack,writable:!0,configurable:!0}),y(v)):(Error.captureStackTrace?Error.captureStackTrace(_(v),w):Object.defineProperty(_(v),"stack",{value:Error().stack,writable:!0,configurable:!0}),v)}return d=w,(f=[{key:"toString",value:function(){return function(t){var output=t.message;if(t.nodes)for(var e=0,n=t.nodes;e<n.length;e++){var r=n[e];r.loc&&(output+="\n\n"+l(r.loc))}else if(t.source&&t.locations)for(var o=0,c=t.locations;o<c.length;o++){var d=c[o];output+="\n\n"+h(t.source,d)}return output}(this)}},{key:o,get:function(){return"Object"}}])&&v(d.prototype,f),m&&v(d,m),w}(x(Error));function D(source,t,e){return new T("Syntax Error: ".concat(e),void 0,source,[t])}var O=n(12),C=n(23),A=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"}),k=n(157);function P(t,e){if(!Boolean(t))throw new Error(e)}var j=function(t,e){return t instanceof e};function L(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var I=function(){function t(body){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GraphQL request",e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{line:1,column:1};"string"==typeof body||P(0,"Body must be a string. Received: ".concat(Object(k.a)(body),".")),this.body=body,this.name=t,this.locationOffset=e,this.locationOffset.line>0||P(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||P(0,"column in locationOffset is 1-indexed and must be positive.")}var e,n,r;return e=t,(n=[{key:o,get:function(){return"Source"}}])&&L(e.prototype,n),r&&L(e,r),t}();var R=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"}),N=n(158),F=function(){function t(source){var t=new C.b(A.SOF,0,0,0,0,null);this.source=source,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}var e=t.prototype;return e.advance=function(){return this.lastToken=this.token,this.token=this.lookahead()},e.lookahead=function(){var t=this.token;if(t.kind!==A.EOF)do{var e;t=null!==(e=t.next)&&void 0!==e?e:t.next=U(this,t)}while(t.kind===A.COMMENT);return t},t}();function B(code){return isNaN(code)?A.EOF:code<127?JSON.stringify(String.fromCharCode(code)):'"\\u'.concat(("00"+code.toString(16).toUpperCase()).slice(-4),'"')}function U(t,e){for(var source=t.source,body=source.body,n=body.length,r=e.end;r<n;){var code=body.charCodeAt(r),o=t.line,c=1+r-t.lineStart;switch(code){case 65279:case 9:case 32:case 44:++r;continue;case 10:++r,++t.line,t.lineStart=r;continue;case 13:10===body.charCodeAt(r+1)?r+=2:++r,++t.line,t.lineStart=r;continue;case 33:return new C.b(A.BANG,r,r+1,o,c,e);case 35:return z(source,r,o,c,e);case 36:return new C.b(A.DOLLAR,r,r+1,o,c,e);case 38:return new C.b(A.AMP,r,r+1,o,c,e);case 40:return new C.b(A.PAREN_L,r,r+1,o,c,e);case 41:return new C.b(A.PAREN_R,r,r+1,o,c,e);case 46:if(46===body.charCodeAt(r+1)&&46===body.charCodeAt(r+2))return new C.b(A.SPREAD,r,r+3,o,c,e);break;case 58:return new C.b(A.COLON,r,r+1,o,c,e);case 61:return new C.b(A.EQUALS,r,r+1,o,c,e);case 64:return new C.b(A.AT,r,r+1,o,c,e);case 91:return new C.b(A.BRACKET_L,r,r+1,o,c,e);case 93:return new C.b(A.BRACKET_R,r,r+1,o,c,e);case 123:return new C.b(A.BRACE_L,r,r+1,o,c,e);case 124:return new C.b(A.PIPE,r,r+1,o,c,e);case 125:return new C.b(A.BRACE_R,r,r+1,o,c,e);case 34:return 34===body.charCodeAt(r+1)&&34===body.charCodeAt(r+2)?$(source,r,o,c,e,t):W(source,r,o,c,e);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return H(source,r,code,o,c,e);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return X(source,r,o,c,e)}throw D(source,r,V(code))}var line=t.line,col=1+r-t.lineStart;return new C.b(A.EOF,n,n,line,col,e)}function V(code){return code<32&&9!==code&&10!==code&&13!==code?"Cannot contain the invalid character ".concat(B(code),"."):39===code?"Unexpected single quote character ('), did you mean to use a double quote (\")?":"Cannot parse the unexpected character ".concat(B(code),".")}function z(source,t,line,col,e){var code,body=source.body,n=t;do{code=body.charCodeAt(++n)}while(!isNaN(code)&&(code>31||9===code));return new C.b(A.COMMENT,t,n,line,col,e,body.slice(t+1,n))}function H(source,t,e,line,col,n){var body=source.body,code=e,r=t,o=!1;if(45===code&&(code=body.charCodeAt(++r)),48===code){if((code=body.charCodeAt(++r))>=48&&code<=57)throw D(source,r,"Invalid number, unexpected digit after 0: ".concat(B(code),"."))}else r=G(source,r,code),code=body.charCodeAt(r);if(46===code&&(o=!0,code=body.charCodeAt(++r),r=G(source,r,code),code=body.charCodeAt(r)),69!==code&&101!==code||(o=!0,43!==(code=body.charCodeAt(++r))&&45!==code||(code=body.charCodeAt(++r)),r=G(source,r,code),code=body.charCodeAt(r)),46===code||function(code){return 95===code||code>=65&&code<=90||code>=97&&code<=122}(code))throw D(source,r,"Invalid number, expected digit but got: ".concat(B(code),"."));return new C.b(o?A.FLOAT:A.INT,t,r,line,col,n,body.slice(t,r))}function G(source,t,e){var body=source.body,n=t,code=e;if(code>=48&&code<=57){do{code=body.charCodeAt(++n)}while(code>=48&&code<=57);return n}throw D(source,n,"Invalid number, expected digit but got: ".concat(B(code),"."))}function W(source,t,line,col,e){for(var a,b,n,r,body=source.body,o=t+1,c=o,code=0,l="";o<body.length&&!isNaN(code=body.charCodeAt(o))&&10!==code&&13!==code;){if(34===code)return l+=body.slice(c,o),new C.b(A.STRING,t,o+1,line,col,e,l);if(code<32&&9!==code)throw D(source,o,"Invalid character within String: ".concat(B(code),"."));if(++o,92===code){switch(l+=body.slice(c,o-1),code=body.charCodeAt(o)){case 34:l+='"';break;case 47:l+="/";break;case 92:l+="\\";break;case 98:l+="\b";break;case 102:l+="\f";break;case 110:l+="\n";break;case 114:l+="\r";break;case 116:l+="\t";break;case 117:var h=(a=body.charCodeAt(o+1),b=body.charCodeAt(o+2),n=body.charCodeAt(o+3),r=body.charCodeAt(o+4),Q(a)<<12|Q(b)<<8|Q(n)<<4|Q(r));if(h<0){var d=body.slice(o+1,o+5);throw D(source,o,"Invalid character escape sequence: \\u".concat(d,"."))}l+=String.fromCharCode(h),o+=4;break;default:throw D(source,o,"Invalid character escape sequence: \\".concat(String.fromCharCode(code),"."))}c=++o}}throw D(source,o,"Unterminated string.")}function $(source,t,line,col,e,n){for(var body=source.body,r=t+3,o=r,code=0,c="";r<body.length&&!isNaN(code=body.charCodeAt(r));){if(34===code&&34===body.charCodeAt(r+1)&&34===body.charCodeAt(r+2))return c+=body.slice(o,r),new C.b(A.BLOCK_STRING,t,r+3,line,col,e,Object(N.a)(c));if(code<32&&9!==code&&10!==code&&13!==code)throw D(source,r,"Invalid character within String: ".concat(B(code),"."));10===code?(++r,++n.line,n.lineStart=r):13===code?(10===body.charCodeAt(r+1)?r+=2:++r,++n.line,n.lineStart=r):92===code&&34===body.charCodeAt(r+1)&&34===body.charCodeAt(r+2)&&34===body.charCodeAt(r+3)?(c+=body.slice(o,r)+'"""',o=r+=4):++r}throw D(source,r,"Unterminated string.")}function Q(a){return a>=48&&a<=57?a-48:a>=65&&a<=70?a-55:a>=97&&a<=102?a-87:-1}function X(source,t,line,col,e){for(var body=source.body,n=body.length,r=t+1,code=0;r!==n&&!isNaN(code=body.charCodeAt(r))&&(95===code||code>=48&&code<=57||code>=65&&code<=90||code>=97&&code<=122);)++r;return new C.b(A.NAME,t,r,line,col,e,body.slice(t,r))}function Y(source,t){return new Z(source,t).parseDocument()}function K(source,t){var e=new Z(source,t);e.expectToken(A.SOF);var n=e.parseValueLiteral(!1);return e.expectToken(A.EOF),n}function J(source,t){var e=new Z(source,t);e.expectToken(A.SOF);var n=e.parseTypeReference();return e.expectToken(A.EOF),n}var Z=function(){function t(source,t){var e=function(source){return j(source,I)}(source)?source:new I(source);this._lexer=new F(e),this._options=t}var e=t.prototype;return e.parseName=function(){var t=this.expectToken(A.NAME);return{kind:O.a.NAME,value:t.value,loc:this.loc(t)}},e.parseDocument=function(){var t=this._lexer.token;return{kind:O.a.DOCUMENT,definitions:this.many(A.SOF,this.parseDefinition,A.EOF),loc:this.loc(t)}},e.parseDefinition=function(){if(this.peek(A.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(A.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},e.parseOperationDefinition=function(){var t=this._lexer.token;if(this.peek(A.BRACE_L))return{kind:O.a.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(t)};var e,n=this.parseOperationType();return this.peek(A.NAME)&&(e=this.parseName()),{kind:O.a.OPERATION_DEFINITION,operation:n,name:e,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}},e.parseOperationType=function(){var t=this.expectToken(A.NAME);switch(t.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(t)},e.parseVariableDefinitions=function(){return this.optionalMany(A.PAREN_L,this.parseVariableDefinition,A.PAREN_R)},e.parseVariableDefinition=function(){var t=this._lexer.token;return{kind:O.a.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(A.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(A.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(t)}},e.parseVariable=function(){var t=this._lexer.token;return this.expectToken(A.DOLLAR),{kind:O.a.VARIABLE,name:this.parseName(),loc:this.loc(t)}},e.parseSelectionSet=function(){var t=this._lexer.token;return{kind:O.a.SELECTION_SET,selections:this.many(A.BRACE_L,this.parseSelection,A.BRACE_R),loc:this.loc(t)}},e.parseSelection=function(){return this.peek(A.SPREAD)?this.parseFragment():this.parseField()},e.parseField=function(){var t,e,n=this._lexer.token,r=this.parseName();return this.expectOptionalToken(A.COLON)?(t=r,e=this.parseName()):e=r,{kind:O.a.FIELD,alias:t,name:e,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(A.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(n)}},e.parseArguments=function(t){var e=t?this.parseConstArgument:this.parseArgument;return this.optionalMany(A.PAREN_L,e,A.PAREN_R)},e.parseArgument=function(){var t=this._lexer.token,e=this.parseName();return this.expectToken(A.COLON),{kind:O.a.ARGUMENT,name:e,value:this.parseValueLiteral(!1),loc:this.loc(t)}},e.parseConstArgument=function(){var t=this._lexer.token;return{kind:O.a.ARGUMENT,name:this.parseName(),value:(this.expectToken(A.COLON),this.parseValueLiteral(!0)),loc:this.loc(t)}},e.parseFragment=function(){var t=this._lexer.token;this.expectToken(A.SPREAD);var e=this.expectOptionalKeyword("on");return!e&&this.peek(A.NAME)?{kind:O.a.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(t)}:{kind:O.a.INLINE_FRAGMENT,typeCondition:e?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}},e.parseFragmentDefinition=function(){var t,e=this._lexer.token;return this.expectKeyword("fragment"),!0===(null===(t=this._options)||void 0===t?void 0:t.experimentalFragmentVariables)?{kind:O.a.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}:{kind:O.a.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},e.parseFragmentName=function(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()},e.parseValueLiteral=function(t){var e=this._lexer.token;switch(e.kind){case A.BRACKET_L:return this.parseList(t);case A.BRACE_L:return this.parseObject(t);case A.INT:return this._lexer.advance(),{kind:O.a.INT,value:e.value,loc:this.loc(e)};case A.FLOAT:return this._lexer.advance(),{kind:O.a.FLOAT,value:e.value,loc:this.loc(e)};case A.STRING:case A.BLOCK_STRING:return this.parseStringLiteral();case A.NAME:switch(this._lexer.advance(),e.value){case"true":return{kind:O.a.BOOLEAN,value:!0,loc:this.loc(e)};case"false":return{kind:O.a.BOOLEAN,value:!1,loc:this.loc(e)};case"null":return{kind:O.a.NULL,loc:this.loc(e)};default:return{kind:O.a.ENUM,value:e.value,loc:this.loc(e)}}case A.DOLLAR:if(!t)return this.parseVariable()}throw this.unexpected()},e.parseStringLiteral=function(){var t=this._lexer.token;return this._lexer.advance(),{kind:O.a.STRING,value:t.value,block:t.kind===A.BLOCK_STRING,loc:this.loc(t)}},e.parseList=function(t){var e=this,n=this._lexer.token;return{kind:O.a.LIST,values:this.any(A.BRACKET_L,(function(){return e.parseValueLiteral(t)}),A.BRACKET_R),loc:this.loc(n)}},e.parseObject=function(t){var e=this,n=this._lexer.token;return{kind:O.a.OBJECT,fields:this.any(A.BRACE_L,(function(){return e.parseObjectField(t)}),A.BRACE_R),loc:this.loc(n)}},e.parseObjectField=function(t){var e=this._lexer.token,n=this.parseName();return this.expectToken(A.COLON),{kind:O.a.OBJECT_FIELD,name:n,value:this.parseValueLiteral(t),loc:this.loc(e)}},e.parseDirectives=function(t){for(var e=[];this.peek(A.AT);)e.push(this.parseDirective(t));return e},e.parseDirective=function(t){var e=this._lexer.token;return this.expectToken(A.AT),{kind:O.a.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(t),loc:this.loc(e)}},e.parseTypeReference=function(){var t,e=this._lexer.token;return this.expectOptionalToken(A.BRACKET_L)?(t=this.parseTypeReference(),this.expectToken(A.BRACKET_R),t={kind:O.a.LIST_TYPE,type:t,loc:this.loc(e)}):t=this.parseNamedType(),this.expectOptionalToken(A.BANG)?{kind:O.a.NON_NULL_TYPE,type:t,loc:this.loc(e)}:t},e.parseNamedType=function(){var t=this._lexer.token;return{kind:O.a.NAMED_TYPE,name:this.parseName(),loc:this.loc(t)}},e.parseTypeSystemDefinition=function(){var t=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(t.kind===A.NAME)switch(t.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(t)},e.peekDescription=function(){return this.peek(A.STRING)||this.peek(A.BLOCK_STRING)},e.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},e.parseSchemaDefinition=function(){var t=this._lexer.token,e=this.parseDescription();this.expectKeyword("schema");var n=this.parseDirectives(!0),r=this.many(A.BRACE_L,this.parseOperationTypeDefinition,A.BRACE_R);return{kind:O.a.SCHEMA_DEFINITION,description:e,directives:n,operationTypes:r,loc:this.loc(t)}},e.parseOperationTypeDefinition=function(){var t=this._lexer.token,e=this.parseOperationType();this.expectToken(A.COLON);var n=this.parseNamedType();return{kind:O.a.OPERATION_TYPE_DEFINITION,operation:e,type:n,loc:this.loc(t)}},e.parseScalarTypeDefinition=function(){var t=this._lexer.token,e=this.parseDescription();this.expectKeyword("scalar");var n=this.parseName(),r=this.parseDirectives(!0);return{kind:O.a.SCALAR_TYPE_DEFINITION,description:e,name:n,directives:r,loc:this.loc(t)}},e.parseObjectTypeDefinition=function(){var t=this._lexer.token,e=this.parseDescription();this.expectKeyword("type");var n=this.parseName(),r=this.parseImplementsInterfaces(),o=this.parseDirectives(!0),c=this.parseFieldsDefinition();return{kind:O.a.OBJECT_TYPE_DEFINITION,description:e,name:n,interfaces:r,directives:o,fields:c,loc:this.loc(t)}},e.parseImplementsInterfaces=function(){var t;if(!this.expectOptionalKeyword("implements"))return[];if(!0===(null===(t=this._options)||void 0===t?void 0:t.allowLegacySDLImplementsInterfaces)){var e=[];this.expectOptionalToken(A.AMP);do{e.push(this.parseNamedType())}while(this.expectOptionalToken(A.AMP)||this.peek(A.NAME));return e}return this.delimitedMany(A.AMP,this.parseNamedType)},e.parseFieldsDefinition=function(){var t;return!0===(null===(t=this._options)||void 0===t?void 0:t.allowLegacySDLEmptyFields)&&this.peek(A.BRACE_L)&&this._lexer.lookahead().kind===A.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(A.BRACE_L,this.parseFieldDefinition,A.BRACE_R)},e.parseFieldDefinition=function(){var t=this._lexer.token,e=this.parseDescription(),n=this.parseName(),r=this.parseArgumentDefs();this.expectToken(A.COLON);var o=this.parseTypeReference(),c=this.parseDirectives(!0);return{kind:O.a.FIELD_DEFINITION,description:e,name:n,arguments:r,type:o,directives:c,loc:this.loc(t)}},e.parseArgumentDefs=function(){return this.optionalMany(A.PAREN_L,this.parseInputValueDef,A.PAREN_R)},e.parseInputValueDef=function(){var t=this._lexer.token,e=this.parseDescription(),n=this.parseName();this.expectToken(A.COLON);var r,o=this.parseTypeReference();this.expectOptionalToken(A.EQUALS)&&(r=this.parseValueLiteral(!0));var c=this.parseDirectives(!0);return{kind:O.a.INPUT_VALUE_DEFINITION,description:e,name:n,type:o,defaultValue:r,directives:c,loc:this.loc(t)}},e.parseInterfaceTypeDefinition=function(){var t=this._lexer.token,e=this.parseDescription();this.expectKeyword("interface");var n=this.parseName(),r=this.parseImplementsInterfaces(),o=this.parseDirectives(!0),c=this.parseFieldsDefinition();return{kind:O.a.INTERFACE_TYPE_DEFINITION,description:e,name:n,interfaces:r,directives:o,fields:c,loc:this.loc(t)}},e.parseUnionTypeDefinition=function(){var t=this._lexer.token,e=this.parseDescription();this.expectKeyword("union");var n=this.parseName(),r=this.parseDirectives(!0),o=this.parseUnionMemberTypes();return{kind:O.a.UNION_TYPE_DEFINITION,description:e,name:n,directives:r,types:o,loc:this.loc(t)}},e.parseUnionMemberTypes=function(){return this.expectOptionalToken(A.EQUALS)?this.delimitedMany(A.PIPE,this.parseNamedType):[]},e.parseEnumTypeDefinition=function(){var t=this._lexer.token,e=this.parseDescription();this.expectKeyword("enum");var n=this.parseName(),r=this.parseDirectives(!0),o=this.parseEnumValuesDefinition();return{kind:O.a.ENUM_TYPE_DEFINITION,description:e,name:n,directives:r,values:o,loc:this.loc(t)}},e.parseEnumValuesDefinition=function(){return this.optionalMany(A.BRACE_L,this.parseEnumValueDefinition,A.BRACE_R)},e.parseEnumValueDefinition=function(){var t=this._lexer.token,e=this.parseDescription(),n=this.parseName(),r=this.parseDirectives(!0);return{kind:O.a.ENUM_VALUE_DEFINITION,description:e,name:n,directives:r,loc:this.loc(t)}},e.parseInputObjectTypeDefinition=function(){var t=this._lexer.token,e=this.parseDescription();this.expectKeyword("input");var n=this.parseName(),r=this.parseDirectives(!0),o=this.parseInputFieldsDefinition();return{kind:O.a.INPUT_OBJECT_TYPE_DEFINITION,description:e,name:n,directives:r,fields:o,loc:this.loc(t)}},e.parseInputFieldsDefinition=function(){return this.optionalMany(A.BRACE_L,this.parseInputValueDef,A.BRACE_R)},e.parseTypeSystemExtension=function(){var t=this._lexer.lookahead();if(t.kind===A.NAME)switch(t.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(t)},e.parseSchemaExtension=function(){var t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var e=this.parseDirectives(!0),n=this.optionalMany(A.BRACE_L,this.parseOperationTypeDefinition,A.BRACE_R);if(0===e.length&&0===n.length)throw this.unexpected();return{kind:O.a.SCHEMA_EXTENSION,directives:e,operationTypes:n,loc:this.loc(t)}},e.parseScalarTypeExtension=function(){var t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var e=this.parseName(),n=this.parseDirectives(!0);if(0===n.length)throw this.unexpected();return{kind:O.a.SCALAR_TYPE_EXTENSION,name:e,directives:n,loc:this.loc(t)}},e.parseObjectTypeExtension=function(){var t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var e=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),o=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===o.length)throw this.unexpected();return{kind:O.a.OBJECT_TYPE_EXTENSION,name:e,interfaces:n,directives:r,fields:o,loc:this.loc(t)}},e.parseInterfaceTypeExtension=function(){var t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var e=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),o=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===o.length)throw this.unexpected();return{kind:O.a.INTERFACE_TYPE_EXTENSION,name:e,interfaces:n,directives:r,fields:o,loc:this.loc(t)}},e.parseUnionTypeExtension=function(){var t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var e=this.parseName(),n=this.parseDirectives(!0),r=this.parseUnionMemberTypes();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:O.a.UNION_TYPE_EXTENSION,name:e,directives:n,types:r,loc:this.loc(t)}},e.parseEnumTypeExtension=function(){var t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var e=this.parseName(),n=this.parseDirectives(!0),r=this.parseEnumValuesDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:O.a.ENUM_TYPE_EXTENSION,name:e,directives:n,values:r,loc:this.loc(t)}},e.parseInputObjectTypeExtension=function(){var t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var e=this.parseName(),n=this.parseDirectives(!0),r=this.parseInputFieldsDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:O.a.INPUT_OBJECT_TYPE_EXTENSION,name:e,directives:n,fields:r,loc:this.loc(t)}},e.parseDirectiveDefinition=function(){var t=this._lexer.token,e=this.parseDescription();this.expectKeyword("directive"),this.expectToken(A.AT);var n=this.parseName(),r=this.parseArgumentDefs(),o=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var c=this.parseDirectiveLocations();return{kind:O.a.DIRECTIVE_DEFINITION,description:e,name:n,arguments:r,repeatable:o,locations:c,loc:this.loc(t)}},e.parseDirectiveLocations=function(){return this.delimitedMany(A.PIPE,this.parseDirectiveLocation)},e.parseDirectiveLocation=function(){var t=this._lexer.token,e=this.parseName();if(void 0!==R[e.value])return e;throw this.unexpected(t)},e.loc=function(t){var e;if(!0!==(null===(e=this._options)||void 0===e?void 0:e.noLocation))return new C.a(t,this._lexer.lastToken,this._lexer.source)},e.peek=function(t){return this._lexer.token.kind===t},e.expectToken=function(t){var e=this._lexer.token;if(e.kind===t)return this._lexer.advance(),e;throw D(this._lexer.source,e.start,"Expected ".concat(et(t),", found ").concat(tt(e),"."))},e.expectOptionalToken=function(t){var e=this._lexer.token;if(e.kind===t)return this._lexer.advance(),e},e.expectKeyword=function(t){var e=this._lexer.token;if(e.kind!==A.NAME||e.value!==t)throw D(this._lexer.source,e.start,'Expected "'.concat(t,'", found ').concat(tt(e),"."));this._lexer.advance()},e.expectOptionalKeyword=function(t){var e=this._lexer.token;return e.kind===A.NAME&&e.value===t&&(this._lexer.advance(),!0)},e.unexpected=function(t){var e=null!=t?t:this._lexer.token;return D(this._lexer.source,e.start,"Unexpected ".concat(tt(e),"."))},e.any=function(t,e,n){this.expectToken(t);for(var r=[];!this.expectOptionalToken(n);)r.push(e.call(this));return r},e.optionalMany=function(t,e,n){if(this.expectOptionalToken(t)){var r=[];do{r.push(e.call(this))}while(!this.expectOptionalToken(n));return r}return[]},e.many=function(t,e,n){this.expectToken(t);var r=[];do{r.push(e.call(this))}while(!this.expectOptionalToken(n));return r},e.delimitedMany=function(t,e){this.expectOptionalToken(t);var n=[];do{n.push(e.call(this))}while(this.expectOptionalToken(t));return n},t}();function tt(t){var e=t.value;return et(t.kind)+(null!=e?' "'.concat(e,'"'):"")}function et(t){return function(t){return t===A.BANG||t===A.DOLLAR||t===A.AMP||t===A.PAREN_L||t===A.PAREN_R||t===A.SPREAD||t===A.COLON||t===A.EQUALS||t===A.AT||t===A.BRACKET_L||t===A.BRACKET_R||t===A.BRACE_L||t===A.PIPE||t===A.BRACE_R}(t)?'"'.concat(t,'"'):t}},55:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return h}));var r=n(157),o=n(23),c={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},l=Object.freeze({});function h(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c,h=void 0,f=Array.isArray(t),m=[t],v=-1,y=[],_=void 0,x=void 0,w=void 0,path=[],E=[],M=t;do{var S=++v===m.length,T=S&&0!==y.length;if(S){if(x=0===E.length?void 0:path[path.length-1],_=w,w=E.pop(),T){if(f)_=_.slice();else{for(var D={},O=0,C=Object.keys(_);O<C.length;O++){var A=C[O];D[A]=_[A]}_=D}for(var k=0,P=0;P<y.length;P++){var j=y[P][0],L=y[P][1];f&&(j-=k),f&&null===L?(_.splice(j,1),k++):_[j]=L}}v=h.index,m=h.keys,y=h.edits,f=h.inArray,h=h.prev}else{if(x=w?f?v:m[v]:void 0,null==(_=w?w[x]:M))continue;w&&path.push(x)}var I,R=void 0;if(!Array.isArray(_)){if(!Object(o.c)(_))throw new Error("Invalid AST Node: ".concat(Object(r.a)(_),"."));var N=d(e,_.kind,S);if(N){if((R=N.call(e,_,x,w,path,E))===l)break;if(!1===R){if(!S){path.pop();continue}}else if(void 0!==R&&(y.push([x,R]),!S)){if(!Object(o.c)(R)){path.pop();continue}_=R}}}if(void 0===R&&T&&y.push([x,_]),S)path.pop();else h={inArray:f,index:v,keys:m,edits:y,prev:h},m=(f=Array.isArray(_))?_:null!==(I=n[_.kind])&&void 0!==I?I:[],v=-1,y=[],w&&E.push(w),w=_}while(void 0!==h);return 0!==y.length&&(M=y[y.length-1][1]),M}function d(t,e,n){var r=t[e];if(r){if(!n&&"function"==typeof r)return r;var o=n?r.leave:r.enter;if("function"==typeof o)return o}else{var c=n?t.leave:t.enter;if(c){if("function"==typeof c)return c;var l=c[e];if("function"==typeof l)return l}}}},59:function(t,e,n){"use strict";n.d(e,"a",(function(){return P}));n(18),n(102),n(80),n(72),n(133),n(48),n(61),n(67),n(19);var r=n(33),o=/([\uD800-\uDBFF][\uDC00-\uDFFF](?:[\u200D\uFE0F][\uD800-\uDBFF][\uDC00-\uDFFF]){2,}|\uD83D\uDC69(?:\u200D(?:(?:\uD83D\uDC69\u200D)?\uD83D\uDC67|(?:\uD83D\uDC69\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]\uFE0F|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC6F\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3C-\uDD3E\uDDD6-\uDDDF])\u200D[\u2640\u2642]\uFE0F|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC69\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708]))\uFE0F|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83D\uDC69\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\u200D(?:(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F)/;var c,l,h,d=/(?:\r|\n|\t\t)/g,f=/(?:\s\s+)/g,m=function(element){return l.getComputedStyle(element)},v=Array.isArray,y=[].slice,_=function(t,e){var n;return v(t)?t:"string"===(n=Object(r.a)(t))&&!e&&t?y.call(c.querySelectorAll(t),0):t&&"object"===n&&"length"in t?y.call(t,0):t?[t]:[]},x=function(t){return"absolute"===t.position||!0===t.absolute},w=function(text,t){for(var s,i=t.length;--i>-1;)if(s=t[i],text.substr(0,s.length)===s)return s.length},E=function(t,e){void 0===t&&(t="");var n=~t.indexOf("++"),r=1;return n&&(t=t.split("++").join("")),function(){return"<"+e+" style='position:relative;display:inline-block;'"+(t?" class='"+t+(n?r++:"")+"'>":">")}},M=function t(element,e,n){var r=element.nodeType;if(1===r||9===r||11===r)for(element=element.firstChild;element;element=element.nextSibling)t(element,e,n);else 3!==r&&4!==r||(element.nodeValue=element.nodeValue.split(e).join(n))},S=function(a,t){for(var i=t.length;--i>-1;)a.push(t[i])},T=function(t,e,n){for(var r;t&&t!==e;){if(r=t._next||t.nextSibling)return r.textContent.charAt(0)===n;t=t.parentNode||t._parent}},D=function t(e){var i,n,r=_(e.childNodes),o=r.length;for(i=0;i<o;i++)(n=r[i])._isSplit?t(n):(i&&3===n.previousSibling.nodeType?n.previousSibling.nodeValue+=3===n.nodeType?n.nodeValue:n.firstChild.nodeValue:3!==n.nodeType&&e.insertBefore(n.firstChild,n),e.removeChild(n))},O=function(t,e){return parseFloat(e[t])||0},C=function(element,t,e,n,r,o,l){var i,h,d,f,v,y,_,w,style,E,C,A,k=m(element),P=O("paddingLeft",k),j=-999,L=O("borderBottomWidth",k)+O("borderTopWidth",k),I=O("borderLeftWidth",k)+O("borderRightWidth",k),R=O("paddingTop",k)+O("paddingBottom",k),N=O("paddingLeft",k)+O("paddingRight",k),F=O("fontSize",k)*(t.lineThreshold||.2),B=k.textAlign,U=[],V=[],z=[],H=t.wordDelimiter||" ",G=t.tag?t.tag:t.span?"span":"div",W=t.type||t.split||"chars,words,lines",$=r&&~W.indexOf("lines")?[]:null,Q=~W.indexOf("words"),X=~W.indexOf("chars"),Y=x(t),K=t.linesClass,J=~(K||"").indexOf("++"),Z=[];for(J&&(K=K.split("++").join("")),d=(h=element.getElementsByTagName("*")).length,v=[],i=0;i<d;i++)v[i]=h[i];if($||Y)for(i=0;i<d;i++)((y=(f=v[i]).parentNode===element)||Y||X&&!Q)&&(A=f.offsetTop,$&&y&&Math.abs(A-j)>F&&("BR"!==f.nodeName||0===i)&&(_=[],$.push(_),j=A),Y&&(f._x=f.offsetLeft,f._y=A,f._w=f.offsetWidth,f._h=f.offsetHeight),$&&((f._isSplit&&y||!X&&y||Q&&y||!Q&&f.parentNode.parentNode===element&&!f.parentNode._isSplit)&&(_.push(f),f._x-=P,T(f,element,H)&&(f._wordEnd=!0)),"BR"===f.nodeName&&(f.nextSibling&&"BR"===f.nextSibling.nodeName||0===i)&&$.push([])));for(i=0;i<d;i++)y=(f=v[i]).parentNode===element,"BR"!==f.nodeName?(Y&&(style=f.style,Q||y||(f._x+=f.parentNode._x,f._y+=f.parentNode._y),style.left=f._x+"px",style.top=f._y+"px",style.position="absolute",style.display="block",style.width=f._w+1+"px",style.height=f._h+"px"),!Q&&X?f._isSplit?(f._next=f.nextSibling,f.parentNode.appendChild(f)):f.parentNode._isSplit?(f._parent=f.parentNode,!f.previousSibling&&f.firstChild&&(f.firstChild._isFirst=!0),f.nextSibling&&" "===f.nextSibling.textContent&&!f.nextSibling.nextSibling&&Z.push(f.nextSibling),f._next=f.nextSibling&&f.nextSibling._isFirst?null:f.nextSibling,f.parentNode.removeChild(f),v.splice(i--,1),d--):y||(A=!f.nextSibling&&T(f.parentNode,element,H),f.parentNode._parent&&f.parentNode._parent.appendChild(f),A&&f.parentNode.appendChild(c.createTextNode(" ")),"span"===G&&(f.style.display="inline"),U.push(f)):f.parentNode._isSplit&&!f._isSplit&&""!==f.innerHTML?V.push(f):X&&!f._isSplit&&("span"===G&&(f.style.display="inline"),U.push(f))):$||Y?(f.parentNode&&f.parentNode.removeChild(f),v.splice(i--,1),d--):Q||element.appendChild(f);for(i=Z.length;--i>-1;)Z[i].parentNode.removeChild(Z[i]);if($){for(Y&&(E=c.createElement(G),element.appendChild(E),C=E.offsetWidth+"px",A=E.offsetParent===element?0:element.offsetLeft,element.removeChild(E)),style=element.style.cssText,element.style.cssText="display:none;";element.firstChild;)element.removeChild(element.firstChild);for(w=" "===H&&(!Y||!Q&&!X),i=0;i<$.length;i++){for(_=$[i],(E=c.createElement(G)).style.cssText="display:block;text-align:"+B+";position:"+(Y?"absolute;":"relative;"),K&&(E.className=K+(J?i+1:"")),z.push(E),d=_.length,h=0;h<d;h++)"BR"!==_[h].nodeName&&(f=_[h],E.appendChild(f),w&&f._wordEnd&&E.appendChild(c.createTextNode(" ")),Y&&(0===h&&(E.style.top=f._y+"px",E.style.left=P+A+"px"),f.style.top="0px",A&&(f.style.left=f._x-A+"px")));0===d?E.innerHTML="&nbsp;":Q||X||(D(E),M(E,String.fromCharCode(160)," ")),Y&&(E.style.width=C,E.style.height=f._h+"px"),element.appendChild(E)}element.style.cssText=style}Y&&(l>element.clientHeight&&(element.style.height=l-R+"px",element.clientHeight<l&&(element.style.height=l+L+"px")),o>element.clientWidth&&(element.style.width=o-N+"px",element.clientWidth<o&&(element.style.width=o+I+"px"))),S(e,U),Q&&S(n,V),S(r,z)},A=function(element,t,e,n){var text,r,i,l,h,m,v,y,_=t.tag?t.tag:t.span?"span":"div",E=~(t.type||t.split||"chars,words,lines").indexOf("chars"),S=x(t),T=t.wordDelimiter||" ",D=" "!==T?"":S?"&#173; ":" ",O="</"+_+">",C=1,A=t.specialChars?"function"==typeof t.specialChars?t.specialChars:w:null,k=c.createElement("div"),P=element.parentNode;for(P.insertBefore(k,element),k.textContent=element.nodeValue,P.removeChild(element),v=-1!==(text=function t(e){var n=e.nodeType,r="";if(1===n||9===n||11===n){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)r+=t(e)}else if(3===n||4===n)return e.nodeValue;return r}(element=k)).indexOf("<"),!1!==t.reduceWhiteSpace&&(text=text.replace(f," ").replace(d,"")),v&&(text=text.split("<").join("{{LT}}")),h=text.length,r=(" "===text.charAt(0)?D:"")+e(),i=0;i<h;i++)if(m=text.charAt(i),A&&(y=A(text.substr(i),t.specialChars)))m=text.substr(i,y||1),r+=E&&" "!==m?n()+m+"</"+_+">":m,i+=y-1;else if(m===T&&text.charAt(i-1)!==T&&i){for(r+=C?O:"",C=0;text.charAt(i+1)===T;)r+=D,i++;i===h-1?r+=D:")"!==text.charAt(i+1)&&(r+=D+e(),C=1)}else"{"===m&&"{{LT}}"===text.substr(i,6)?(r+=E?n()+"{{LT}}</"+_+">":"{{LT}}",i+=5):m.charCodeAt(0)>=55296&&m.charCodeAt(0)<=56319||text.charCodeAt(i+1)>=65024&&text.charCodeAt(i+1)<=65039?(l=((text.substr(i,12).split(o)||[])[1]||"").length||2,r+=E&&" "!==m?n()+text.substr(i,l)+"</"+_+">":text.substr(i,l),i+=l-1):r+=E&&" "!==m?n()+m+"</"+_+">":m;element.outerHTML=r+(C?O:""),v&&M(P,"{{LT}}","<")},k=function t(element,e,n,r){var i,o,c=_(element.childNodes),l=c.length,h=x(e);if(3!==element.nodeType||l>1){for(e.absolute=!1,i=0;i<l;i++)(3!==(o=c[i]).nodeType||/\S+/.test(o.nodeValue))&&(h&&3!==o.nodeType&&"inline"===m(o).display&&(o.style.display="inline-block",o.style.position="relative"),o._isSplit=!0,t(o,e,n,r));return e.absolute=h,void(element._isSplit=!0)}A(element,e,n,r)},P=function(){function t(element,t){h||(c=document,l=window,h=1),this.elements=_(element),this.chars=[],this.words=[],this.lines=[],this._originals=[],this.vars=t||{},this.split(t)}var e=t.prototype;return e.split=function(t){this.isSplit&&this.revert(),this.vars=t=t||this.vars,this._originals.length=this.chars.length=this.words.length=this.lines.length=0;for(var e,n,r,i=this.elements.length,o=t.tag?t.tag:t.span?"span":"div",c=E(t.wordsClass,o),l=E(t.charsClass,o);--i>-1;)r=this.elements[i],this._originals[i]=r.innerHTML,e=r.clientHeight,n=r.clientWidth,k(r,t,c,l),C(r,t,this.chars,this.words,this.lines,n,e);return this.chars.reverse(),this.words.reverse(),this.lines.reverse(),this.isSplit=!0,this},e.revert=function(){var t=this._originals;if(!t)throw"revert() call wasn't scoped properly.";return this.elements.forEach((function(e,i){return e.innerHTML=t[i]})),this.chars=[],this.words=[],this.lines=[],this.isSplit=!1,this},t.create=function(element,e){return new t(element,e)},t}();P.version="3.5.1"},64:function(t,e,n){(function(t,r){var o;(function(){var c="Expected a function",l="__lodash_placeholder__",h=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],d="[object Arguments]",f="[object Array]",m="[object Boolean]",v="[object Date]",y="[object Error]",_="[object Function]",x="[object GeneratorFunction]",w="[object Map]",E="[object Number]",M="[object Object]",S="[object RegExp]",T="[object Set]",D="[object String]",O="[object Symbol]",C="[object WeakMap]",A="[object ArrayBuffer]",k="[object DataView]",P="[object Float32Array]",j="[object Float64Array]",L="[object Int8Array]",I="[object Int16Array]",R="[object Int32Array]",N="[object Uint8Array]",F="[object Uint16Array]",B="[object Uint32Array]",U=/\b__p \+= '';/g,V=/\b(__p \+=) '' \+/g,z=/(__e\(.*?\)|\b__t\)) \+\n'';/g,H=/&(?:amp|lt|gt|quot|#39);/g,G=/[&<>"']/g,W=RegExp(H.source),$=RegExp(G.source),Q=/<%-([\s\S]+?)%>/g,X=/<%([\s\S]+?)%>/g,Y=/<%=([\s\S]+?)%>/g,K=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,J=/^\w*$/,Z=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,tt=/[\\^$.*+?()[\]{}|]/g,et=RegExp(tt.source),nt=/^\s+|\s+$/g,it=/^\s+/,ot=/\s+$/,at=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,st=/\{\n\/\* \[wrapped with (.+)\] \*/,ut=/,? & /,ct=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,lt=/\\(\\)?/g,ht=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,pt=/\w*$/,ft=/^[-+]0x[0-9a-f]+$/i,mt=/^0b[01]+$/i,vt=/^\[object .+?Constructor\]$/,gt=/^0o[0-7]+$/i,yt=/^(?:0|[1-9]\d*)$/,_t=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,bt=/($^)/,xt=/['\n\r\u2028\u2029\\]/g,wt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Et="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Mt="[\\ud800-\\udfff]",St="["+Et+"]",Tt="["+wt+"]",Dt="\\d+",Ot="[\\u2700-\\u27bf]",Ct="[a-z\\xdf-\\xf6\\xf8-\\xff]",At="[^\\ud800-\\udfff"+Et+Dt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",kt="\\ud83c[\\udffb-\\udfff]",Pt="[^\\ud800-\\udfff]",jt="(?:\\ud83c[\\udde6-\\uddff]){2}",Lt="[\\ud800-\\udbff][\\udc00-\\udfff]",It="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Rt="(?:"+Ct+"|"+At+")",Nt="(?:"+It+"|"+At+")",Ft="(?:"+Tt+"|"+kt+")"+"?",Bt="[\\ufe0e\\ufe0f]?"+Ft+("(?:\\u200d(?:"+[Pt,jt,Lt].join("|")+")[\\ufe0e\\ufe0f]?"+Ft+")*"),Ut="(?:"+[Ot,jt,Lt].join("|")+")"+Bt,Vt="(?:"+[Pt+Tt+"?",Tt,jt,Lt,Mt].join("|")+")",zt=RegExp("[']","g"),Ht=RegExp(Tt,"g"),Gt=RegExp(kt+"(?="+kt+")|"+Vt+Bt,"g"),Wt=RegExp([It+"?"+Ct+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[St,It,"$"].join("|")+")",Nt+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[St,It+Rt,"$"].join("|")+")",It+"?"+Rt+"+(?:['](?:d|ll|m|re|s|t|ve))?",It+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Dt,Ut].join("|"),"g"),qt=RegExp("[\\u200d\\ud800-\\udfff"+wt+"\\ufe0e\\ufe0f]"),$t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Qt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Xt=-1,Yt={};Yt[P]=Yt[j]=Yt[L]=Yt[I]=Yt[R]=Yt[N]=Yt["[object Uint8ClampedArray]"]=Yt[F]=Yt[B]=!0,Yt[d]=Yt[f]=Yt[A]=Yt[m]=Yt[k]=Yt[v]=Yt[y]=Yt[_]=Yt[w]=Yt[E]=Yt[M]=Yt[S]=Yt[T]=Yt[D]=Yt[C]=!1;var Kt={};Kt[d]=Kt[f]=Kt[A]=Kt[k]=Kt[m]=Kt[v]=Kt[P]=Kt[j]=Kt[L]=Kt[I]=Kt[R]=Kt[w]=Kt[E]=Kt[M]=Kt[S]=Kt[T]=Kt[D]=Kt[O]=Kt[N]=Kt["[object Uint8ClampedArray]"]=Kt[F]=Kt[B]=!0,Kt[y]=Kt[_]=Kt[C]=!1;var Jt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Zt=parseFloat,te=parseInt,ee="object"==typeof t&&t&&t.Object===Object&&t,ne="object"==typeof self&&self&&self.Object===Object&&self,re=ee||ne||Function("return this")(),ie=e&&!e.nodeType&&e,oe=ie&&"object"==typeof r&&r&&!r.nodeType&&r,ae=oe&&oe.exports===ie,se=ae&&ee.process,ue=function(){try{var t=oe&&oe.require&&oe.require("util").types;return t||se&&se.binding&&se.binding("util")}catch(t){}}(),ce=ue&&ue.isArrayBuffer,le=ue&&ue.isDate,he=ue&&ue.isMap,pe=ue&&ue.isRegExp,de=ue&&ue.isSet,fe=ue&&ue.isTypedArray;function me(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function ve(t,e,n,r){for(var o=-1,c=null==t?0:t.length;++o<c;){var l=t[o];e(r,l,n(l),t)}return r}function ge(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function ye(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function _e(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function be(t,e){for(var n=-1,r=null==t?0:t.length,o=0,c=[];++n<r;){var l=t[n];e(l,n,t)&&(c[o++]=l)}return c}function xe(t,e){return!!(null==t?0:t.length)&&ke(t,e,0)>-1}function we(t,e,n){for(var r=-1,o=null==t?0:t.length;++r<o;)if(n(e,t[r]))return!0;return!1}function Ee(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}function Me(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}function Se(t,e,n,r){var o=-1,c=null==t?0:t.length;for(r&&c&&(n=t[++o]);++o<c;)n=e(n,t[o],o,t);return n}function Te(t,e,n,r){var o=null==t?0:t.length;for(r&&o&&(n=t[--o]);o--;)n=e(n,t[o],o,t);return n}function De(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Oe=Ie("length");function Ce(t,e,n){var r;return n(t,(function(t,n,o){if(e(t,n,o))return r=n,!1})),r}function Ae(t,e,n,r){for(var o=t.length,c=n+(r?1:-1);r?c--:++c<o;)if(e(t[c],c,t))return c;return-1}function ke(t,e,n){return e==e?function(t,e,n){var r=n-1,o=t.length;for(;++r<o;)if(t[r]===e)return r;return-1}(t,e,n):Ae(t,je,n)}function Pe(t,e,n,r){for(var o=n-1,c=t.length;++o<c;)if(r(t[o],e))return o;return-1}function je(t){return t!=t}function Le(t,e){var n=null==t?0:t.length;return n?Fe(t,e)/n:NaN}function Ie(t){return function(object){return null==object?void 0:object[t]}}function Re(object){return function(t){return null==object?void 0:object[t]}}function Ne(t,e,n,r,o){return o(t,(function(t,o,c){n=r?(r=!1,t):e(n,t,o,c)})),n}function Fe(t,e){for(var n,r=-1,o=t.length;++r<o;){var c=e(t[r]);void 0!==c&&(n=void 0===n?c:n+c)}return n}function Be(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Ue(t){return function(e){return t(e)}}function Ve(object,t){return Ee(t,(function(t){return object[t]}))}function ze(t,e){return t.has(e)}function He(t,e){for(var n=-1,r=t.length;++n<r&&ke(e,t[n],0)>-1;);return n}function Ge(t,e){for(var n=t.length;n--&&ke(e,t[n],0)>-1;);return n}function We(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var qe=Re({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),$e=Re({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Qe(t){return"\\"+Jt[t]}function Xe(t){return qt.test(t)}function Ye(map){var t=-1,e=Array(map.size);return map.forEach((function(n,r){e[++t]=[r,n]})),e}function Ke(t,e){return function(n){return t(e(n))}}function Je(t,e){for(var n=-1,r=t.length,o=0,c=[];++n<r;){var h=t[n];h!==e&&h!==l||(t[n]=l,c[o++]=n)}return c}function Ze(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function tn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function en(t){return Xe(t)?function(t){var e=Gt.lastIndex=0;for(;Gt.test(t);)++e;return e}(t):Oe(t)}function nn(t){return Xe(t)?function(t){return t.match(Gt)||[]}(t):function(t){return t.split("")}(t)}var rn=Re({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var on=function t(e){var n,r=(e=null==e?re:on.defaults(re.Object(),e,on.pick(re,Qt))).Array,o=e.Date,wt=e.Error,Et=e.Function,Mt=e.Math,St=e.Object,Tt=e.RegExp,Dt=e.String,Ot=e.TypeError,Ct=r.prototype,At=Et.prototype,kt=St.prototype,Pt=e["__core-js_shared__"],jt=At.toString,Lt=kt.hasOwnProperty,It=0,Rt=(n=/[^.]+$/.exec(Pt&&Pt.keys&&Pt.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Nt=kt.toString,Ft=jt.call(St),Bt=re._,Ut=Tt("^"+jt.call(Lt).replace(tt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Vt=ae?e.Buffer:void 0,Gt=e.Symbol,qt=e.Uint8Array,Jt=Vt?Vt.allocUnsafe:void 0,ee=Ke(St.getPrototypeOf,St),ne=St.create,ie=kt.propertyIsEnumerable,oe=Ct.splice,se=Gt?Gt.isConcatSpreadable:void 0,ue=Gt?Gt.iterator:void 0,Oe=Gt?Gt.toStringTag:void 0,Re=function(){try{var t=fo(St,"defineProperty");return t({},"",{}),t}catch(t){}}(),an=e.clearTimeout!==re.clearTimeout&&e.clearTimeout,sn=o&&o.now!==re.Date.now&&o.now,un=e.setTimeout!==re.setTimeout&&e.setTimeout,cn=Mt.ceil,ln=Mt.floor,hn=St.getOwnPropertySymbols,pn=Vt?Vt.isBuffer:void 0,dn=e.isFinite,fn=Ct.join,mn=Ke(St.keys,St),vn=Mt.max,gn=Mt.min,yn=o.now,_n=e.parseInt,bn=Mt.random,xn=Ct.reverse,wn=fo(e,"DataView"),En=fo(e,"Map"),Mn=fo(e,"Promise"),Sn=fo(e,"Set"),Tn=fo(e,"WeakMap"),Dn=fo(St,"create"),On=Tn&&new Tn,Cn={},An=Vo(wn),kn=Vo(En),Pn=Vo(Mn),jn=Vo(Sn),Ln=Vo(Tn),In=Gt?Gt.prototype:void 0,Rn=In?In.valueOf:void 0,Nn=In?In.toString:void 0;function Fn(t){if(ns(t)&&!Wa(t)&&!(t instanceof zn)){if(t instanceof Vn)return t;if(Lt.call(t,"__wrapped__"))return zo(t)}return new Vn(t)}var Bn=function(){function object(){}return function(t){if(!es(t))return{};if(ne)return ne(t);object.prototype=t;var e=new object;return object.prototype=void 0,e}}();function Un(){}function Vn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function zn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Hn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Gn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Wn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function qn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Wn;++e<n;)this.add(t[e])}function $n(t){var data=this.__data__=new Gn(t);this.size=data.size}function Qn(t,e){var n=Wa(t),r=!n&&Ga(t),o=!n&&!r&&Xa(t),c=!n&&!r&&!o&&ls(t),l=n||r||o||c,h=l?Be(t.length,Dt):[],d=h.length;for(var f in t)!e&&!Lt.call(t,f)||l&&("length"==f||o&&("offset"==f||"parent"==f)||c&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||xo(f,d))||h.push(f);return h}function Xn(t){var e=t.length;return e?t[Xr(0,e-1)]:void 0}function Yn(t,e){return Fo(ki(t),ar(e,0,t.length))}function Kn(t){return Fo(ki(t))}function Jn(object,t,e){(void 0!==e&&!Va(object[t],e)||void 0===e&&!(t in object))&&ir(object,t,e)}function Zn(object,t,e){var n=object[t];Lt.call(object,t)&&Va(n,e)&&(void 0!==e||t in object)||ir(object,t,e)}function er(t,e){for(var n=t.length;n--;)if(Va(t[n][0],e))return n;return-1}function nr(t,e,n,r){return pr(t,(function(t,o,c){e(r,t,n(t),c)})),r}function rr(object,source){return object&&Pi(source,Ps(source),object)}function ir(object,t,e){"__proto__"==t&&Re?Re(object,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):object[t]=e}function or(object,t){for(var e=-1,n=t.length,o=r(n),c=null==object;++e<n;)o[e]=c?void 0:Ds(object,t[e]);return o}function ar(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}function sr(t,e,n,r,object,o){var c,l=1&e,h=2&e,f=4&e;if(n&&(c=object?n(t,r,object,o):n(t)),void 0!==c)return c;if(!es(t))return t;var y=Wa(t);if(y){if(c=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&Lt.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!l)return ki(t,c)}else{var C=go(t),U=C==_||C==x;if(Xa(t))return Si(t,l);if(C==M||C==d||U&&!object){if(c=h||U?{}:_o(t),!l)return h?function(source,object){return Pi(source,vo(source),object)}(t,function(object,source){return object&&Pi(source,js(source),object)}(c,t)):function(source,object){return Pi(source,mo(source),object)}(t,rr(c,t))}else{if(!Kt[C])return object?t:{};c=function(object,t,e){var n=object.constructor;switch(t){case A:return Ti(object);case m:case v:return new n(+object);case k:return function(t,e){var n=e?Ti(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(object,e);case P:case j:case L:case I:case R:case N:case"[object Uint8ClampedArray]":case F:case B:return Di(object,e);case w:return new n;case E:case D:return new n(object);case S:return function(t){var e=new t.constructor(t.source,pt.exec(t));return e.lastIndex=t.lastIndex,e}(object);case T:return new n;case O:return symbol=object,Rn?St(Rn.call(symbol)):{}}var symbol}(t,C,l)}}o||(o=new $n);var V=o.get(t);if(V)return V;o.set(t,c),ss(t)?t.forEach((function(r){c.add(sr(r,e,n,r,t,o))})):rs(t)&&t.forEach((function(r,l){c.set(l,sr(r,e,n,l,t,o))}));var z=y?void 0:(f?h?ao:oo:h?js:Ps)(t);return ge(z||t,(function(r,l){z&&(r=t[l=r]),Zn(c,l,sr(r,e,n,l,t,o))})),c}function ur(object,source,t){var e=t.length;if(null==object)return!e;for(object=St(object);e--;){var n=t[e],r=source[n],o=object[n];if(void 0===o&&!(n in object)||!r(o))return!1}return!0}function cr(t,e,n){if("function"!=typeof t)throw new Ot(c);return Lo((function(){t.apply(void 0,n)}),e)}function lr(t,e,n,r){var o=-1,c=xe,l=!0,h=t.length,d=[],f=e.length;if(!h)return d;n&&(e=Ee(e,Ue(n))),r?(c=we,l=!1):e.length>=200&&(c=ze,l=!1,e=new qn(e));t:for(;++o<h;){var m=t[o],v=null==n?m:n(m);if(m=r||0!==m?m:0,l&&v==v){for(var y=f;y--;)if(e[y]===v)continue t;d.push(m)}else c(e,v,r)||d.push(m)}return d}Fn.templateSettings={escape:Q,evaluate:X,interpolate:Y,variable:"",imports:{_:Fn}},Fn.prototype=Un.prototype,Fn.prototype.constructor=Fn,Vn.prototype=Bn(Un.prototype),Vn.prototype.constructor=Vn,zn.prototype=Bn(Un.prototype),zn.prototype.constructor=zn,Hn.prototype.clear=function(){this.__data__=Dn?Dn(null):{},this.size=0},Hn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Hn.prototype.get=function(t){var data=this.__data__;if(Dn){var e=data[t];return"__lodash_hash_undefined__"===e?void 0:e}return Lt.call(data,t)?data[t]:void 0},Hn.prototype.has=function(t){var data=this.__data__;return Dn?void 0!==data[t]:Lt.call(data,t)},Hn.prototype.set=function(t,e){var data=this.__data__;return this.size+=this.has(t)?0:1,data[t]=Dn&&void 0===e?"__lodash_hash_undefined__":e,this},Gn.prototype.clear=function(){this.__data__=[],this.size=0},Gn.prototype.delete=function(t){var data=this.__data__,e=er(data,t);return!(e<0)&&(e==data.length-1?data.pop():oe.call(data,e,1),--this.size,!0)},Gn.prototype.get=function(t){var data=this.__data__,e=er(data,t);return e<0?void 0:data[e][1]},Gn.prototype.has=function(t){return er(this.__data__,t)>-1},Gn.prototype.set=function(t,e){var data=this.__data__,n=er(data,t);return n<0?(++this.size,data.push([t,e])):data[n][1]=e,this},Wn.prototype.clear=function(){this.size=0,this.__data__={hash:new Hn,map:new(En||Gn),string:new Hn}},Wn.prototype.delete=function(t){var e=ho(this,t).delete(t);return this.size-=e?1:0,e},Wn.prototype.get=function(t){return ho(this,t).get(t)},Wn.prototype.has=function(t){return ho(this,t).has(t)},Wn.prototype.set=function(t,e){var data=ho(this,t),n=data.size;return data.set(t,e),this.size+=data.size==n?0:1,this},qn.prototype.add=qn.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},qn.prototype.has=function(t){return this.__data__.has(t)},$n.prototype.clear=function(){this.__data__=new Gn,this.size=0},$n.prototype.delete=function(t){var data=this.__data__,e=data.delete(t);return this.size=data.size,e},$n.prototype.get=function(t){return this.__data__.get(t)},$n.prototype.has=function(t){return this.__data__.has(t)},$n.prototype.set=function(t,e){var data=this.__data__;if(data instanceof Gn){var n=data.__data__;if(!En||n.length<199)return n.push([t,e]),this.size=++data.size,this;data=this.__data__=new Wn(n)}return data.set(t,e),this.size=data.size,this};var pr=Ii(xr),dr=Ii(wr,!0);function fr(t,e){var n=!0;return pr(t,(function(t,r,o){return n=!!e(t,r,o)})),n}function mr(t,e,n){for(var r=-1,o=t.length;++r<o;){var c=t[r],l=e(c);if(null!=l&&(void 0===h?l==l&&!cs(l):n(l,h)))var h=l,d=c}return d}function vr(t,e){var n=[];return pr(t,(function(t,r,o){e(t,r,o)&&n.push(t)})),n}function gr(t,e,n,r,o){var c=-1,l=t.length;for(n||(n=bo),o||(o=[]);++c<l;){var h=t[c];e>0&&n(h)?e>1?gr(h,e-1,n,r,o):Me(o,h):r||(o[o.length]=h)}return o}var yr=Ri(),_r=Ri(!0);function xr(object,t){return object&&yr(object,t,Ps)}function wr(object,t){return object&&_r(object,t,Ps)}function Er(object,t){return be(t,(function(t){return Ja(object[t])}))}function Mr(object,path){for(var t=0,e=(path=xi(path,object)).length;null!=object&&t<e;)object=object[Uo(path[t++])];return t&&t==e?object:void 0}function Sr(object,t,e){var n=t(object);return Wa(object)?n:Me(n,e(object))}function Tr(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Oe&&Oe in St(t)?function(t){var e=Lt.call(t,Oe),n=t[Oe];try{t[Oe]=void 0;var r=!0}catch(t){}var o=Nt.call(t);r&&(e?t[Oe]=n:delete t[Oe]);return o}(t):function(t){return Nt.call(t)}(t)}function Dr(t,e){return t>e}function Or(object,t){return null!=object&&Lt.call(object,t)}function Cr(object,t){return null!=object&&t in St(object)}function Ar(t,e,n){for(var o=n?we:xe,c=t[0].length,l=t.length,h=l,d=r(l),f=1/0,m=[];h--;){var v=t[h];h&&e&&(v=Ee(v,Ue(e))),f=gn(v.length,f),d[h]=!n&&(e||c>=120&&v.length>=120)?new qn(h&&v):void 0}v=t[0];var y=-1,_=d[0];t:for(;++y<c&&m.length<f;){var x=v[y],w=e?e(x):x;if(x=n||0!==x?x:0,!(_?ze(_,w):o(m,w,n))){for(h=l;--h;){var E=d[h];if(!(E?ze(E,w):o(t[h],w,n)))continue t}_&&_.push(w),m.push(x)}}return m}function kr(object,path,t){var e=null==(object=Ao(object,path=xi(path,object)))?object:object[Uo(Jo(path))];return null==e?void 0:me(e,object,t)}function Pr(t){return ns(t)&&Tr(t)==d}function jr(t,e,n,r,o){return t===e||(null==t||null==e||!ns(t)&&!ns(e)?t!=t&&e!=e:function(object,t,e,n,r,o){var c=Wa(object),l=Wa(t),h=c?f:go(object),_=l?f:go(t),x=(h=h==d?M:h)==M,C=(_=_==d?M:_)==M,P=h==_;if(P&&Xa(object)){if(!Xa(t))return!1;c=!0,x=!1}if(P&&!x)return o||(o=new $n),c||ls(object)?ro(object,t,e,n,r,o):function(object,t,e,n,r,o,c){switch(e){case k:if(object.byteLength!=t.byteLength||object.byteOffset!=t.byteOffset)return!1;object=object.buffer,t=t.buffer;case A:return!(object.byteLength!=t.byteLength||!o(new qt(object),new qt(t)));case m:case v:case E:return Va(+object,+t);case y:return object.name==t.name&&object.message==t.message;case S:case D:return object==t+"";case w:var l=Ye;case T:var h=1&n;if(l||(l=Ze),object.size!=t.size&&!h)return!1;var d=c.get(object);if(d)return d==t;n|=2,c.set(object,t);var f=ro(l(object),l(t),n,r,o,c);return c.delete(object),f;case O:if(Rn)return Rn.call(object)==Rn.call(t)}return!1}(object,t,h,e,n,r,o);if(!(1&e)){var j=x&&Lt.call(object,"__wrapped__"),L=C&&Lt.call(t,"__wrapped__");if(j||L){var I=j?object.value():object,R=L?t.value():t;return o||(o=new $n),r(I,R,e,n,o)}}if(!P)return!1;return o||(o=new $n),function(object,t,e,n,r,o){var c=1&e,l=oo(object),h=l.length,d=oo(t).length;if(h!=d&&!c)return!1;var f=h;for(;f--;){var m=l[f];if(!(c?m in t:Lt.call(t,m)))return!1}var v=o.get(object),y=o.get(t);if(v&&y)return v==t&&y==object;var _=!0;o.set(object,t),o.set(t,object);var x=c;for(;++f<h;){m=l[f];var w=object[m],E=t[m];if(n)var M=c?n(E,w,m,t,object,o):n(w,E,m,object,t,o);if(!(void 0===M?w===E||r(w,E,e,n,o):M)){_=!1;break}x||(x="constructor"==m)}if(_&&!x){var S=object.constructor,T=t.constructor;S==T||!("constructor"in object)||!("constructor"in t)||"function"==typeof S&&S instanceof S&&"function"==typeof T&&T instanceof T||(_=!1)}return o.delete(object),o.delete(t),_}(object,t,e,n,r,o)}(t,e,n,r,jr,o))}function Lr(object,source,t,e){var n=t.length,r=n,o=!e;if(null==object)return!r;for(object=St(object);n--;){var data=t[n];if(o&&data[2]?data[1]!==object[data[0]]:!(data[0]in object))return!1}for(;++n<r;){var c=(data=t[n])[0],l=object[c],h=data[1];if(o&&data[2]){if(void 0===l&&!(c in object))return!1}else{var d=new $n;if(e)var f=e(l,h,c,object,source,d);if(!(void 0===f?jr(h,l,3,e,d):f))return!1}}return!0}function Ir(t){return!(!es(t)||(e=t,Rt&&Rt in e))&&(Ja(t)?Ut:vt).test(Vo(t));var e}function Rr(t){return"function"==typeof t?t:null==t?iu:"object"==typeof t?Wa(t)?zr(t[0],t[1]):Vr(t):du(t)}function Nr(object){if(!To(object))return mn(object);var t=[];for(var e in St(object))Lt.call(object,e)&&"constructor"!=e&&t.push(e);return t}function Fr(object){if(!es(object))return function(object){var t=[];if(null!=object)for(var e in St(object))t.push(e);return t}(object);var t=To(object),e=[];for(var n in object)("constructor"!=n||!t&&Lt.call(object,n))&&e.push(n);return e}function Br(t,e){return t<e}function Ur(t,e){var n=-1,o=$a(t)?r(t.length):[];return pr(t,(function(t,r,c){o[++n]=e(t,r,c)})),o}function Vr(source){var t=po(source);return 1==t.length&&t[0][2]?Oo(t[0][0],t[0][1]):function(object){return object===source||Lr(object,source,t)}}function zr(path,t){return Eo(path)&&Do(t)?Oo(Uo(path),t):function(object){var e=Ds(object,path);return void 0===e&&e===t?Os(object,path):jr(t,e,3)}}function Hr(object,source,t,e,n){object!==source&&yr(source,(function(r,o){if(n||(n=new $n),es(r))!function(object,source,t,e,n,r,o){var c=Po(object,t),l=Po(source,t),h=o.get(l);if(h)return void Jn(object,t,h);var d=r?r(c,l,t+"",object,source,o):void 0,f=void 0===d;if(f){var m=Wa(l),v=!m&&Xa(l),y=!m&&!v&&ls(l);d=l,m||v||y?Wa(c)?d=c:Qa(c)?d=ki(c):v?(f=!1,d=Si(l,!0)):y?(f=!1,d=Di(l,!0)):d=[]:os(l)||Ga(l)?(d=c,Ga(c)?d=ys(c):es(c)&&!Ja(c)||(d=_o(l))):f=!1}f&&(o.set(l,d),n(d,l,e,r,o),o.delete(l));Jn(object,t,d)}(object,source,o,t,Hr,e,n);else{var c=e?e(Po(object,o),r,o+"",object,source,n):void 0;void 0===c&&(c=r),Jn(object,o,c)}}),js)}function Gr(t,e){var n=t.length;if(n)return xo(e+=e<0?n:0,n)?t[e]:void 0}function Wr(t,e,n){e=e.length?Ee(e,(function(t){return Wa(t)?function(e){return Mr(e,1===t.length?t[0]:t)}:t})):[iu];var r=-1;return e=Ee(e,Ue(lo())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(Ur(t,(function(t,n,o){return{criteria:Ee(e,(function(e){return e(t)})),index:++r,value:t}})),(function(object,t){return function(object,t,e){var n=-1,r=object.criteria,o=t.criteria,c=r.length,l=e.length;for(;++n<c;){var h=Oi(r[n],o[n]);if(h){if(n>=l)return h;var d=e[n];return h*("desc"==d?-1:1)}}return object.index-t.index}(object,t,n)}))}function qr(object,t,e){for(var n=-1,r=t.length,o={};++n<r;){var path=t[n],c=Mr(object,path);e(c,path)&&ti(o,xi(path,object),c)}return o}function $r(t,e,n,r){var o=r?Pe:ke,c=-1,l=e.length,h=t;for(t===e&&(e=ki(e)),n&&(h=Ee(t,Ue(n)));++c<l;)for(var d=0,f=e[c],m=n?n(f):f;(d=o(h,m,d,r))>-1;)h!==t&&oe.call(h,d,1),oe.call(t,d,1);return t}function Qr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var o=e[n];if(n==r||o!==c){var c=o;xo(o)?oe.call(t,o,1):di(t,o)}}return t}function Xr(t,e){return t+ln(bn()*(e-t+1))}function Yr(t,e){var n="";if(!t||e<1||e>9007199254740991)return n;do{e%2&&(n+=t),(e=ln(e/2))&&(t+=t)}while(e);return n}function Kr(t,e){return Io(Co(t,e,iu),t+"")}function Jr(t){return Xn(Vs(t))}function Zr(t,e){var n=Vs(t);return Fo(n,ar(e,0,n.length))}function ti(object,path,t,e){if(!es(object))return object;for(var n=-1,r=(path=xi(path,object)).length,o=r-1,c=object;null!=c&&++n<r;){var l=Uo(path[n]),h=t;if("__proto__"===l||"constructor"===l||"prototype"===l)return object;if(n!=o){var d=c[l];void 0===(h=e?e(d,l,c):void 0)&&(h=es(d)?d:xo(path[n+1])?[]:{})}Zn(c,l,h),c=c[l]}return object}var ei=On?function(t,data){return On.set(t,data),t}:iu,ni=Re?function(t,e){return Re(t,"toString",{configurable:!0,enumerable:!1,value:eu(e),writable:!0})}:iu;function ri(t){return Fo(Vs(t))}function ii(t,e,n){var o=-1,c=t.length;e<0&&(e=-e>c?0:c+e),(n=n>c?c:n)<0&&(n+=c),c=e>n?0:n-e>>>0,e>>>=0;for(var l=r(c);++o<c;)l[o]=t[o+e];return l}function oi(t,e){var n;return pr(t,(function(t,r,o){return!(n=e(t,r,o))})),!!n}function ai(t,e,n){var r=0,o=null==t?r:t.length;if("number"==typeof e&&e==e&&o<=2147483647){for(;r<o;){var c=r+o>>>1,l=t[c];null!==l&&!cs(l)&&(n?l<=e:l<e)?r=c+1:o=c}return o}return si(t,e,iu,n)}function si(t,e,n,r){var o=0,c=null==t?0:t.length;if(0===c)return 0;for(var l=(e=n(e))!=e,h=null===e,d=cs(e),f=void 0===e;o<c;){var m=ln((o+c)/2),v=n(t[m]),y=void 0!==v,_=null===v,x=v==v,w=cs(v);if(l)var E=r||x;else E=f?x&&(r||y):h?x&&y&&(r||!_):d?x&&y&&!_&&(r||!w):!_&&!w&&(r?v<=e:v<e);E?o=m+1:c=m}return gn(c,4294967294)}function ui(t,e){for(var n=-1,r=t.length,o=0,c=[];++n<r;){var l=t[n],h=e?e(l):l;if(!n||!Va(h,d)){var d=h;c[o++]=0===l?0:l}}return c}function ci(t){return"number"==typeof t?t:cs(t)?NaN:+t}function hi(t){if("string"==typeof t)return t;if(Wa(t))return Ee(t,hi)+"";if(cs(t))return Nn?Nn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function pi(t,e,n){var r=-1,o=xe,c=t.length,l=!0,h=[],d=h;if(n)l=!1,o=we;else if(c>=200){var f=e?null:Ki(t);if(f)return Ze(f);l=!1,o=ze,d=new qn}else d=e?[]:h;t:for(;++r<c;){var m=t[r],v=e?e(m):m;if(m=n||0!==m?m:0,l&&v==v){for(var y=d.length;y--;)if(d[y]===v)continue t;e&&d.push(v),h.push(m)}else o(d,v,n)||(d!==h&&d.push(v),h.push(m))}return h}function di(object,path){return null==(object=Ao(object,path=xi(path,object)))||delete object[Uo(Jo(path))]}function fi(object,path,t,e){return ti(object,path,t(Mr(object,path)),e)}function mi(t,e,n,r){for(var o=t.length,c=r?o:-1;(r?c--:++c<o)&&e(t[c],c,t););return n?ii(t,r?0:c,r?c+1:o):ii(t,r?c+1:0,r?o:c)}function vi(t,e){var n=t;return n instanceof zn&&(n=n.value()),Se(e,(function(t,e){return e.func.apply(e.thisArg,Me([t],e.args))}),n)}function gi(t,e,n){var o=t.length;if(o<2)return o?pi(t[0]):[];for(var c=-1,l=r(o);++c<o;)for(var h=t[c],d=-1;++d<o;)d!=c&&(l[c]=lr(l[c]||h,t[d],e,n));return pi(gr(l,1),e,n)}function yi(t,e,n){for(var r=-1,o=t.length,c=e.length,l={};++r<o;){var h=r<c?e[r]:void 0;n(l,t[r],h)}return l}function _i(t){return Qa(t)?t:[]}function bi(t){return"function"==typeof t?t:iu}function xi(t,object){return Wa(t)?t:Eo(t,object)?[t]:Bo(_s(t))}var wi=Kr;function Ei(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:ii(t,e,n)}var Mi=an||function(t){return re.clearTimeout(t)};function Si(t,e){if(e)return t.slice();var n=t.length,r=Jt?Jt(n):new t.constructor(n);return t.copy(r),r}function Ti(t){var e=new t.constructor(t.byteLength);return new qt(e).set(new qt(t)),e}function Di(t,e){var n=e?Ti(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Oi(t,e){if(t!==e){var n=void 0!==t,r=null===t,o=t==t,c=cs(t),l=void 0!==e,h=null===e,d=e==e,f=cs(e);if(!h&&!f&&!c&&t>e||c&&l&&d&&!h&&!f||r&&l&&d||!n&&d||!o)return 1;if(!r&&!c&&!f&&t<e||f&&n&&o&&!r&&!c||h&&n&&o||!l&&o||!d)return-1}return 0}function Ci(t,e,n,o){for(var c=-1,l=t.length,h=n.length,d=-1,f=e.length,m=vn(l-h,0),v=r(f+m),y=!o;++d<f;)v[d]=e[d];for(;++c<h;)(y||c<l)&&(v[n[c]]=t[c]);for(;m--;)v[d++]=t[c++];return v}function Ai(t,e,n,o){for(var c=-1,l=t.length,h=-1,d=n.length,f=-1,m=e.length,v=vn(l-d,0),y=r(v+m),_=!o;++c<v;)y[c]=t[c];for(var x=c;++f<m;)y[x+f]=e[f];for(;++h<d;)(_||c<l)&&(y[x+n[h]]=t[c++]);return y}function ki(source,t){var e=-1,n=source.length;for(t||(t=r(n));++e<n;)t[e]=source[e];return t}function Pi(source,t,object,e){var n=!object;object||(object={});for(var r=-1,o=t.length;++r<o;){var c=t[r],l=e?e(object[c],source[c],c,object,source):void 0;void 0===l&&(l=source[c]),n?ir(object,c,l):Zn(object,c,l)}return object}function ji(t,e){return function(n,r){var o=Wa(n)?ve:nr,c=e?e():{};return o(n,t,lo(r,2),c)}}function Li(t){return Kr((function(object,e){var n=-1,r=e.length,o=r>1?e[r-1]:void 0,c=r>2?e[2]:void 0;for(o=t.length>3&&"function"==typeof o?(r--,o):void 0,c&&wo(e[0],e[1],c)&&(o=r<3?void 0:o,r=1),object=St(object);++n<r;){var source=e[n];source&&t(object,source,n,o)}return object}))}function Ii(t,e){return function(n,r){if(null==n)return n;if(!$a(n))return t(n,r);for(var o=n.length,c=e?o:-1,l=St(n);(e?c--:++c<o)&&!1!==r(l[c],c,l););return n}}function Ri(t){return function(object,e,n){for(var r=-1,o=St(object),c=n(object),l=c.length;l--;){var h=c[t?l:++r];if(!1===e(o[h],h,o))break}return object}}function Ni(t){return function(e){var n=Xe(e=_s(e))?nn(e):void 0,r=n?n[0]:e.charAt(0),o=n?Ei(n,1).join(""):e.slice(1);return r[t]()+o}}function Fi(t){return function(e){return Se(Js(Gs(e).replace(zt,"")),t,"")}}function Bi(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Bn(t.prototype),r=t.apply(n,e);return es(r)?r:n}}function Ui(t){return function(e,n,r){var o=St(e);if(!$a(e)){var c=lo(n,3);e=Ps(e),n=function(t){return c(o[t],t,o)}}var l=t(e,n,r);return l>-1?o[c?e[l]:l]:void 0}}function Vi(t){return io((function(e){var n=e.length,r=n,o=Vn.prototype.thru;for(t&&e.reverse();r--;){var l=e[r];if("function"!=typeof l)throw new Ot(c);if(o&&!h&&"wrapper"==uo(l))var h=new Vn([],!0)}for(r=h?r:n;++r<n;){var d=uo(l=e[r]),data="wrapper"==d?so(l):void 0;h=data&&Mo(data[0])&&424==data[1]&&!data[4].length&&1==data[9]?h[uo(data[0])].apply(h,data[3]):1==l.length&&Mo(l)?h[d]():h.thru(l)}return function(){var t=arguments,r=t[0];if(h&&1==t.length&&Wa(r))return h.plant(r).value();for(var o=0,c=n?e[o].apply(this,t):r;++o<n;)c=e[o].call(this,c);return c}}))}function zi(t,e,n,o,c,l,h,d,f,m){var v=128&e,y=1&e,_=2&e,x=24&e,w=512&e,E=_?void 0:Bi(t);return function M(){for(var S=arguments.length,T=r(S),D=S;D--;)T[D]=arguments[D];if(x)var O=co(M),C=We(T,O);if(o&&(T=Ci(T,o,c,x)),l&&(T=Ai(T,l,h,x)),S-=C,x&&S<m){var A=Je(T,O);return Xi(t,e,zi,M.placeholder,n,T,A,d,f,m-S)}var k=y?n:this,P=_?k[t]:t;return S=T.length,d?T=ko(T,d):w&&S>1&&T.reverse(),v&&f<S&&(T.length=f),this&&this!==re&&this instanceof M&&(P=E||Bi(P)),P.apply(k,T)}}function Hi(t,e){return function(object,n){return function(object,t,e,n){return xr(object,(function(r,o,object){t(n,e(r),o,object)})),n}(object,t,e(n),{})}}function Gi(t,e){return function(n,r){var o;if(void 0===n&&void 0===r)return e;if(void 0!==n&&(o=n),void 0!==r){if(void 0===o)return r;"string"==typeof n||"string"==typeof r?(n=hi(n),r=hi(r)):(n=ci(n),r=ci(r)),o=t(n,r)}return o}}function Wi(t){return io((function(e){return e=Ee(e,Ue(lo())),Kr((function(n){var r=this;return t(e,(function(t){return me(t,r,n)}))}))}))}function qi(t,e){var n=(e=void 0===e?" ":hi(e)).length;if(n<2)return n?Yr(e,t):e;var r=Yr(e,cn(t/en(e)));return Xe(e)?Ei(nn(r),0,t).join(""):r.slice(0,t)}function $i(t){return function(e,n,o){return o&&"number"!=typeof o&&wo(e,n,o)&&(n=o=void 0),e=fs(e),void 0===n?(n=e,e=0):n=fs(n),function(t,e,n,o){for(var c=-1,l=vn(cn((e-t)/(n||1)),0),h=r(l);l--;)h[o?l:++c]=t,t+=n;return h}(e,n,o=void 0===o?e<n?1:-1:fs(o),t)}}function Qi(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=gs(e),n=gs(n)),t(e,n)}}function Xi(t,e,n,r,o,c,l,h,d,f){var m=8&e;e|=m?32:64,4&(e&=~(m?64:32))||(e&=-4);var v=[t,e,o,m?c:void 0,m?l:void 0,m?void 0:c,m?void 0:l,h,d,f],y=n.apply(void 0,v);return Mo(t)&&jo(y,v),y.placeholder=r,Ro(y,t,e)}function Yi(t){var e=Mt[t];return function(t,n){if(t=gs(t),(n=null==n?0:gn(ms(n),292))&&dn(t)){var r=(_s(t)+"e").split("e");return+((r=(_s(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Ki=Sn&&1/Ze(new Sn([,-0]))[1]==1/0?function(t){return new Sn(t)}:cu;function Ji(t){return function(object){var e=go(object);return e==w?Ye(object):e==T?tn(object):function(object,t){return Ee(t,(function(t){return[t,object[t]]}))}(object,t(object))}}function Zi(t,e,n,o,h,d,f,m){var v=2&e;if(!v&&"function"!=typeof t)throw new Ot(c);var y=o?o.length:0;if(y||(e&=-97,o=h=void 0),f=void 0===f?f:vn(ms(f),0),m=void 0===m?m:ms(m),y-=h?h.length:0,64&e){var _=o,x=h;o=h=void 0}var data=v?void 0:so(t),w=[t,e,n,o,h,_,x,d,f,m];if(data&&function(data,source){var t=data[1],e=source[1],n=t|e,r=n<131,o=128==e&&8==t||128==e&&256==t&&data[7].length<=source[8]||384==e&&source[7].length<=source[8]&&8==t;if(!r&&!o)return data;1&e&&(data[2]=source[2],n|=1&t?0:4);var c=source[3];if(c){var h=data[3];data[3]=h?Ci(h,c,source[4]):c,data[4]=h?Je(data[3],l):source[4]}(c=source[5])&&(h=data[5],data[5]=h?Ai(h,c,source[6]):c,data[6]=h?Je(data[5],l):source[6]);(c=source[7])&&(data[7]=c);128&e&&(data[8]=null==data[8]?source[8]:gn(data[8],source[8]));null==data[9]&&(data[9]=source[9]);data[0]=source[0],data[1]=n}(w,data),t=w[0],e=w[1],n=w[2],o=w[3],h=w[4],!(m=w[9]=void 0===w[9]?v?0:t.length:vn(w[9]-y,0))&&24&e&&(e&=-25),e&&1!=e)E=8==e||16==e?function(t,e,n){var o=Bi(t);return function c(){for(var l=arguments.length,h=r(l),d=l,f=co(c);d--;)h[d]=arguments[d];var m=l<3&&h[0]!==f&&h[l-1]!==f?[]:Je(h,f);if((l-=m.length)<n)return Xi(t,e,zi,c.placeholder,void 0,h,m,void 0,void 0,n-l);var v=this&&this!==re&&this instanceof c?o:t;return me(v,this,h)}}(t,e,m):32!=e&&33!=e||h.length?zi.apply(void 0,w):function(t,e,n,o){var c=1&e,l=Bi(t);return function e(){for(var h=-1,d=arguments.length,f=-1,m=o.length,v=r(m+d),y=this&&this!==re&&this instanceof e?l:t;++f<m;)v[f]=o[f];for(;d--;)v[f++]=arguments[++h];return me(y,c?n:this,v)}}(t,e,n,o);else var E=function(t,e,n){var r=1&e,o=Bi(t);return function e(){var c=this&&this!==re&&this instanceof e?o:t;return c.apply(r?n:this,arguments)}}(t,e,n);return Ro((data?ei:jo)(E,w),t,e)}function to(t,e,n,object){return void 0===t||Va(t,kt[n])&&!Lt.call(object,n)?e:t}function eo(t,e,n,object,source,r){return es(t)&&es(e)&&(r.set(e,t),Hr(t,e,void 0,eo,r),r.delete(e)),t}function no(t){return os(t)?void 0:t}function ro(t,e,n,r,o,c){var l=1&n,h=t.length,d=e.length;if(h!=d&&!(l&&d>h))return!1;var f=c.get(t),m=c.get(e);if(f&&m)return f==e&&m==t;var v=-1,y=!0,_=2&n?new qn:void 0;for(c.set(t,e),c.set(e,t);++v<h;){var x=t[v],w=e[v];if(r)var E=l?r(w,x,v,e,t,c):r(x,w,v,t,e,c);if(void 0!==E){if(E)continue;y=!1;break}if(_){if(!De(e,(function(t,e){if(!ze(_,e)&&(x===t||o(x,t,n,r,c)))return _.push(e)}))){y=!1;break}}else if(x!==w&&!o(x,w,n,r,c)){y=!1;break}}return c.delete(t),c.delete(e),y}function io(t){return Io(Co(t,void 0,Qo),t+"")}function oo(object){return Sr(object,Ps,mo)}function ao(object){return Sr(object,js,vo)}var so=On?function(t){return On.get(t)}:cu;function uo(t){for(var e=t.name+"",n=Cn[e],r=Lt.call(Cn,e)?n.length:0;r--;){var data=n[r],o=data.func;if(null==o||o==t)return data.name}return e}function co(t){return(Lt.call(Fn,"placeholder")?Fn:t).placeholder}function lo(){var t=Fn.iteratee||ou;return t=t===ou?Rr:t,arguments.length?t(arguments[0],arguments[1]):t}function ho(map,t){var e,n,data=map.__data__;return("string"==(n=typeof(e=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==e:null===e)?data["string"==typeof t?"string":"hash"]:data.map}function po(object){for(var t=Ps(object),e=t.length;e--;){var n=t[e],r=object[n];t[e]=[n,r,Do(r)]}return t}function fo(object,t){var e=function(object,t){return null==object?void 0:object[t]}(object,t);return Ir(e)?e:void 0}var mo=hn?function(object){return null==object?[]:(object=St(object),be(hn(object),(function(symbol){return ie.call(object,symbol)})))}:vu,vo=hn?function(object){for(var t=[];object;)Me(t,mo(object)),object=ee(object);return t}:vu,go=Tr;function yo(object,path,t){for(var e=-1,n=(path=xi(path,object)).length,r=!1;++e<n;){var o=Uo(path[e]);if(!(r=null!=object&&t(object,o)))break;object=object[o]}return r||++e!=n?r:!!(n=null==object?0:object.length)&&ts(n)&&xo(o,n)&&(Wa(object)||Ga(object))}function _o(object){return"function"!=typeof object.constructor||To(object)?{}:Bn(ee(object))}function bo(t){return Wa(t)||Ga(t)||!!(se&&t&&t[se])}function xo(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&yt.test(t))&&t>-1&&t%1==0&&t<e}function wo(t,e,object){if(!es(object))return!1;var n=typeof e;return!!("number"==n?$a(object)&&xo(e,object.length):"string"==n&&e in object)&&Va(object[e],t)}function Eo(t,object){if(Wa(t))return!1;var e=typeof t;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!cs(t))||(J.test(t)||!K.test(t)||null!=object&&t in St(object))}function Mo(t){var e=uo(t),n=Fn[e];if("function"!=typeof n||!(e in zn.prototype))return!1;if(t===n)return!0;var data=so(n);return!!data&&t===data[0]}(wn&&go(new wn(new ArrayBuffer(1)))!=k||En&&go(new En)!=w||Mn&&"[object Promise]"!=go(Mn.resolve())||Sn&&go(new Sn)!=T||Tn&&go(new Tn)!=C)&&(go=function(t){var e=Tr(t),n=e==M?t.constructor:void 0,r=n?Vo(n):"";if(r)switch(r){case An:return k;case kn:return w;case Pn:return"[object Promise]";case jn:return T;case Ln:return C}return e});var So=Pt?Ja:gu;function To(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||kt)}function Do(t){return t==t&&!es(t)}function Oo(t,e){return function(object){return null!=object&&(object[t]===e&&(void 0!==e||t in St(object)))}}function Co(t,e,n){return e=vn(void 0===e?t.length-1:e,0),function(){for(var o=arguments,c=-1,l=vn(o.length-e,0),h=r(l);++c<l;)h[c]=o[e+c];c=-1;for(var d=r(e+1);++c<e;)d[c]=o[c];return d[e]=n(h),me(t,this,d)}}function Ao(object,path){return path.length<2?object:Mr(object,ii(path,0,-1))}function ko(t,e){for(var n=t.length,r=gn(e.length,n),o=ki(t);r--;){var c=e[r];t[r]=xo(c,n)?o[c]:void 0}return t}function Po(object,t){if(("constructor"!==t||"function"!=typeof object[t])&&"__proto__"!=t)return object[t]}var jo=No(ei),Lo=un||function(t,e){return re.setTimeout(t,e)},Io=No(ni);function Ro(t,e,n){var source=e+"";return Io(t,function(source,details){var t=details.length;if(!t)return source;var e=t-1;return details[e]=(t>1?"& ":"")+details[e],details=details.join(t>2?", ":" "),source.replace(at,"{\n/* [wrapped with "+details+"] */\n")}(source,function(details,t){return ge(h,(function(e){var n="_."+e[0];t&e[1]&&!xe(details,n)&&details.push(n)})),details.sort()}(function(source){var t=source.match(st);return t?t[1].split(ut):[]}(source),n)))}function No(t){var e=0,n=0;return function(){var r=yn(),o=16-(r-n);if(n=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Fo(t,e){var n=-1,r=t.length,o=r-1;for(e=void 0===e?r:e;++n<e;){var c=Xr(n,o),l=t[c];t[c]=t[n],t[n]=l}return t.length=e,t}var Bo=function(t){var e=Ia(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Z,(function(t,n,r,o){e.push(r?o.replace(lt,"$1"):n||t)})),e}));function Uo(t){if("string"==typeof t||cs(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Vo(t){if(null!=t){try{return jt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function zo(t){if(t instanceof zn)return t.clone();var e=new Vn(t.__wrapped__,t.__chain__);return e.__actions__=ki(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Ho=Kr((function(t,e){return Qa(t)?lr(t,gr(e,1,Qa,!0)):[]})),Go=Kr((function(t,e){var n=Jo(e);return Qa(n)&&(n=void 0),Qa(t)?lr(t,gr(e,1,Qa,!0),lo(n,2)):[]})),Wo=Kr((function(t,e){var n=Jo(e);return Qa(n)&&(n=void 0),Qa(t)?lr(t,gr(e,1,Qa,!0),void 0,n):[]}));function qo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=null==n?0:ms(n);return o<0&&(o=vn(r+o,0)),Ae(t,lo(e,3),o)}function $o(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r-1;return void 0!==n&&(o=ms(n),o=n<0?vn(r+o,0):gn(o,r-1)),Ae(t,lo(e,3),o,!0)}function Qo(t){return(null==t?0:t.length)?gr(t,1):[]}function head(t){return t&&t.length?t[0]:void 0}var Xo=Kr((function(t){var e=Ee(t,_i);return e.length&&e[0]===t[0]?Ar(e):[]})),Yo=Kr((function(t){var e=Jo(t),n=Ee(t,_i);return e===Jo(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?Ar(n,lo(e,2)):[]})),Ko=Kr((function(t){var e=Jo(t),n=Ee(t,_i);return(e="function"==typeof e?e:void 0)&&n.pop(),n.length&&n[0]===t[0]?Ar(n,void 0,e):[]}));function Jo(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var Zo=Kr(ta);function ta(t,e){return t&&t.length&&e&&e.length?$r(t,e):t}var ea=io((function(t,e){var n=null==t?0:t.length,r=or(t,e);return Qr(t,Ee(e,(function(t){return xo(t,n)?+t:t})).sort(Oi)),r}));function na(t){return null==t?t:xn.call(t)}var ra=Kr((function(t){return pi(gr(t,1,Qa,!0))})),ia=Kr((function(t){var e=Jo(t);return Qa(e)&&(e=void 0),pi(gr(t,1,Qa,!0),lo(e,2))})),oa=Kr((function(t){var e=Jo(t);return e="function"==typeof e?e:void 0,pi(gr(t,1,Qa,!0),void 0,e)}));function aa(t){if(!t||!t.length)return[];var e=0;return t=be(t,(function(t){if(Qa(t))return e=vn(t.length,e),!0})),Be(e,(function(e){return Ee(t,Ie(e))}))}function sa(t,e){if(!t||!t.length)return[];var n=aa(t);return null==e?n:Ee(n,(function(t){return me(e,void 0,t)}))}var ua=Kr((function(t,e){return Qa(t)?lr(t,e):[]})),ca=Kr((function(t){return gi(be(t,Qa))})),la=Kr((function(t){var e=Jo(t);return Qa(e)&&(e=void 0),gi(be(t,Qa),lo(e,2))})),ha=Kr((function(t){var e=Jo(t);return e="function"==typeof e?e:void 0,gi(be(t,Qa),void 0,e)})),pa=Kr(aa);var da=Kr((function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n="function"==typeof n?(t.pop(),n):void 0,sa(t,n)}));function fa(t){var e=Fn(t);return e.__chain__=!0,e}function ma(t,e){return e(t)}var va=io((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,o=function(object){return or(object,t)};return!(e>1||this.__actions__.length)&&r instanceof zn&&xo(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:ma,args:[o],thisArg:void 0}),new Vn(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(o)}));var ga=ji((function(t,e,n){Lt.call(t,n)?++t[n]:ir(t,n,1)}));var ya=Ui(qo),_a=Ui($o);function ba(t,e){return(Wa(t)?ge:pr)(t,lo(e,3))}function xa(t,e){return(Wa(t)?ye:dr)(t,lo(e,3))}var wa=ji((function(t,e,n){Lt.call(t,n)?t[n].push(e):ir(t,n,[e])}));var Ea=Kr((function(t,path,e){var n=-1,o="function"==typeof path,c=$a(t)?r(t.length):[];return pr(t,(function(t){c[++n]=o?me(path,t,e):kr(t,path,e)})),c})),Ma=ji((function(t,e,n){ir(t,n,e)}));function map(t,e){return(Wa(t)?Ee:Ur)(t,lo(e,3))}var Sa=ji((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var Ta=Kr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&wo(t,e[0],e[1])?e=[]:n>2&&wo(e[0],e[1],e[2])&&(e=[e[0]]),Wr(t,gr(e,1),[])})),Da=sn||function(){return re.Date.now()};function Oa(t,e,n){return e=n?void 0:e,Zi(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function Ca(t,e){var n;if("function"!=typeof e)throw new Ot(c);return t=ms(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var Aa=Kr((function(t,e,n){var r=1;if(n.length){var o=Je(n,co(Aa));r|=32}return Zi(t,r,e,n,o)})),ka=Kr((function(object,t,e){var n=3;if(e.length){var r=Je(e,co(ka));n|=32}return Zi(t,n,object,e,r)}));function Pa(t,e,n){var r,o,l,h,d,f,m=0,v=!1,y=!1,_=!0;if("function"!=typeof t)throw new Ot(c);function x(time){var e=r,n=o;return r=o=void 0,m=time,h=t.apply(n,e)}function w(time){return m=time,d=Lo(M,e),v?x(time):h}function E(time){var t=time-f;return void 0===f||t>=e||t<0||y&&time-m>=l}function M(){var time=Da();if(E(time))return S(time);d=Lo(M,function(time){var t=e-(time-f);return y?gn(t,l-(time-m)):t}(time))}function S(time){return d=void 0,_&&r?x(time):(r=o=void 0,h)}function T(){var time=Da(),t=E(time);if(r=arguments,o=this,f=time,t){if(void 0===d)return w(f);if(y)return Mi(d),d=Lo(M,e),x(f)}return void 0===d&&(d=Lo(M,e)),h}return e=gs(e)||0,es(n)&&(v=!!n.leading,l=(y="maxWait"in n)?vn(gs(n.maxWait)||0,e):l,_="trailing"in n?!!n.trailing:_),T.cancel=function(){void 0!==d&&Mi(d),m=0,r=f=o=d=void 0},T.flush=function(){return void 0===d?h:S(Da())},T}var ja=Kr((function(t,e){return cr(t,1,e)})),La=Kr((function(t,e,n){return cr(t,gs(e)||0,n)}));function Ia(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Ot(c);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],c=n.cache;if(c.has(o))return c.get(o);var l=t.apply(this,r);return n.cache=c.set(o,l)||c,l};return n.cache=new(Ia.Cache||Wn),n}function Ra(t){if("function"!=typeof t)throw new Ot(c);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Ia.Cache=Wn;var Na=wi((function(t,e){var n=(e=1==e.length&&Wa(e[0])?Ee(e[0],Ue(lo())):Ee(gr(e,1),Ue(lo()))).length;return Kr((function(r){for(var o=-1,c=gn(r.length,n);++o<c;)r[o]=e[o].call(this,r[o]);return me(t,this,r)}))})),Fa=Kr((function(t,e){return Zi(t,32,void 0,e,Je(e,co(Fa)))})),Ba=Kr((function(t,e){return Zi(t,64,void 0,e,Je(e,co(Ba)))})),Ua=io((function(t,e){return Zi(t,256,void 0,void 0,void 0,e)}));function Va(t,e){return t===e||t!=t&&e!=e}var za=Qi(Dr),Ha=Qi((function(t,e){return t>=e})),Ga=Pr(function(){return arguments}())?Pr:function(t){return ns(t)&&Lt.call(t,"callee")&&!ie.call(t,"callee")},Wa=r.isArray,qa=ce?Ue(ce):function(t){return ns(t)&&Tr(t)==A};function $a(t){return null!=t&&ts(t.length)&&!Ja(t)}function Qa(t){return ns(t)&&$a(t)}var Xa=pn||gu,Ya=le?Ue(le):function(t){return ns(t)&&Tr(t)==v};function Ka(t){if(!ns(t))return!1;var e=Tr(t);return e==y||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!os(t)}function Ja(t){if(!es(t))return!1;var e=Tr(t);return e==_||e==x||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Za(t){return"number"==typeof t&&t==ms(t)}function ts(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function es(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ns(t){return null!=t&&"object"==typeof t}var rs=he?Ue(he):function(t){return ns(t)&&go(t)==w};function is(t){return"number"==typeof t||ns(t)&&Tr(t)==E}function os(t){if(!ns(t)||Tr(t)!=M)return!1;var e=ee(t);if(null===e)return!0;var n=Lt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&jt.call(n)==Ft}var as=pe?Ue(pe):function(t){return ns(t)&&Tr(t)==S};var ss=de?Ue(de):function(t){return ns(t)&&go(t)==T};function us(t){return"string"==typeof t||!Wa(t)&&ns(t)&&Tr(t)==D}function cs(t){return"symbol"==typeof t||ns(t)&&Tr(t)==O}var ls=fe?Ue(fe):function(t){return ns(t)&&ts(t.length)&&!!Yt[Tr(t)]};var hs=Qi(Br),ps=Qi((function(t,e){return t<=e}));function ds(t){if(!t)return[];if($a(t))return us(t)?nn(t):ki(t);if(ue&&t[ue])return function(t){for(var data,e=[];!(data=t.next()).done;)e.push(data.value);return e}(t[ue]());var e=go(t);return(e==w?Ye:e==T?Ze:Vs)(t)}function fs(t){return t?(t=gs(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function ms(t){var e=fs(t),n=e%1;return e==e?n?e-n:e:0}function vs(t){return t?ar(ms(t),0,4294967295):0}function gs(t){if("number"==typeof t)return t;if(cs(t))return NaN;if(es(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=es(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(nt,"");var n=mt.test(t);return n||gt.test(t)?te(t.slice(2),n?2:8):ft.test(t)?NaN:+t}function ys(t){return Pi(t,js(t))}function _s(t){return null==t?"":hi(t)}var bs=Li((function(object,source){if(To(source)||$a(source))Pi(source,Ps(source),object);else for(var t in source)Lt.call(source,t)&&Zn(object,t,source[t])})),xs=Li((function(object,source){Pi(source,js(source),object)})),ws=Li((function(object,source,t,e){Pi(source,js(source),object,e)})),Es=Li((function(object,source,t,e){Pi(source,Ps(source),object,e)})),Ms=io(or);var Ss=Kr((function(object,t){object=St(object);var e=-1,n=t.length,r=n>2?t[2]:void 0;for(r&&wo(t[0],t[1],r)&&(n=1);++e<n;)for(var source=t[e],o=js(source),c=-1,l=o.length;++c<l;){var h=o[c],d=object[h];(void 0===d||Va(d,kt[h])&&!Lt.call(object,h))&&(object[h]=source[h])}return object})),Ts=Kr((function(t){return t.push(void 0,eo),me(Is,void 0,t)}));function Ds(object,path,t){var e=null==object?void 0:Mr(object,path);return void 0===e?t:e}function Os(object,path){return null!=object&&yo(object,path,Cr)}var Cs=Hi((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Nt.call(e)),t[e]=n}),eu(iu)),As=Hi((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Nt.call(e)),Lt.call(t,e)?t[e].push(n):t[e]=[n]}),lo),ks=Kr(kr);function Ps(object){return $a(object)?Qn(object):Nr(object)}function js(object){return $a(object)?Qn(object,!0):Fr(object)}var Ls=Li((function(object,source,t){Hr(object,source,t)})),Is=Li((function(object,source,t,e){Hr(object,source,t,e)})),Rs=io((function(object,t){var e={};if(null==object)return e;var n=!1;t=Ee(t,(function(path){return path=xi(path,object),n||(n=path.length>1),path})),Pi(object,ao(object),e),n&&(e=sr(e,7,no));for(var r=t.length;r--;)di(e,t[r]);return e}));var Ns=io((function(object,t){return null==object?{}:function(object,t){return qr(object,t,(function(t,path){return Os(object,path)}))}(object,t)}));function Fs(object,t){if(null==object)return{};var e=Ee(ao(object),(function(t){return[t]}));return t=lo(t),qr(object,e,(function(e,path){return t(e,path[0])}))}var Bs=Ji(Ps),Us=Ji(js);function Vs(object){return null==object?[]:Ve(object,Ps(object))}var zs=Fi((function(t,e,n){return e=e.toLowerCase(),t+(n?Hs(e):e)}));function Hs(t){return Ks(_s(t).toLowerCase())}function Gs(t){return(t=_s(t))&&t.replace(_t,qe).replace(Ht,"")}var Ws=Fi((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),qs=Fi((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),$s=Ni("toLowerCase");var Qs=Fi((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var Xs=Fi((function(t,e,n){return t+(n?" ":"")+Ks(e)}));var Ys=Fi((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Ks=Ni("toUpperCase");function Js(t,pattern,e){return t=_s(t),void 0===(pattern=e?void 0:pattern)?function(t){return $t.test(t)}(t)?function(t){return t.match(Wt)||[]}(t):function(t){return t.match(ct)||[]}(t):t.match(pattern)||[]}var Zs=Kr((function(t,e){try{return me(t,void 0,e)}catch(t){return Ka(t)?t:new wt(t)}})),tu=io((function(object,t){return ge(t,(function(t){t=Uo(t),ir(object,t,Aa(object[t],object))})),object}));function eu(t){return function(){return t}}var nu=Vi(),ru=Vi(!0);function iu(t){return t}function ou(t){return Rr("function"==typeof t?t:sr(t,1))}var au=Kr((function(path,t){return function(object){return kr(object,path,t)}})),su=Kr((function(object,t){return function(path){return kr(object,path,t)}}));function uu(object,source,t){var e=Ps(source),n=Er(source,e);null!=t||es(source)&&(n.length||!e.length)||(t=source,source=object,object=this,n=Er(source,Ps(source)));var r=!(es(t)&&"chain"in t&&!t.chain),o=Ja(object);return ge(n,(function(t){var e=source[t];object[t]=e,o&&(object.prototype[t]=function(){var t=this.__chain__;if(r||t){var n=object(this.__wrapped__),o=n.__actions__=ki(this.__actions__);return o.push({func:e,args:arguments,thisArg:object}),n.__chain__=t,n}return e.apply(object,Me([this.value()],arguments))})})),object}function cu(){}var lu=Wi(Ee),hu=Wi(_e),pu=Wi(De);function du(path){return Eo(path)?Ie(Uo(path)):function(path){return function(object){return Mr(object,path)}}(path)}var fu=$i(),mu=$i(!0);function vu(){return[]}function gu(){return!1}var yu=Gi((function(t,e){return t+e}),0),_u=Yi("ceil"),bu=Gi((function(t,e){return t/e}),1),xu=Yi("floor");var source,wu=Gi((function(t,e){return t*e}),1),Eu=Yi("round"),Mu=Gi((function(t,e){return t-e}),0);return Fn.after=function(t,e){if("function"!=typeof e)throw new Ot(c);return t=ms(t),function(){if(--t<1)return e.apply(this,arguments)}},Fn.ary=Oa,Fn.assign=bs,Fn.assignIn=xs,Fn.assignInWith=ws,Fn.assignWith=Es,Fn.at=Ms,Fn.before=Ca,Fn.bind=Aa,Fn.bindAll=tu,Fn.bindKey=ka,Fn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Wa(t)?t:[t]},Fn.chain=fa,Fn.chunk=function(t,e,n){e=(n?wo(t,e,n):void 0===e)?1:vn(ms(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];for(var c=0,l=0,h=r(cn(o/e));c<o;)h[l++]=ii(t,c,c+=e);return h},Fn.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,o=[];++e<n;){var c=t[e];c&&(o[r++]=c)}return o},Fn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],o=t;o--;)e[o-1]=arguments[o];return Me(Wa(n)?ki(n):[n],gr(e,1))},Fn.cond=function(t){var e=null==t?0:t.length,n=lo();return t=e?Ee(t,(function(t){if("function"!=typeof t[1])throw new Ot(c);return[n(t[0]),t[1]]})):[],Kr((function(n){for(var r=-1;++r<e;){var o=t[r];if(me(o[0],this,n))return me(o[1],this,n)}}))},Fn.conforms=function(source){return function(source){var t=Ps(source);return function(object){return ur(object,source,t)}}(sr(source,1))},Fn.constant=eu,Fn.countBy=ga,Fn.create=function(t,e){var n=Bn(t);return null==e?n:rr(n,e)},Fn.curry=function t(e,n,r){var o=Zi(e,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return o.placeholder=t.placeholder,o},Fn.curryRight=function t(e,n,r){var o=Zi(e,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return o.placeholder=t.placeholder,o},Fn.debounce=Pa,Fn.defaults=Ss,Fn.defaultsDeep=Ts,Fn.defer=ja,Fn.delay=La,Fn.difference=Ho,Fn.differenceBy=Go,Fn.differenceWith=Wo,Fn.drop=function(t,e,n){var r=null==t?0:t.length;return r?ii(t,(e=n||void 0===e?1:ms(e))<0?0:e,r):[]},Fn.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?ii(t,0,(e=r-(e=n||void 0===e?1:ms(e)))<0?0:e):[]},Fn.dropRightWhile=function(t,e){return t&&t.length?mi(t,lo(e,3),!0,!0):[]},Fn.dropWhile=function(t,e){return t&&t.length?mi(t,lo(e,3),!0):[]},Fn.fill=function(t,e,n,r){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&wo(t,e,n)&&(n=0,r=o),function(t,e,n,r){var o=t.length;for((n=ms(n))<0&&(n=-n>o?0:o+n),(r=void 0===r||r>o?o:ms(r))<0&&(r+=o),r=n>r?0:vs(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},Fn.filter=function(t,e){return(Wa(t)?be:vr)(t,lo(e,3))},Fn.flatMap=function(t,e){return gr(map(t,e),1)},Fn.flatMapDeep=function(t,e){return gr(map(t,e),1/0)},Fn.flatMapDepth=function(t,e,n){return n=void 0===n?1:ms(n),gr(map(t,e),n)},Fn.flatten=Qo,Fn.flattenDeep=function(t){return(null==t?0:t.length)?gr(t,1/0):[]},Fn.flattenDepth=function(t,e){return(null==t?0:t.length)?gr(t,e=void 0===e?1:ms(e)):[]},Fn.flip=function(t){return Zi(t,512)},Fn.flow=nu,Fn.flowRight=ru,Fn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var o=t[e];r[o[0]]=o[1]}return r},Fn.functions=function(object){return null==object?[]:Er(object,Ps(object))},Fn.functionsIn=function(object){return null==object?[]:Er(object,js(object))},Fn.groupBy=wa,Fn.initial=function(t){return(null==t?0:t.length)?ii(t,0,-1):[]},Fn.intersection=Xo,Fn.intersectionBy=Yo,Fn.intersectionWith=Ko,Fn.invert=Cs,Fn.invertBy=As,Fn.invokeMap=Ea,Fn.iteratee=ou,Fn.keyBy=Ma,Fn.keys=Ps,Fn.keysIn=js,Fn.map=map,Fn.mapKeys=function(object,t){var e={};return t=lo(t,3),xr(object,(function(n,r,object){ir(e,t(n,r,object),n)})),e},Fn.mapValues=function(object,t){var e={};return t=lo(t,3),xr(object,(function(n,r,object){ir(e,r,t(n,r,object))})),e},Fn.matches=function(source){return Vr(sr(source,1))},Fn.matchesProperty=function(path,t){return zr(path,sr(t,1))},Fn.memoize=Ia,Fn.merge=Ls,Fn.mergeWith=Is,Fn.method=au,Fn.methodOf=su,Fn.mixin=uu,Fn.negate=Ra,Fn.nthArg=function(t){return t=ms(t),Kr((function(e){return Gr(e,t)}))},Fn.omit=Rs,Fn.omitBy=function(object,t){return Fs(object,Ra(lo(t)))},Fn.once=function(t){return Ca(2,t)},Fn.orderBy=function(t,e,n,r){return null==t?[]:(Wa(e)||(e=null==e?[]:[e]),Wa(n=r?void 0:n)||(n=null==n?[]:[n]),Wr(t,e,n))},Fn.over=lu,Fn.overArgs=Na,Fn.overEvery=hu,Fn.overSome=pu,Fn.partial=Fa,Fn.partialRight=Ba,Fn.partition=Sa,Fn.pick=Ns,Fn.pickBy=Fs,Fn.property=du,Fn.propertyOf=function(object){return function(path){return null==object?void 0:Mr(object,path)}},Fn.pull=Zo,Fn.pullAll=ta,Fn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?$r(t,e,lo(n,2)):t},Fn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?$r(t,e,void 0,n):t},Fn.pullAt=ea,Fn.range=fu,Fn.rangeRight=mu,Fn.rearg=Ua,Fn.reject=function(t,e){return(Wa(t)?be:vr)(t,Ra(lo(e,3)))},Fn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,o=[],c=t.length;for(e=lo(e,3);++r<c;){var l=t[r];e(l,r,t)&&(n.push(l),o.push(r))}return Qr(t,o),n},Fn.rest=function(t,e){if("function"!=typeof t)throw new Ot(c);return Kr(t,e=void 0===e?e:ms(e))},Fn.reverse=na,Fn.sampleSize=function(t,e,n){return e=(n?wo(t,e,n):void 0===e)?1:ms(e),(Wa(t)?Yn:Zr)(t,e)},Fn.set=function(object,path,t){return null==object?object:ti(object,path,t)},Fn.setWith=function(object,path,t,e){return e="function"==typeof e?e:void 0,null==object?object:ti(object,path,t,e)},Fn.shuffle=function(t){return(Wa(t)?Kn:ri)(t)},Fn.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&wo(t,e,n)?(e=0,n=r):(e=null==e?0:ms(e),n=void 0===n?r:ms(n)),ii(t,e,n)):[]},Fn.sortBy=Ta,Fn.sortedUniq=function(t){return t&&t.length?ui(t):[]},Fn.sortedUniqBy=function(t,e){return t&&t.length?ui(t,lo(e,2)):[]},Fn.split=function(t,e,n){return n&&"number"!=typeof n&&wo(t,e,n)&&(e=n=void 0),(n=void 0===n?4294967295:n>>>0)?(t=_s(t))&&("string"==typeof e||null!=e&&!as(e))&&!(e=hi(e))&&Xe(t)?Ei(nn(t),0,n):t.split(e,n):[]},Fn.spread=function(t,e){if("function"!=typeof t)throw new Ot(c);return e=null==e?0:vn(ms(e),0),Kr((function(n){var r=n[e],o=Ei(n,0,e);return r&&Me(o,r),me(t,this,o)}))},Fn.tail=function(t){var e=null==t?0:t.length;return e?ii(t,1,e):[]},Fn.take=function(t,e,n){return t&&t.length?ii(t,0,(e=n||void 0===e?1:ms(e))<0?0:e):[]},Fn.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?ii(t,(e=r-(e=n||void 0===e?1:ms(e)))<0?0:e,r):[]},Fn.takeRightWhile=function(t,e){return t&&t.length?mi(t,lo(e,3),!1,!0):[]},Fn.takeWhile=function(t,e){return t&&t.length?mi(t,lo(e,3)):[]},Fn.tap=function(t,e){return e(t),t},Fn.throttle=function(t,e,n){var r=!0,o=!0;if("function"!=typeof t)throw new Ot(c);return es(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Pa(t,e,{leading:r,maxWait:e,trailing:o})},Fn.thru=ma,Fn.toArray=ds,Fn.toPairs=Bs,Fn.toPairsIn=Us,Fn.toPath=function(t){return Wa(t)?Ee(t,Uo):cs(t)?[t]:ki(Bo(_s(t)))},Fn.toPlainObject=ys,Fn.transform=function(object,t,e){var n=Wa(object),r=n||Xa(object)||ls(object);if(t=lo(t,4),null==e){var o=object&&object.constructor;e=r?n?new o:[]:es(object)&&Ja(o)?Bn(ee(object)):{}}return(r?ge:xr)(object,(function(n,r,object){return t(e,n,r,object)})),e},Fn.unary=function(t){return Oa(t,1)},Fn.union=ra,Fn.unionBy=ia,Fn.unionWith=oa,Fn.uniq=function(t){return t&&t.length?pi(t):[]},Fn.uniqBy=function(t,e){return t&&t.length?pi(t,lo(e,2)):[]},Fn.uniqWith=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?pi(t,void 0,e):[]},Fn.unset=function(object,path){return null==object||di(object,path)},Fn.unzip=aa,Fn.unzipWith=sa,Fn.update=function(object,path,t){return null==object?object:fi(object,path,bi(t))},Fn.updateWith=function(object,path,t,e){return e="function"==typeof e?e:void 0,null==object?object:fi(object,path,bi(t),e)},Fn.values=Vs,Fn.valuesIn=function(object){return null==object?[]:Ve(object,js(object))},Fn.without=ua,Fn.words=Js,Fn.wrap=function(t,e){return Fa(bi(e),t)},Fn.xor=ca,Fn.xorBy=la,Fn.xorWith=ha,Fn.zip=pa,Fn.zipObject=function(t,e){return yi(t||[],e||[],Zn)},Fn.zipObjectDeep=function(t,e){return yi(t||[],e||[],ti)},Fn.zipWith=da,Fn.entries=Bs,Fn.entriesIn=Us,Fn.extend=xs,Fn.extendWith=ws,uu(Fn,Fn),Fn.add=yu,Fn.attempt=Zs,Fn.camelCase=zs,Fn.capitalize=Hs,Fn.ceil=_u,Fn.clamp=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=gs(n))==n?n:0),void 0!==e&&(e=(e=gs(e))==e?e:0),ar(gs(t),e,n)},Fn.clone=function(t){return sr(t,4)},Fn.cloneDeep=function(t){return sr(t,5)},Fn.cloneDeepWith=function(t,e){return sr(t,5,e="function"==typeof e?e:void 0)},Fn.cloneWith=function(t,e){return sr(t,4,e="function"==typeof e?e:void 0)},Fn.conformsTo=function(object,source){return null==source||ur(object,source,Ps(source))},Fn.deburr=Gs,Fn.defaultTo=function(t,e){return null==t||t!=t?e:t},Fn.divide=bu,Fn.endsWith=function(t,e,n){t=_s(t),e=hi(e);var r=t.length,o=n=void 0===n?r:ar(ms(n),0,r);return(n-=e.length)>=0&&t.slice(n,o)==e},Fn.eq=Va,Fn.escape=function(t){return(t=_s(t))&&$.test(t)?t.replace(G,$e):t},Fn.escapeRegExp=function(t){return(t=_s(t))&&et.test(t)?t.replace(tt,"\\$&"):t},Fn.every=function(t,e,n){var r=Wa(t)?_e:fr;return n&&wo(t,e,n)&&(e=void 0),r(t,lo(e,3))},Fn.find=ya,Fn.findIndex=qo,Fn.findKey=function(object,t){return Ce(object,lo(t,3),xr)},Fn.findLast=_a,Fn.findLastIndex=$o,Fn.findLastKey=function(object,t){return Ce(object,lo(t,3),wr)},Fn.floor=xu,Fn.forEach=ba,Fn.forEachRight=xa,Fn.forIn=function(object,t){return null==object?object:yr(object,lo(t,3),js)},Fn.forInRight=function(object,t){return null==object?object:_r(object,lo(t,3),js)},Fn.forOwn=function(object,t){return object&&xr(object,lo(t,3))},Fn.forOwnRight=function(object,t){return object&&wr(object,lo(t,3))},Fn.get=Ds,Fn.gt=za,Fn.gte=Ha,Fn.has=function(object,path){return null!=object&&yo(object,path,Or)},Fn.hasIn=Os,Fn.head=head,Fn.identity=iu,Fn.includes=function(t,e,n,r){t=$a(t)?t:Vs(t),n=n&&!r?ms(n):0;var o=t.length;return n<0&&(n=vn(o+n,0)),us(t)?n<=o&&t.indexOf(e,n)>-1:!!o&&ke(t,e,n)>-1},Fn.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=null==n?0:ms(n);return o<0&&(o=vn(r+o,0)),ke(t,e,o)},Fn.inRange=function(t,e,n){return e=fs(e),void 0===n?(n=e,e=0):n=fs(n),function(t,e,n){return t>=gn(e,n)&&t<vn(e,n)}(t=gs(t),e,n)},Fn.invoke=ks,Fn.isArguments=Ga,Fn.isArray=Wa,Fn.isArrayBuffer=qa,Fn.isArrayLike=$a,Fn.isArrayLikeObject=Qa,Fn.isBoolean=function(t){return!0===t||!1===t||ns(t)&&Tr(t)==m},Fn.isBuffer=Xa,Fn.isDate=Ya,Fn.isElement=function(t){return ns(t)&&1===t.nodeType&&!os(t)},Fn.isEmpty=function(t){if(null==t)return!0;if($a(t)&&(Wa(t)||"string"==typeof t||"function"==typeof t.splice||Xa(t)||ls(t)||Ga(t)))return!t.length;var e=go(t);if(e==w||e==T)return!t.size;if(To(t))return!Nr(t).length;for(var n in t)if(Lt.call(t,n))return!1;return!0},Fn.isEqual=function(t,e){return jr(t,e)},Fn.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===r?jr(t,e,void 0,n):!!r},Fn.isError=Ka,Fn.isFinite=function(t){return"number"==typeof t&&dn(t)},Fn.isFunction=Ja,Fn.isInteger=Za,Fn.isLength=ts,Fn.isMap=rs,Fn.isMatch=function(object,source){return object===source||Lr(object,source,po(source))},Fn.isMatchWith=function(object,source,t){return t="function"==typeof t?t:void 0,Lr(object,source,po(source),t)},Fn.isNaN=function(t){return is(t)&&t!=+t},Fn.isNative=function(t){if(So(t))throw new wt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ir(t)},Fn.isNil=function(t){return null==t},Fn.isNull=function(t){return null===t},Fn.isNumber=is,Fn.isObject=es,Fn.isObjectLike=ns,Fn.isPlainObject=os,Fn.isRegExp=as,Fn.isSafeInteger=function(t){return Za(t)&&t>=-9007199254740991&&t<=9007199254740991},Fn.isSet=ss,Fn.isString=us,Fn.isSymbol=cs,Fn.isTypedArray=ls,Fn.isUndefined=function(t){return void 0===t},Fn.isWeakMap=function(t){return ns(t)&&go(t)==C},Fn.isWeakSet=function(t){return ns(t)&&"[object WeakSet]"==Tr(t)},Fn.join=function(t,e){return null==t?"":fn.call(t,e)},Fn.kebabCase=Ws,Fn.last=Jo,Fn.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r;return void 0!==n&&(o=(o=ms(n))<0?vn(r+o,0):gn(o,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,o):Ae(t,je,o,!0)},Fn.lowerCase=qs,Fn.lowerFirst=$s,Fn.lt=hs,Fn.lte=ps,Fn.max=function(t){return t&&t.length?mr(t,iu,Dr):void 0},Fn.maxBy=function(t,e){return t&&t.length?mr(t,lo(e,2),Dr):void 0},Fn.mean=function(t){return Le(t,iu)},Fn.meanBy=function(t,e){return Le(t,lo(e,2))},Fn.min=function(t){return t&&t.length?mr(t,iu,Br):void 0},Fn.minBy=function(t,e){return t&&t.length?mr(t,lo(e,2),Br):void 0},Fn.stubArray=vu,Fn.stubFalse=gu,Fn.stubObject=function(){return{}},Fn.stubString=function(){return""},Fn.stubTrue=function(){return!0},Fn.multiply=wu,Fn.nth=function(t,e){return t&&t.length?Gr(t,ms(e)):void 0},Fn.noConflict=function(){return re._===this&&(re._=Bt),this},Fn.noop=cu,Fn.now=Da,Fn.pad=function(t,e,n){t=_s(t);var r=(e=ms(e))?en(t):0;if(!e||r>=e)return t;var o=(e-r)/2;return qi(ln(o),n)+t+qi(cn(o),n)},Fn.padEnd=function(t,e,n){t=_s(t);var r=(e=ms(e))?en(t):0;return e&&r<e?t+qi(e-r,n):t},Fn.padStart=function(t,e,n){t=_s(t);var r=(e=ms(e))?en(t):0;return e&&r<e?qi(e-r,n)+t:t},Fn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),_n(_s(t).replace(it,""),e||0)},Fn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&wo(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=fs(t),void 0===e?(e=t,t=0):e=fs(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var o=bn();return gn(t+o*(e-t+Zt("1e-"+((o+"").length-1))),e)}return Xr(t,e)},Fn.reduce=function(t,e,n){var r=Wa(t)?Se:Ne,o=arguments.length<3;return r(t,lo(e,4),n,o,pr)},Fn.reduceRight=function(t,e,n){var r=Wa(t)?Te:Ne,o=arguments.length<3;return r(t,lo(e,4),n,o,dr)},Fn.repeat=function(t,e,n){return e=(n?wo(t,e,n):void 0===e)?1:ms(e),Yr(_s(t),e)},Fn.replace=function(){var t=arguments,e=_s(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Fn.result=function(object,path,t){var e=-1,n=(path=xi(path,object)).length;for(n||(n=1,object=void 0);++e<n;){var r=null==object?void 0:object[Uo(path[e])];void 0===r&&(e=n,r=t),object=Ja(r)?r.call(object):r}return object},Fn.round=Eu,Fn.runInContext=t,Fn.sample=function(t){return(Wa(t)?Xn:Jr)(t)},Fn.size=function(t){if(null==t)return 0;if($a(t))return us(t)?en(t):t.length;var e=go(t);return e==w||e==T?t.size:Nr(t).length},Fn.snakeCase=Qs,Fn.some=function(t,e,n){var r=Wa(t)?De:oi;return n&&wo(t,e,n)&&(e=void 0),r(t,lo(e,3))},Fn.sortedIndex=function(t,e){return ai(t,e)},Fn.sortedIndexBy=function(t,e,n){return si(t,e,lo(n,2))},Fn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=ai(t,e);if(r<n&&Va(t[r],e))return r}return-1},Fn.sortedLastIndex=function(t,e){return ai(t,e,!0)},Fn.sortedLastIndexBy=function(t,e,n){return si(t,e,lo(n,2),!0)},Fn.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=ai(t,e,!0)-1;if(Va(t[n],e))return n}return-1},Fn.startCase=Xs,Fn.startsWith=function(t,e,n){return t=_s(t),n=null==n?0:ar(ms(n),0,t.length),e=hi(e),t.slice(n,n+e.length)==e},Fn.subtract=Mu,Fn.sum=function(t){return t&&t.length?Fe(t,iu):0},Fn.sumBy=function(t,e){return t&&t.length?Fe(t,lo(e,2)):0},Fn.template=function(t,e,n){var r=Fn.templateSettings;n&&wo(t,e,n)&&(e=void 0),t=_s(t),e=ws({},e,r,to);var o,c,l=ws({},e.imports,r.imports,to),h=Ps(l),d=Ve(l,h),f=0,m=e.interpolate||bt,source="__p += '",v=Tt((e.escape||bt).source+"|"+m.source+"|"+(m===Y?ht:bt).source+"|"+(e.evaluate||bt).source+"|$","g"),y="//# sourceURL="+(Lt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Xt+"]")+"\n";t.replace(v,(function(e,n,r,l,h,d){return r||(r=l),source+=t.slice(f,d).replace(xt,Qe),n&&(o=!0,source+="' +\n__e("+n+") +\n'"),h&&(c=!0,source+="';\n"+h+";\n__p += '"),r&&(source+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),f=d+e.length,e})),source+="';\n";var _=Lt.call(e,"variable")&&e.variable;_||(source="with (obj) {\n"+source+"\n}\n"),source=(c?source.replace(U,""):source).replace(V,"$1").replace(z,"$1;"),source="function("+(_||"obj")+") {\n"+(_?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(c?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+source+"return __p\n}";var x=Zs((function(){return Et(h,y+"return "+source).apply(void 0,d)}));if(x.source=source,Ka(x))throw x;return x},Fn.times=function(t,e){if((t=ms(t))<1||t>9007199254740991)return[];var n=4294967295,r=gn(t,4294967295);t-=4294967295;for(var o=Be(r,e=lo(e));++n<t;)e(n);return o},Fn.toFinite=fs,Fn.toInteger=ms,Fn.toLength=vs,Fn.toLower=function(t){return _s(t).toLowerCase()},Fn.toNumber=gs,Fn.toSafeInteger=function(t){return t?ar(ms(t),-9007199254740991,9007199254740991):0===t?t:0},Fn.toString=_s,Fn.toUpper=function(t){return _s(t).toUpperCase()},Fn.trim=function(t,e,n){if((t=_s(t))&&(n||void 0===e))return t.replace(nt,"");if(!t||!(e=hi(e)))return t;var r=nn(t),o=nn(e);return Ei(r,He(r,o),Ge(r,o)+1).join("")},Fn.trimEnd=function(t,e,n){if((t=_s(t))&&(n||void 0===e))return t.replace(ot,"");if(!t||!(e=hi(e)))return t;var r=nn(t);return Ei(r,0,Ge(r,nn(e))+1).join("")},Fn.trimStart=function(t,e,n){if((t=_s(t))&&(n||void 0===e))return t.replace(it,"");if(!t||!(e=hi(e)))return t;var r=nn(t);return Ei(r,He(r,nn(e))).join("")},Fn.truncate=function(t,e){var n=30,r="...";if(es(e)){var o="separator"in e?e.separator:o;n="length"in e?ms(e.length):n,r="omission"in e?hi(e.omission):r}var c=(t=_s(t)).length;if(Xe(t)){var l=nn(t);c=l.length}if(n>=c)return t;var h=n-en(r);if(h<1)return r;var d=l?Ei(l,0,h).join(""):t.slice(0,h);if(void 0===o)return d+r;if(l&&(h+=d.length-h),as(o)){if(t.slice(h).search(o)){var f,m=d;for(o.global||(o=Tt(o.source,_s(pt.exec(o))+"g")),o.lastIndex=0;f=o.exec(m);)var v=f.index;d=d.slice(0,void 0===v?h:v)}}else if(t.indexOf(hi(o),h)!=h){var y=d.lastIndexOf(o);y>-1&&(d=d.slice(0,y))}return d+r},Fn.unescape=function(t){return(t=_s(t))&&W.test(t)?t.replace(H,rn):t},Fn.uniqueId=function(t){var e=++It;return _s(t)+e},Fn.upperCase=Ys,Fn.upperFirst=Ks,Fn.each=ba,Fn.eachRight=xa,Fn.first=head,uu(Fn,(source={},xr(Fn,(function(t,e){Lt.call(Fn.prototype,e)||(source[e]=t)})),source),{chain:!1}),Fn.VERSION="4.17.20",ge(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Fn[t].placeholder=Fn})),ge(["drop","take"],(function(t,e){zn.prototype[t]=function(n){n=void 0===n?1:vn(ms(n),0);var r=this.__filtered__&&!e?new zn(this):this.clone();return r.__filtered__?r.__takeCount__=gn(n,r.__takeCount__):r.__views__.push({size:gn(n,4294967295),type:t+(r.__dir__<0?"Right":"")}),r},zn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),ge(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;zn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:lo(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),ge(["head","last"],(function(t,e){var n="take"+(e?"Right":"");zn.prototype[t]=function(){return this[n](1).value()[0]}})),ge(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");zn.prototype[t]=function(){return this.__filtered__?new zn(this):this[n](1)}})),zn.prototype.compact=function(){return this.filter(iu)},zn.prototype.find=function(t){return this.filter(t).head()},zn.prototype.findLast=function(t){return this.reverse().find(t)},zn.prototype.invokeMap=Kr((function(path,t){return"function"==typeof path?new zn(this):this.map((function(e){return kr(e,path,t)}))})),zn.prototype.reject=function(t){return this.filter(Ra(lo(t)))},zn.prototype.slice=function(t,e){t=ms(t);var n=this;return n.__filtered__&&(t>0||e<0)?new zn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),void 0!==e&&(n=(e=ms(e))<0?n.dropRight(-e):n.take(e-t)),n)},zn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},zn.prototype.toArray=function(){return this.take(4294967295)},xr(zn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),o=Fn[r?"take"+("last"==e?"Right":""):e],c=r||/^find/.test(e);o&&(Fn.prototype[e]=function(){var e=this.__wrapped__,l=r?[1]:arguments,h=e instanceof zn,d=l[0],f=h||Wa(e),m=function(t){var e=o.apply(Fn,Me([t],l));return r&&v?e[0]:e};f&&n&&"function"==typeof d&&1!=d.length&&(h=f=!1);var v=this.__chain__,y=!!this.__actions__.length,_=c&&!v,x=h&&!y;if(!c&&f){e=x?e:new zn(this);var w=t.apply(e,l);return w.__actions__.push({func:ma,args:[m],thisArg:void 0}),new Vn(w,v)}return _&&x?t.apply(this,l):(w=this.thru(m),_?r?w.value()[0]:w.value():w)})})),ge(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Ct[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Fn.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var o=this.value();return e.apply(Wa(o)?o:[],t)}return this[n]((function(n){return e.apply(Wa(n)?n:[],t)}))}})),xr(zn.prototype,(function(t,e){var n=Fn[e];if(n){var r=n.name+"";Lt.call(Cn,r)||(Cn[r]=[]),Cn[r].push({name:e,func:n})}})),Cn[zi(void 0,2).name]=[{name:"wrapper",func:void 0}],zn.prototype.clone=function(){var t=new zn(this.__wrapped__);return t.__actions__=ki(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ki(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ki(this.__views__),t},zn.prototype.reverse=function(){if(this.__filtered__){var t=new zn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},zn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Wa(t),r=e<0,o=n?t.length:0,view=function(t,e,n){var r=-1,o=n.length;for(;++r<o;){var data=n[r],c=data.size;switch(data.type){case"drop":t+=c;break;case"dropRight":e-=c;break;case"take":e=gn(e,t+c);break;case"takeRight":t=vn(t,e-c)}}return{start:t,end:e}}(0,o,this.__views__),c=view.start,l=view.end,h=l-c,d=r?l:c-1,f=this.__iteratees__,m=f.length,v=0,y=gn(h,this.__takeCount__);if(!n||!r&&o==h&&y==h)return vi(t,this.__actions__);var _=[];t:for(;h--&&v<y;){for(var x=-1,w=t[d+=e];++x<m;){var data=f[x],E=data.iteratee,M=data.type,S=E(w);if(2==M)w=S;else if(!S){if(1==M)continue t;break t}}_[v++]=w}return _},Fn.prototype.at=va,Fn.prototype.chain=function(){return fa(this)},Fn.prototype.commit=function(){return new Vn(this.value(),this.__chain__)},Fn.prototype.next=function(){void 0===this.__values__&&(this.__values__=ds(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},Fn.prototype.plant=function(t){for(var e,n=this;n instanceof Un;){var r=zo(n);r.__index__=0,r.__values__=void 0,e?o.__wrapped__=r:e=r;var o=r;n=n.__wrapped__}return o.__wrapped__=t,e},Fn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof zn){var e=t;return this.__actions__.length&&(e=new zn(this)),(e=e.reverse()).__actions__.push({func:ma,args:[na],thisArg:void 0}),new Vn(e,this.__chain__)}return this.thru(na)},Fn.prototype.toJSON=Fn.prototype.valueOf=Fn.prototype.value=function(){return vi(this.__wrapped__,this.__actions__)},Fn.prototype.first=Fn.prototype.head,ue&&(Fn.prototype[ue]=function(){return this}),Fn}();re._=on,void 0===(o=function(){return on}.call(e,n,e,r))||(r.exports=o)}).call(this)}).call(this,n(44),n(286)(t))},65:function(t,e,n){"use strict";function r(t,e,n,path,r,o){if("undefined"!=typeof window)return arguments.length>1?document.cookie=t+"="+encodeURIComponent(e)+(n?"; expires="+new Date(+new Date+1e3*n).toUTCString()+(path?"; path="+path:"")+(r?"; domain="+r:"")+(o?"; secure":""):""):decodeURIComponent((("; "+document.cookie).split("; "+t+"=")[1]||"").split(";")[0])}function o(){try{r("_c_","1");var t=-1!==document.cookie.indexOf("_c_");return r("_c_","",-1),t}catch(t){return!1}}n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return l})),n.d(e,"a",(function(){return c})),n.d(e,"c",(function(){return h}));var c=r,l=r;function h(t){return r(t,"",-1)}},8:function(t,e,n){"use strict";n.d(e,"k",(function(){return y})),n.d(e,"m",(function(){return _})),n.d(e,"l",(function(){return x})),n.d(e,"e",(function(){return w})),n.d(e,"b",(function(){return E})),n.d(e,"r",(function(){return M})),n.d(e,"g",(function(){return S})),n.d(e,"h",(function(){return T})),n.d(e,"d",(function(){return D})),n.d(e,"q",(function(){return O})),n.d(e,"j",(function(){return C})),n.d(e,"s",(function(){return k})),n.d(e,"n",(function(){return j})),n.d(e,"p",(function(){return L})),n.d(e,"f",(function(){return I})),n.d(e,"c",(function(){return R})),n.d(e,"i",(function(){return N})),n.d(e,"o",(function(){return F})),n.d(e,"a",(function(){return W})),n.d(e,"u",(function(){return $})),n.d(e,"t",(function(){return Q}));n(30),n(89),n(98),n(34),n(24),n(18),n(75),n(90),n(102),n(80),n(60),n(271),n(72),n(40),n(38),n(39),n(35),n(29),n(148),n(48),n(68),n(401),n(91),n(50),n(181),n(61),n(273),n(67),n(274),n(19),n(54);var r=n(20),o=n(33),c=(n(51),n(15)),l=n(14),h=n(10);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(l.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function m(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return c=t.done,t},e:function(t){l=!0,o=t},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function y(t){h.a.config.errorHandler&&h.a.config.errorHandler(t)}function _(t){return t.then((function(t){return t.default||t}))}function x(t){return t.$options&&"function"==typeof t.$options.fetch&&!t.$options.fetch.length}function w(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=t.$children||[],o=m(r);try{for(o.s();!(e=o.n()).done;){var c=e.value;c.$fetch?n.push(c):c.$children&&w(c,n)}}catch(t){o.e(t)}finally{o.f()}return n}function E(t,e){if(e||!t.options.__hasNuxtData){var n=t.options._originDataFn||t.options.data||function(){return{}};t.options._originDataFn=n,t.options.data=function(){var data=n.call(this,this);return this.$ssrContext&&(e=this.$ssrContext.asyncData[t.cid]),f(f({},data),e)},t.options.__hasNuxtData=!0,t._Ctor&&t._Ctor.options&&(t._Ctor.options.data=t.options.data)}}function M(t){return t.options&&t._Ctor===t||(t.options?(t._Ctor=t,t.extendOptions=t.options):(t=h.a.extend(t))._Ctor=t,!t.options.name&&t.options.__file&&(t.options.name=t.options.__file)),t}function S(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"components";return Array.prototype.concat.apply([],t.matched.map((function(t,r){return Object.keys(t[n]).map((function(o){return e&&e.push(r),t[n][o]}))})))}function T(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return S(t,e,"instances")}function D(t,e){return Array.prototype.concat.apply([],t.matched.map((function(t,n){return Object.keys(t.components).reduce((function(r,o){return t.components[o]?r.push(e(t.components[o],t.instances[o],t,o,n)):delete t.components[o],r}),[])})))}function O(t,e){return Promise.all(D(t,function(){var t=Object(c.a)(regeneratorRuntime.mark((function t(n,r,o,c){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("function"!=typeof n||n.options){t.next=4;break}return t.next=3,n();case 3:n=t.sent;case 4:return o.components[c]=n=M(n),t.abrupt("return","function"==typeof e?e(n,r,o,c):n);case 6:case"end":return t.stop()}}),t)})));return function(e,n,r,o){return t.apply(this,arguments)}}()))}function C(t){return A.apply(this,arguments)}function A(){return(A=Object(c.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,O(e);case 4:return t.abrupt("return",f(f({},e),{},{meta:S(e).map((function(t,n){return f(f({},t.options.meta),(e.matched[n]||{}).meta)}))}));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(t,e){return P.apply(this,arguments)}function P(){return(P=Object(c.a)(regeneratorRuntime.mark((function t(e,n){var c,l,h,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.context||(e.context={isStatic:!0,isDev:!1,isHMR:!1,app:e,payload:n.payload,error:n.error,base:"/",env:{}},n.ssrContext&&(e.context.ssrContext=n.ssrContext),e.context.redirect=function(t,path,n){if(t){e.context._redirected=!0;var r=Object(o.a)(path);if("number"==typeof t||"undefined"!==r&&"object"!==r||(n=path||{},path=t,r=Object(o.a)(path),t=302),"object"===r&&(path=e.router.resolve(path).route.fullPath),!/(^[.]{1,2}\/)|(^\/(?!\/))/.test(path))throw path=G(path,n),window.location.replace(path),new Error("ERR_REDIRECT");e.context.next({path:path,query:n,status:t})}},e.context.nuxtState=window.__NUXT__),t.next=3,Promise.all([C(n.route),C(n.from)]);case 3:c=t.sent,l=Object(r.a)(c,2),h=l[0],d=l[1],n.route&&(e.context.route=h),n.from&&(e.context.from=d),e.context.next=n.next,e.context._redirected=!1,e.context._errored=!1,e.context.isHMR=!1,e.context.params=e.context.route.params||{},e.context.query=e.context.route.query||{};case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function j(t,e){return!t.length||e._redirected||e._errored?Promise.resolve():L(t[0],e).then((function(){return j(t.slice(1),e)}))}function L(t,e){var n;return(n=2===t.length?new Promise((function(n){t(e,(function(t,data){t&&e.error(t),n(data=data||{})}))})):t(e))&&n instanceof Promise&&"function"==typeof n.then?n:Promise.resolve(n)}function I(base,t){var path=decodeURI(window.location.pathname);return"hash"===t?window.location.hash.replace(/^#\//,""):(base&&(path.endsWith("/")?path:path+"/").startsWith(base)&&(path=path.slice(base.length)),(path||"/")+window.location.search+window.location.hash)}function R(t,e){return function(t,e){for(var n=new Array(t.length),i=0;i<t.length;i++)"object"===Object(o.a)(t[i])&&(n[i]=new RegExp("^(?:"+t[i].pattern+")$",H(e)));return function(e,r){for(var path="",data=e||{},o=(r||{}).pretty?U:encodeURIComponent,c=0;c<t.length;c++){var l=t[c];if("string"!=typeof l){var h=data[l.name||"pathMatch"],d=void 0;if(null==h){if(l.optional){l.partial&&(path+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(Array.isArray(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var f=0;f<h.length;f++){if(d=o(h[f]),!n[c].test(d))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(d)+"`");path+=(0===f?l.prefix:l.delimiter)+d}}else{if(d=l.asterisk?U(h,!0):o(h),!n[c].test(d))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+d+'"');path+=l.prefix+d}}else path+=l}return path}}(function(t,e){var n,r=[],o=0,c=0,path="",l=e&&e.delimiter||"/";for(;null!=(n=B.exec(t));){var h=n[0],d=n[1],f=n.index;if(path+=t.slice(c,f),c=f+h.length,d)path+=d[1];else{var m=t[c],v=n[2],y=n[3],_=n[4],x=n[5],w=n[6],E=n[7];path&&(r.push(path),path="");var M=null!=v&&null!=m&&m!==v,S="+"===w||"*"===w,T="?"===w||"*"===w,D=n[2]||l,pattern=_||x;r.push({name:y||o++,prefix:v||"",delimiter:D,optional:T,repeat:S,partial:M,asterisk:Boolean(E),pattern:pattern?z(pattern):E?".*":"[^"+V(D)+"]+?"})}}c<t.length&&(path+=t.substr(c));path&&r.push(path);return r}(t,e),e)}function N(t,e){var n={},r=f(f({},t),e);for(var o in r)String(t[o])!==String(e[o])&&(n[o]=!0);return n}function F(t){var e;if(t.message||"string"==typeof t)e=t.message||t;else try{e=JSON.stringify(t,null,2)}catch(n){e="[".concat(t.constructor.name,"]")}return f(f({},t),{},{message:e,statusCode:t.statusCode||t.status||t.response&&t.response.status||500})}window.onNuxtReadyCbs=[],window.onNuxtReady=function(t){window.onNuxtReadyCbs.push(t)};var B=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function U(t,e){var n=e?/[?#]/g:/[/?#]/g;return encodeURI(t).replace(n,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function V(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function z(t){return t.replace(/([=!:$/()])/g,"\\$1")}function H(t){return t&&t.sensitive?"":"i"}function G(t,e){var n,o=t.indexOf("://");-1!==o?(n=t.substring(0,o),t=t.substring(o+3)):t.startsWith("//")&&(t=t.substring(2));var c,l=t.split("/"),h=(n?n+"://":"//")+l.shift(),path=l.join("/");if(""===path&&1===l.length&&(h+="/"),2===(l=path.split("#")).length){var d=l,f=Object(r.a)(d,2);path=f[0],c=f[1]}return h+=path?"/"+path:"",e&&"{}"!==JSON.stringify(e)&&(h+=(2===t.split("?").length?"&":"?")+function(t){return Object.keys(t).sort().map((function(e){var n=t[e];return null==n?"":Array.isArray(n)?n.slice().map((function(t){return[e,"=",t].join("")})).join("&"):e+"="+n})).filter(Boolean).join("&")}(e)),h+=c?"#"+c:""}function W(t,e,n){t.$options[e]||(t.$options[e]=[]),t.$options[e].includes(n)||t.$options[e].push(n)}function $(){return[].slice.call(arguments).join("/").replace(/\/+/g,"/").replace(":/","://")}function Q(t){try{window.history.scrollRestoration=t}catch(t){}}},82:function(t,e,n){"use strict";n.d(e,"b",(function(){return ri})),n.d(e,"a",(function(){return R}));n(30),n(24),n(18),n(60),n(40),n(38),n(39),n(35),n(29),n(19),n(51);var r=n(15),o=n(14),c=n(10),l=n(128),h=n(238),d=n.n(h),f=n(108),m=n.n(f),v=n(132),y=n(8);n(405),n(260);"scrollRestoration"in window.history&&(Object(y.t)("manual"),window.addEventListener("beforeunload",(function(){Object(y.t)("auto")})),window.addEventListener("load",(function(){Object(y.t)("manual")})));var _=function(){return Object(y.m)(n.e(5).then(n.bind(null,595)))},x=function(){return Object(y.m)(Promise.all([n.e(2),n.e(14),n.e(6)]).then(n.bind(null,596)))},w=function(){return Object(y.m)(n.e(7).then(n.bind(null,597)))},E=function(){return Object(y.m)(Promise.all([n.e(2),n.e(8)]).then(n.bind(null,598)))},M=function(){return Object(y.m)(n.e(9).then(n.bind(null,599)))},S=function(){return Object(y.m)(n.e(11).then(n.bind(null,600)))},T=function(){return Object(y.m)(n.e(10).then(n.bind(null,601)))},D=function(){},O=v.a.prototype.push;v.a.prototype.push=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D,n=arguments.length>2?arguments[2]:void 0;return O.call(this,t,e,n)},c.a.use(v.a);var C={mode:"history",base:decodeURI("/"),linkActiveClass:"item--currentLink",linkExactActiveClass:"item--exactCurrentLink",scrollBehavior:function(t,e,n){var r=!1,o=Object(y.g)(t);(o.some((function(t){return t.options.scrollToTop}))||o.length<2&&o.every((function(t){return!1!==t.options.scrollToTop})))&&(r={x:0,y:0}),n&&(r=n);var c=window.$nuxt;return(t.path===e.path&&t.hash!==e.hash||t===e)&&c.$nextTick((function(){return c.$emit("triggerScroll")})),new Promise((function(e){c.$once("triggerScroll",(function(){if(t.hash){var n=t.hash;void 0!==window.CSS&&void 0!==window.CSS.escape&&(n="#"+window.CSS.escape(n.substr(1)));try{document.querySelector(n)&&(r={selector:n})}catch(t){console.warn("Failed to save scroll position. Please add CSS.escape() polyfill (https://github.com/mathiasbynens/CSS.escape).")}}e(r)}))}))},routes:[{path:"/404",component:_,name:"404___en"},{path:"/about",component:x,name:"about___en"},{path:"/contact",component:w,name:"contact___en"},{path:"/fr",component:E,name:"index___fr"},{path:"/legal",component:M,name:"legal___en"},{path:"/works",component:S,name:"works___en"},{path:"/fr/404",component:_,name:"404___fr"},{path:"/fr/a-propos",component:x,name:"about___fr"},{path:"/fr/contact",component:w,name:"contact___fr"},{path:"/fr/mentions-legales",component:M,name:"legal___fr"},{path:"/fr/projets",component:S,name:"works___fr"},{path:"/fr/projets/:slug",component:T,name:"works-slug___fr"},{path:"/works/:slug",component:T,name:"works-slug___en"},{path:"/",component:E,name:"index___en"}],fallback:!1};function A(){return new v.a(C)}var k={name:"NuxtChild",functional:!0,props:{nuxtChildKey:{type:String,default:""},keepAlive:Boolean,keepAliveProps:{type:Object,default:void 0}},render:function(t,e){var n=e.parent,data=e.data,r=e.props,o=n.$createElement;data.nuxtChild=!0;for(var c=n,l=n.$nuxt.nuxt.transitions,h=n.$nuxt.nuxt.defaultTransition,d=0;n;)n.$vnode&&n.$vnode.data.nuxtChild&&d++,n=n.$parent;data.nuxtChildDepth=d;var f=l[d]||h,m={};P.forEach((function(t){void 0!==f[t]&&(m[t]=f[t])}));var v={};j.forEach((function(t){"function"==typeof f[t]&&(v[t]=f[t].bind(c))}));var y=v.beforeEnter;if(v.beforeEnter=function(t){if(window.$nuxt.$nextTick((function(){window.$nuxt.$emit("triggerScroll")})),y)return y.call(c,t)},!1===f.css){var _=v.leave;(!_||_.length<2)&&(v.leave=function(t,e){_&&_.call(c,t),c.$nextTick(e)})}var x=o("routerView",data);return r.keepAlive&&(x=o("keep-alive",{props:r.keepAliveProps},[x])),o("transition",{props:m,on:v},[x])}},P=["name","mode","appear","css","type","duration","enterClass","leaveClass","appearClass","enterActiveClass","enterActiveClass","leaveActiveClass","appearActiveClass","enterToClass","leaveToClass","appearToClass"],j=["beforeEnter","enter","afterEnter","enterCancelled","beforeLeave","leave","afterLeave","leaveCancelled","beforeAppear","appear","afterAppear","appearCancelled"],L={name:"NuxtError",props:{error:{type:Object,default:null}},computed:{statusCode:function(){return this.error&&this.error.statusCode||500},message:function(){return this.error.message||"Error"}},head:function(){return{title:this.message,meta:[{name:"viewport",content:"width=device-width,initial-scale=1.0,minimum-scale=1.0"}]}}},I=(n(406),n(6)),R=Object(I.a)(L,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"__nuxt-error-page"},[n("div",{staticClass:"error"},[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"90",height:"90",fill:"#DBE1EC",viewBox:"0 0 48 48"}},[n("path",{attrs:{d:"M22 30h4v4h-4zm0-16h4v12h-4zm1.99-10C12.94 4 4 12.95 4 24s8.94 20 19.99 20S44 35.05 44 24 35.04 4 23.99 4zM24 40c-8.84 0-16-7.16-16-16S15.16 8 24 8s16 7.16 16 16-7.16 16-16 16z"}})]),t._v(" "),n("div",{staticClass:"title"},[t._v(t._s(t.message))]),t._v(" "),404===t.statusCode?n("p",{staticClass:"description"},[void 0===t.$route?n("a",{staticClass:"error-link",attrs:{href:"/"}}):n("NuxtLink",{staticClass:"error-link",attrs:{to:"/"}},[t._v("Back to the home page")])],1):t._e(),t._v(" "),t._m(0)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"logo"},[e("a",{attrs:{href:"https://nuxtjs.org",target:"_blank",rel:"noopener"}},[this._v("Nuxt.js")])])}],!1,null,null,null).exports,N=(n(48),n(68),n(61),n(20)),F={name:"Nuxt",components:{NuxtChild:k,NuxtError:R},props:{nuxtChildKey:{type:String,default:void 0},keepAlive:Boolean,keepAliveProps:{type:Object,default:void 0},name:{type:String,default:"default"}},errorCaptured:function(t){this.displayingNuxtError&&(this.errorFromNuxtError=t,this.$forceUpdate())},computed:{routerViewKey:function(){if(void 0!==this.nuxtChildKey||this.$route.matched.length>1)return this.nuxtChildKey||Object(y.c)(this.$route.matched[0].path)(this.$route.params);var t=Object(N.a)(this.$route.matched,1)[0];if(!t)return this.$route.path;var e=t.components.default;if(e&&e.options){var n=e.options;if(n.key)return"function"==typeof n.key?n.key(this.$route):n.key}return/\/$/.test(t.path)?this.$route.path:this.$route.path.replace(/\/$/,"")}},beforeCreate:function(){c.a.util.defineReactive(this,"nuxt",this.$root.$options.nuxt)},render:function(t){var e=this;return this.nuxt.err?this.errorFromNuxtError?(this.$nextTick((function(){return e.errorFromNuxtError=!1})),t("div",{},[t("h2","An error occurred while showing the error page"),t("p","Unfortunately an error occurred and while showing the error page another error occurred"),t("p","Error details: ".concat(this.errorFromNuxtError.toString())),t("nuxt-link",{props:{to:"/"}},"Go back to home")])):(this.displayingNuxtError=!0,this.$nextTick((function(){return e.displayingNuxtError=!1})),t(R,{props:{error:this.nuxt.err}})):t("NuxtChild",{key:this.routerViewKey,props:this.$props})}},B=(n(89),n(98),n(75),n(72),n(50),n(67),n(274),n(54),n(66),{name:"NuxtLoading",data:function(){return{percent:0,show:!1,canSucceed:!0,reversed:!1,skipTimerCount:0,rtl:!1,throttle:200,duration:5e3,continuous:!1}},computed:{left:function(){return!(!this.continuous&&!this.rtl)&&(this.rtl?this.reversed?"0px":"auto":this.reversed?"auto":"0px")}},beforeDestroy:function(){this.clear()},methods:{clear:function(){clearInterval(this._timer),clearTimeout(this._throttle),this._timer=null},start:function(){var t=this;return this.clear(),this.percent=0,this.reversed=!1,this.skipTimerCount=0,this.canSucceed=!0,this.throttle?this._throttle=setTimeout((function(){return t.startTimer()}),this.throttle):this.startTimer(),this},set:function(t){return this.show=!0,this.canSucceed=!0,this.percent=Math.min(100,Math.max(0,Math.floor(t))),this},get:function(){return this.percent},increase:function(t){return this.percent=Math.min(100,Math.floor(this.percent+t)),this},decrease:function(t){return this.percent=Math.max(0,Math.floor(this.percent-t)),this},pause:function(){return clearInterval(this._timer),this},resume:function(){return this.startTimer(),this},finish:function(){return this.percent=this.reversed?0:100,this.hide(),this},hide:function(){var t=this;return this.clear(),setTimeout((function(){t.show=!1,t.$nextTick((function(){t.percent=0,t.reversed=!1}))}),500),this},fail:function(t){return this.canSucceed=!1,this},startTimer:function(){var t=this;this.show||(this.show=!0),void 0===this._cut&&(this._cut=1e4/Math.floor(this.duration)),this._timer=setInterval((function(){t.skipTimerCount>0?t.skipTimerCount--:(t.reversed?t.decrease(t._cut):t.increase(t._cut),t.continuous&&(t.percent>=100||t.percent<=0)&&(t.skipTimerCount=1,t.reversed=!t.reversed))}),100)}},render:function(t){var e=t(!1);return this.show&&(e=t("div",{staticClass:"nuxt-progress",class:{"nuxt-progress-notransition":this.skipTimerCount>0,"nuxt-progress-failed":!this.canSucceed},style:{width:this.percent+"%",left:this.left}})),e}}),U=(n(408),Object(I.a)(B,void 0,void 0,!1,null,null,null).exports),V=(n(410),n(381)),z=n(380);function H(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return G(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return c=t.done,t},e:function(t){l=!0,o=t},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function G(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var W={_404:Object(y.r)(V.a),_default:Object(y.r)(z.a)},$={render:function(t,e){var n=t("NuxtLoading",{ref:"loading"}),r=t(this.layout||"nuxt"),o=t("div",{domProps:{id:"__layout"},key:this.layoutName},[r]),c=t("transition",{props:{name:"layout",mode:"out-in"},on:{beforeEnter:function(t){window.$nuxt.$nextTick((function(){window.$nuxt.$emit("triggerScroll")}))}}},[o]);return t("div",{domProps:{id:"__nuxt"}},[n,c])},data:function(){return{isOnline:!0,layout:null,layoutName:"",nbFetching:0}},beforeCreate:function(){c.a.util.defineReactive(this,"nuxt",this.$options.nuxt)},created:function(){this.$root.$options.$nuxt=this,window.$nuxt=this,this.refreshOnlineStatus(),window.addEventListener("online",this.refreshOnlineStatus),window.addEventListener("offline",this.refreshOnlineStatus),this.error=this.nuxt.error,this.context=this.$options.context},mounted:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.$loading=t.$refs.loading,!t.isPreview){e.next=9;break}if(!t.$store||!t.$store._actions.nuxtServerInit){e.next=6;break}return t.$loading.start(),e.next=6,t.$store.dispatch("nuxtServerInit",t.context);case 6:return e.next=8,t.refresh();case 8:t.$loading.finish();case 9:case"end":return e.stop()}}),e)})))()},watch:{"nuxt.err":"errorChanged"},computed:{isOffline:function(){return!this.isOnline},isFetching:function(){return this.nbFetching>0},isPreview:function(){return Boolean(this.$options.previewData)}},methods:{refreshOnlineStatus:function(){void 0===window.navigator.onLine?this.isOnline=!0:this.isOnline=window.navigator.onLine},refresh:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=Object(y.h)(t.$route)).length){e.next=3;break}return e.abrupt("return");case 3:return t.$loading.start(),r=n.map((function(e){var p=[];if(e.$options.fetch&&e.$options.fetch.length&&p.push(Object(y.p)(e.$options.fetch,t.context)),e.$fetch)p.push(e.$fetch());else{var n,r=H(Object(y.e)(e.$vnode.componentInstance));try{for(r.s();!(n=r.n()).done;){var component=n.value;p.push(component.$fetch())}}catch(t){r.e(t)}finally{r.f()}}return e.$options.asyncData&&p.push(Object(y.p)(e.$options.asyncData,t.context).then((function(t){for(var n in t)c.a.set(e.$data,n,t[n])}))),Promise.all(p)})),e.prev=5,e.next=8,Promise.all(r);case 8:e.next=15;break;case 10:e.prev=10,e.t0=e.catch(5),t.$loading.fail(e.t0),Object(y.k)(e.t0),t.error(e.t0);case 15:t.$loading.finish();case 16:case"end":return e.stop()}}),e,null,[[5,10]])})))()},errorChanged:function(){if(this.nuxt.err){this.$loading&&(this.$loading.fail&&this.$loading.fail(this.nuxt.err),this.$loading.finish&&this.$loading.finish());var t=(R.options||R).layout;"function"==typeof t&&(t=t(this.context)),this.setLayout(t)}},setLayout:function(t){return t&&W["_"+t]||(t="default"),this.layoutName=t,this.layout=W["_"+t],this.layout},loadLayout:function(t){return t&&W["_"+t]||(t="default"),Promise.resolve(W["_"+t])},setPagePayload:function(t){this._pagePayload=t,this._payloadFetchIndex=0},fetchPayload:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,base,o,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=window.__NUXT__.staticAssetsBase,(base=(e.$router.options.base||"").replace(/\/+$/,""))&&t.startsWith(base)&&(t=t.substr(base.length)),t=(t.replace(/\/+$/,"")||"/").split("?")[0].split("#")[0],o=Object(y.u)(base,r,t,"payload.js"),n.prev=5,n.next=8,window.__NUXT_IMPORT__(decodeURI(t),encodeURI(o));case 8:return c=n.sent,e.setPagePayload(c),n.abrupt("return",c);case 13:throw n.prev=13,n.t0=n.catch(5),e.setPagePayload(!1),n.t0;case 17:case"end":return n.stop()}}),n,null,[[5,13]])})))()}},components:{NuxtLoading:U}},Q={};for(var X in Q)c.a.component(X,Q[X]);n(122),n(300);var Y=n(245),K=n(4);function J(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function Z(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?J(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):J(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function tt(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return et(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return et(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return c=t.done,t},e:function(t){l=!0,o=t},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function et(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var nt=function(){var t=this;if(!(l.a.hasMetaInfo?l.a.hasMetaInfo(this):this._hasMetaInfo)||!this.$i18n||!this.$i18n.locale||!this.$i18n.locales||!1===this.$options[K.a]||this.$options[K.a]&&!1===this.$options[K.a].seo)return{};var e={htmlAttrs:{},link:[],meta:[]},n=this.$i18n.locales.find((function(e){return e[K.c]===t.$i18n.locale})),r=ut(n);return n&&r&&(e.htmlAttrs.lang=r),it.bind(this)(this.$i18n.locales,this.$i18n.__baseUrl,e.link),ot.bind(this)(this.$i18n.__baseUrl,e.link),at.bind(this)(n,r,e.meta),st.bind(this)(this.$i18n.locales,r,e.meta),e};function it(t,e,link){if(K.u!==K.h.NO_PREFIX){var n,r=new Map,o=tt(t);try{for(o.s();!(n=o.n()).done;){var c=n.value,l=ut(c);if(l){var h=l.split("-"),d=Object(N.a)(h,2),f=d[0],m=d[1];f&&m&&(c.isCatchallLocale||!r.has(f))&&r.set(f,c),r.set(l,c)}else console.warn("[".concat(K.g,"] Locale ISO code is required to generate alternate link"))}}catch(t){o.e(t)}finally{o.f()}var v,y=tt(r.entries());try{for(y.s();!(v=y.n()).done;){var _=Object(N.a)(v.value,2),x=_[0],w=_[1];link.push({hid:"i18n-alt-".concat(x),rel:"alternate",href:e+this.switchLocalePath(w.code),hreflang:x})}}catch(t){y.e(t)}finally{y.f()}K.k&&link.push({hid:"i18n-xd",rel:"alternate",href:e+this.switchLocalePath(K.k),hreflang:"x-default"})}}function ot(t,link){var e=this.localeRoute(Z(Z({},this.$route),{},{name:this.getRouteBaseName()})),n=e?e.path:null;n&&link.push({hid:"i18n-can",rel:"canonical",href:t+n})}function at(t,e,meta){t&&e&&meta.push({hid:"i18n-og",property:"og:locale",content:ct(t)})}function st(t,e,meta){var n=t.filter((function(t){var n=ut(t);return n&&n!==e})).map((function(t){return{hid:"i18n-og-alt-".concat(ut(t)),property:"og:locale:alternate",content:ct(t)}}));meta.push.apply(meta,Object(Y.a)(n))}function ut(t){return t[K.f]}function ct(t){return ut(t).replace(/-/g,"_")}var lt={install:function(t){t.mixin({head:nt})}};c.a.use(lt);n(34),n(90),n(91);var ht=n(383);function pt(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function ft(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?pt(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):pt(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function mt(t,e){var n=vt.call(this,t,e);if(n)return n.fullPath}function vt(t,e){if(t){var n=this.i18n;if(e=e||n.locale){"string"==typeof t&&(t="/"===t[0]?{path:t}:{name:t});var r=Object.assign({},t);if(t.path&&!t.name){var path=!(e===K.k&&[K.h.PREFIX_EXCEPT_DEFAULT,K.h.PREFIX_AND_DEFAULT].includes(K.u)||K.u===K.h.NO_PREFIX||n.differentDomains)?"/".concat(e).concat(t.path):t.path;path=path.replace(/\/+$/,"")+(K.v?"/":"")||"/",r.path=path}else{t.name||t.path||(r.name=this.getRouteBaseName()),r.name=function(t,e){var n=t+(K.u===K.h.NO_PREFIX?"":K.t+e);e===K.k&&K.u===K.h.PREFIX_AND_DEFAULT&&(n+=K.t+K.l);return n}(r.name,e);var o=r.params;o&&void 0===o[0]&&o.pathMatch&&(o[0]=o.pathMatch)}return this.router.resolve(r).route}}}function gt(t){var e=this.getRouteBaseName();if(!e)return"";var n=this.i18n,r=this.route,o=this.store;if(!r)return"";var c=r.params,l=Object(ht.a)(r,["params"]),h={};K.x&&K.x.syncRouteParams&&o&&(h=o.getters["".concat(K.x.moduleName,"/localeRouteParams")](t));var d=Object.assign({},l,{name:e,params:ft(ft(ft({},c),h),{},{0:c.pathMatch})}),path=this.localePath(d,t);if(n.differentDomains){var f=n.locales.find((function(e){return e[K.c]===t}));if(f&&f[K.d])path=window.location.protocol.split(":")[0]+"://"+f[K.d]+path;else console.warn("[".concat(K.g,"] Could not find domain name for locale ").concat(t))}return path}function yt(t){var e=void 0!==t?t:this.route;return e&&e.name?e.name.split(K.t)[0]:null}n(126).a.nuxti18n=function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(e){var n,r,o,c,l,h,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.app,!e.isHMR){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,n.i18n.__onNavigate(e.route);case 5:r=t.sent,o=Object(N.a)(r,3),c=o[0],l=o[1],h=o[2],c&&l&&(d=h?e.route.query:void 0,e.redirect(c,l,d));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();var _t=function(t){return function(){var e={getRouteBaseName:this.getRouteBaseName,i18n:this.$i18n,localePath:this.localePath,req:null,route:this.$route,router:this.$router,store:this.$store};return t.apply(e,arguments)}},bt=function(t,e){return function(){var n=t.app,r=(t.req,t.route),o=t.store,c={getRouteBaseName:n.getRouteBaseName,i18n:n.i18n,localePath:n.localePath,req:null,route:r,router:n.router,store:o};return e.apply(c,arguments)}},xt={install:function(t){t.mixin({methods:{localePath:_t(mt),localeRoute:_t(vt),switchLocalePath:_t(gt),getRouteBaseName:_t(yt)}})}},wt=function(t){c.a.use(xt);var e=t.app;e.localePath=bt(t,mt),e.localeRoute=bt(t,vt),e.switchLocalePath=bt(t,gt),e.getRouteBaseName=bt(t,yt)},Et=n(373),Mt=n.n(Et),St=["compactDisplay","currency","currencyDisplay","currencySign","localeMatcher","notation","numberingSystem","signDisplay","style","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"];function Tt(t,e){"undefined"!=typeof console&&(console.warn("[vue-i18n] "+t),e&&console.warn(e.stack))}var Dt=Array.isArray;function Ot(t){return null!==t&&"object"==typeof t}function Ct(t){return"string"==typeof t}var At=Object.prototype.toString;function kt(t){return"[object Object]"===At.call(t)}function Pt(t){return null==t}function jt(t){return"function"==typeof t}function Lt(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=null,r=null;return 1===t.length?Ot(t[0])||Dt(t[0])?r=t[0]:"string"==typeof t[0]&&(n=t[0]):2===t.length&&("string"==typeof t[0]&&(n=t[0]),(Ot(t[1])||Dt(t[1]))&&(r=t[1])),{locale:n,params:r}}function It(t){return JSON.parse(JSON.stringify(t))}function Rt(t,e){return!!~t.indexOf(e)}var Nt=Object.prototype.hasOwnProperty;function Ft(t,e){return Nt.call(t,e)}function Bt(t){for(var e=arguments,output=Object(t),i=1;i<arguments.length;i++){var source=e[i];if(null!=source){var n=void 0;for(n in source)Ft(source,n)&&(Ot(source[n])?output[n]=Bt(output[n],source[n]):output[n]=source[n])}}return output}function Ut(a,b){if(a===b)return!0;var t=Ot(a),e=Ot(b);if(!t||!e)return!t&&!e&&String(a)===String(b);try{var n=Dt(a),r=Dt(b);if(n&&r)return a.length===b.length&&a.every((function(t,i){return Ut(t,b[i])}));if(n||r)return!1;var o=Object.keys(a),c=Object.keys(b);return o.length===c.length&&o.every((function(t){return Ut(a[t],b[t])}))}catch(t){return!1}}function Vt(t){return null!=t&&Object.keys(t).forEach((function(e){"string"==typeof t[e]&&(t[e]=t[e].replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"))})),t}var zt={beforeCreate:function(){var t=this.$options;if(t.i18n=t.i18n||(t.__i18n?{}:null),t.i18n)if(t.i18n instanceof ge){if(t.__i18n)try{var e=t.i18n&&t.i18n.messages?t.i18n.messages:{};t.__i18n.forEach((function(t){e=Bt(e,JSON.parse(t))})),Object.keys(e).forEach((function(n){t.i18n.mergeLocaleMessage(n,e[n])}))}catch(t){0}this._i18n=t.i18n,this._i18nWatcher=this._i18n.watchI18nData()}else if(kt(t.i18n)){var n=this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof ge?this.$root.$i18n:null;if(n&&(t.i18n.root=this.$root,t.i18n.formatter=n.formatter,t.i18n.fallbackLocale=n.fallbackLocale,t.i18n.formatFallbackMessages=n.formatFallbackMessages,t.i18n.silentTranslationWarn=n.silentTranslationWarn,t.i18n.silentFallbackWarn=n.silentFallbackWarn,t.i18n.pluralizationRules=n.pluralizationRules,t.i18n.preserveDirectiveContent=n.preserveDirectiveContent),t.__i18n)try{var r=t.i18n&&t.i18n.messages?t.i18n.messages:{};t.__i18n.forEach((function(t){r=Bt(r,JSON.parse(t))})),t.i18n.messages=r}catch(t){0}var o=t.i18n.sharedMessages;o&&kt(o)&&(t.i18n.messages=Bt(t.i18n.messages,o)),this._i18n=new ge(t.i18n),this._i18nWatcher=this._i18n.watchI18nData(),(void 0===t.i18n.sync||t.i18n.sync)&&(this._localeWatcher=this.$i18n.watchLocale()),n&&n.onComponentInstanceCreated(this._i18n)}else 0;else this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof ge?this._i18n=this.$root.$i18n:t.parent&&t.parent.$i18n&&t.parent.$i18n instanceof ge&&(this._i18n=t.parent.$i18n)},beforeMount:function(){var t=this.$options;t.i18n=t.i18n||(t.__i18n?{}:null),t.i18n?(t.i18n instanceof ge||kt(t.i18n))&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0):(this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof ge||t.parent&&t.parent.$i18n&&t.parent.$i18n instanceof ge)&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0)},beforeDestroy:function(){if(this._i18n){var t=this;this.$nextTick((function(){t._subscribing&&(t._i18n.unsubscribeDataChanging(t),delete t._subscribing),t._i18nWatcher&&(t._i18nWatcher(),t._i18n.destroyVM(),delete t._i18nWatcher),t._localeWatcher&&(t._localeWatcher(),delete t._localeWatcher)}))}}},Ht={name:"i18n",functional:!0,props:{tag:{type:[String,Boolean,Object],default:"span"},path:{type:String,required:!0},locale:{type:String},places:{type:[Array,Object]}},render:function(t,e){var data=e.data,n=e.parent,r=e.props,o=e.slots,c=n.$i18n;if(c){var path=r.path,l=r.locale,h=r.places,d=o(),f=c.i(path,l,function(t){var e;for(e in t)if("default"!==e)return!1;return Boolean(e)}(d)||h?function(t,e){var n=e?function(t){0;return Array.isArray(t)?t.reduce(Wt,{}):Object.assign({},t)}(e):{};if(!t)return n;var r=(t=t.filter((function(t){return t.tag||""!==t.text.trim()}))).every(qt);0;return t.reduce(r?Gt:Wt,n)}(d.default,h):d),m=r.tag&&!0!==r.tag||!1===r.tag?r.tag:"span";return m?t(m,data,f):f}}};function Gt(t,e){return e.data&&e.data.attrs&&e.data.attrs.place&&(t[e.data.attrs.place]=e),t}function Wt(t,e,n){return t[n]=e,t}function qt(t){return Boolean(t.data&&t.data.attrs&&t.data.attrs.place)}var $t,Qt={name:"i18n-n",functional:!0,props:{tag:{type:[String,Boolean,Object],default:"span"},value:{type:Number,required:!0},format:{type:[String,Object]},locale:{type:String}},render:function(t,e){var n=e.props,r=e.parent,data=e.data,o=r.$i18n;if(!o)return null;var c=null,l=null;Ct(n.format)?c=n.format:Ot(n.format)&&(n.format.key&&(c=n.format.key),l=Object.keys(n.format).reduce((function(t,e){var r;return Rt(St,e)?Object.assign({},t,((r={})[e]=n.format[e],r)):t}),null));var h=n.locale||o.locale,d=o._ntp(n.value,h,c,l),f=d.map((function(t,e){var n,slot=data.scopedSlots&&data.scopedSlots[t.type];return slot?slot(((n={})[t.type]=t.value,n.index=e,n.parts=d,n)):t.value})),m=n.tag&&!0!==n.tag||!1===n.tag?n.tag:"span";return m?t(m,{attrs:data.attrs,class:data.class,staticClass:data.staticClass},f):f}};function Xt(t,e,n){Jt(t,n)&&Zt(t,e,n)}function Yt(t,e,n,r){if(Jt(t,n)){var o=n.context.$i18n;(function(t,e){var n=e.context;return t._locale===n.$i18n.locale})(t,n)&&Ut(e.value,e.oldValue)&&Ut(t._localeMessage,o.getLocaleMessage(o.locale))||Zt(t,e,n)}}function Kt(t,e,n,r){if(n.context){var o=n.context.$i18n||{};e.modifiers.preserve||o.preserveDirectiveContent||(t.textContent=""),t._vt=void 0,delete t._vt,t._locale=void 0,delete t._locale,t._localeMessage=void 0,delete t._localeMessage}else Tt("Vue instance does not exists in VNode context")}function Jt(t,e){var n=e.context;return n?!!n.$i18n||(Tt("VueI18n instance does not exists in Vue instance"),!1):(Tt("Vue instance does not exists in VNode context"),!1)}function Zt(t,e,n){var r,o,c=function(t){var path,e,n,r;Ct(t)?path=t:kt(t)&&(path=t.path,e=t.locale,n=t.args,r=t.choice);return{path:path,locale:e,args:n,choice:r}}(e.value),path=c.path,l=c.locale,h=c.args,d=c.choice;if(path||l||h)if(path){var f=n.context;t._vt=t.textContent=null!=d?(r=f.$i18n).tc.apply(r,[path,d].concat(te(l,h))):(o=f.$i18n).t.apply(o,[path].concat(te(l,h))),t._locale=f.$i18n.locale,t._localeMessage=f.$i18n.getLocaleMessage(f.$i18n.locale)}else Tt("`path` is required in v-t directive");else Tt("value type not supported")}function te(t,e){var n=[];return t&&n.push(t),e&&(Array.isArray(e)||kt(e))&&n.push(e),n}function ee(t){ee.installed=!0;var e;($t=t).version&&Number($t.version.split(".")[0]);(e=$t).prototype.hasOwnProperty("$i18n")||Object.defineProperty(e.prototype,"$i18n",{get:function(){return this._i18n}}),e.prototype.$t=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];var r=this.$i18n;return r._t.apply(r,[t,r.locale,r._getMessages(),this].concat(e))},e.prototype.$tc=function(t,e){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];var o=this.$i18n;return o._tc.apply(o,[t,o.locale,o._getMessages(),this,e].concat(n))},e.prototype.$te=function(t,e){var n=this.$i18n;return n._te(t,n.locale,n._getMessages(),e)},e.prototype.$d=function(t){for(var e,n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];return(e=this.$i18n).d.apply(e,[t].concat(n))},e.prototype.$n=function(t){for(var e,n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];return(e=this.$i18n).n.apply(e,[t].concat(n))},$t.mixin(zt),$t.directive("t",{bind:Xt,update:Yt,unbind:Kt}),$t.component(Ht.name,Ht),$t.component(Qt.name,Qt),$t.config.optionMergeStrategies.i18n=function(t,e){return void 0===e?t:e}}var ne=function(){this._caches=Object.create(null)};ne.prototype.interpolate=function(t,e){if(!e)return[t];var n=this._caches[t];return n||(n=function(t){var e=[],n=0,text="";for(;n<t.length;){var r=t[n++];if("{"===r){text&&e.push({type:"text",value:text}),text="";var sub="";for(r=t[n++];void 0!==r&&"}"!==r;)sub+=r,r=t[n++];var o="}"===r,c=re.test(sub)?"list":o&&ie.test(sub)?"named":"unknown";e.push({value:sub,type:c})}else"%"===r?"{"!==t[n]&&(text+=r):text+=r}return text&&e.push({type:"text",value:text}),e}(t),this._caches[t]=n),function(t,e){var n=[],r=0,o=Array.isArray(e)?"list":Ot(e)?"named":"unknown";if("unknown"===o)return n;for(;r<t.length;){var c=t[r];switch(c.type){case"text":n.push(c.value);break;case"list":n.push(e[parseInt(c.value,10)]);break;case"named":"named"===o&&n.push(e[c.value]);break;case"unknown":0}r++}return n}(n,e)};var re=/^(?:\d)+/,ie=/^(?:\w)+/;var oe=[];oe[0]={ws:[0],ident:[3,0],"[":[4],eof:[7]},oe[1]={ws:[1],".":[2],"[":[4],eof:[7]},oe[2]={ws:[2],ident:[3,0],0:[3,0],number:[3,0]},oe[3]={ident:[3,0],0:[3,0],number:[3,0],ws:[1,1],".":[2,1],"[":[4,1],eof:[7,1]},oe[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],eof:8,else:[4,0]},oe[5]={"'":[4,0],eof:8,else:[5,0]},oe[6]={'"':[4,0],eof:8,else:[6,0]};var ae=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function se(t){if(null==t)return"eof";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"ident";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return"ident"}function ue(path){var t,a,e,n=path.trim();return("0"!==path.charAt(0)||!isNaN(path))&&(e=n,ae.test(e)?(a=(t=n).charCodeAt(0))!==t.charCodeAt(t.length-1)||34!==a&&39!==a?t:t.slice(1,-1):"*"+n)}var ce=function(){this._cache=Object.create(null)};ce.prototype.parsePath=function(path){var t=this._cache[path];return t||(t=function(path){var t,e,n,r,o,c,l,h=[],d=-1,f=0,m=0,v=[];function y(){var t=path[d+1];if(5===f&&"'"===t||6===f&&'"'===t)return d++,n="\\"+t,v[0](),!0}for(v[1]=function(){void 0!==e&&(h.push(e),e=void 0)},v[0]=function(){void 0===e?e=n:e+=n},v[2]=function(){v[0](),m++},v[3]=function(){if(m>0)m--,f=4,v[0]();else{if(m=0,void 0===e)return!1;if(!1===(e=ue(e)))return!1;v[1]()}};null!==f;)if(d++,"\\"!==(t=path[d])||!y()){if(r=se(t),8===(o=(l=oe[f])[r]||l.else||8))return;if(f=o[0],(c=v[o[1]])&&(n=void 0===(n=o[2])?t:n,!1===c()))return;if(7===f)return h}}(path))&&(this._cache[path]=t),t||[]},ce.prototype.getPathValue=function(t,path){if(!Ot(t))return null;var e=this.parsePath(path);if(0===e.length)return null;for(var n=e.length,r=t,i=0;i<n;){var o=r[e[i]];if(void 0===o)return null;r=o,i++}return r};var le,he=/<\/?[\w\s="/.':;#-\/]+>/,pe=/(?:@(?:\.[a-z]+)?:(?:[\w\-_|.]+|\([\w\-_|.]+\)))/g,de=/^@(?:\.([a-z]+))?:/,fe=/[()]/g,me={upper:function(t){return t.toLocaleUpperCase()},lower:function(t){return t.toLocaleLowerCase()},capitalize:function(t){return""+t.charAt(0).toLocaleUpperCase()+t.substr(1)}},ve=new ne,ge=function(t){var e=this;void 0===t&&(t={}),!$t&&"undefined"!=typeof window&&window.Vue&&ee(window.Vue);var n=t.locale||"en-US",r=!1!==t.fallbackLocale&&(t.fallbackLocale||"en-US"),o=t.messages||{},c=t.dateTimeFormats||{},l=t.numberFormats||{};this._vm=null,this._formatter=t.formatter||ve,this._modifiers=t.modifiers||{},this._missing=t.missing||null,this._root=t.root||null,this._sync=void 0===t.sync||!!t.sync,this._fallbackRoot=void 0===t.fallbackRoot||!!t.fallbackRoot,this._formatFallbackMessages=void 0!==t.formatFallbackMessages&&!!t.formatFallbackMessages,this._silentTranslationWarn=void 0!==t.silentTranslationWarn&&t.silentTranslationWarn,this._silentFallbackWarn=void 0!==t.silentFallbackWarn&&!!t.silentFallbackWarn,this._dateTimeFormatters={},this._numberFormatters={},this._path=new ce,this._dataListeners=[],this._componentInstanceCreatedListener=t.componentInstanceCreatedListener||null,this._preserveDirectiveContent=void 0!==t.preserveDirectiveContent&&!!t.preserveDirectiveContent,this.pluralizationRules=t.pluralizationRules||{},this._warnHtmlInMessage=t.warnHtmlInMessage||"off",this._postTranslation=t.postTranslation||null,this._escapeParameterHtml=t.escapeParameterHtml||!1,this.getChoiceIndex=function(t,n){var r=Object.getPrototypeOf(e);if(r&&r.getChoiceIndex)return r.getChoiceIndex.call(e,t,n);var o,c;return e.locale in e.pluralizationRules?e.pluralizationRules[e.locale].apply(e,[t,n]):(o=t,c=n,o=Math.abs(o),2===c?o?o>1?1:0:1:o?Math.min(o,2):0)},this._exist=function(t,n){return!(!t||!n)&&(!Pt(e._path.getPathValue(t,n))||!!t[n])},"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||Object.keys(o).forEach((function(t){e._checkLocaleMessage(t,e._warnHtmlInMessage,o[t])})),this._initVM({locale:n,fallbackLocale:r,messages:o,dateTimeFormats:c,numberFormats:l})},ye={vm:{configurable:!0},messages:{configurable:!0},dateTimeFormats:{configurable:!0},numberFormats:{configurable:!0},availableLocales:{configurable:!0},locale:{configurable:!0},fallbackLocale:{configurable:!0},formatFallbackMessages:{configurable:!0},missing:{configurable:!0},formatter:{configurable:!0},silentTranslationWarn:{configurable:!0},silentFallbackWarn:{configurable:!0},preserveDirectiveContent:{configurable:!0},warnHtmlInMessage:{configurable:!0},postTranslation:{configurable:!0}};ge.prototype._checkLocaleMessage=function(t,e,n){var r=function(t,e,n,o){if(kt(n))Object.keys(n).forEach((function(c){var l=n[c];kt(l)?(o.push(c),o.push("."),r(t,e,l,o),o.pop(),o.pop()):(o.push(c),r(t,e,l,o),o.pop())}));else if(Dt(n))n.forEach((function(n,c){kt(n)?(o.push("["+c+"]"),o.push("."),r(t,e,n,o),o.pop(),o.pop()):(o.push("["+c+"]"),r(t,e,n,o),o.pop())}));else if(Ct(n)){if(he.test(n)){var c="Detected HTML in message '"+n+"' of keypath '"+o.join("")+"' at '"+e+"'. Consider component interpolation with '<i18n>' to avoid XSS. See https://bit.ly/2ZqJzkp";"warn"===t?Tt(c):"error"===t&&function(t,e){"undefined"!=typeof console&&(console.error("[vue-i18n] "+t),e&&console.error(e.stack))}(c)}}};r(e,t,n,[])},ge.prototype._initVM=function(data){var t=$t.config.silent;$t.config.silent=!0,this._vm=new $t({data:data}),$t.config.silent=t},ge.prototype.destroyVM=function(){this._vm.$destroy()},ge.prototype.subscribeDataChanging=function(t){this._dataListeners.push(t)},ge.prototype.unsubscribeDataChanging=function(t){!function(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)t.splice(n,1)}}(this._dataListeners,t)},ge.prototype.watchI18nData=function(){var t=this;return this._vm.$watch("$data",(function(){for(var i=t._dataListeners.length;i--;)$t.nextTick((function(){t._dataListeners[i]&&t._dataListeners[i].$forceUpdate()}))}),{deep:!0})},ge.prototype.watchLocale=function(){if(!this._sync||!this._root)return null;var t=this._vm;return this._root.$i18n.vm.$watch("locale",(function(e){t.$set(t,"locale",e),t.$forceUpdate()}),{immediate:!0})},ge.prototype.onComponentInstanceCreated=function(t){this._componentInstanceCreatedListener&&this._componentInstanceCreatedListener(t,this)},ye.vm.get=function(){return this._vm},ye.messages.get=function(){return It(this._getMessages())},ye.dateTimeFormats.get=function(){return It(this._getDateTimeFormats())},ye.numberFormats.get=function(){return It(this._getNumberFormats())},ye.availableLocales.get=function(){return Object.keys(this.messages).sort()},ye.locale.get=function(){return this._vm.locale},ye.locale.set=function(t){this._vm.$set(this._vm,"locale",t)},ye.fallbackLocale.get=function(){return this._vm.fallbackLocale},ye.fallbackLocale.set=function(t){this._localeChainCache={},this._vm.$set(this._vm,"fallbackLocale",t)},ye.formatFallbackMessages.get=function(){return this._formatFallbackMessages},ye.formatFallbackMessages.set=function(t){this._formatFallbackMessages=t},ye.missing.get=function(){return this._missing},ye.missing.set=function(t){this._missing=t},ye.formatter.get=function(){return this._formatter},ye.formatter.set=function(t){this._formatter=t},ye.silentTranslationWarn.get=function(){return this._silentTranslationWarn},ye.silentTranslationWarn.set=function(t){this._silentTranslationWarn=t},ye.silentFallbackWarn.get=function(){return this._silentFallbackWarn},ye.silentFallbackWarn.set=function(t){this._silentFallbackWarn=t},ye.preserveDirectiveContent.get=function(){return this._preserveDirectiveContent},ye.preserveDirectiveContent.set=function(t){this._preserveDirectiveContent=t},ye.warnHtmlInMessage.get=function(){return this._warnHtmlInMessage},ye.warnHtmlInMessage.set=function(t){var e=this,n=this._warnHtmlInMessage;if(this._warnHtmlInMessage=t,n!==t&&("warn"===t||"error"===t)){var r=this._getMessages();Object.keys(r).forEach((function(t){e._checkLocaleMessage(t,e._warnHtmlInMessage,r[t])}))}},ye.postTranslation.get=function(){return this._postTranslation},ye.postTranslation.set=function(t){this._postTranslation=t},ge.prototype._getMessages=function(){return this._vm.messages},ge.prototype._getDateTimeFormats=function(){return this._vm.dateTimeFormats},ge.prototype._getNumberFormats=function(){return this._vm.numberFormats},ge.prototype._warnDefault=function(t,e,n,r,o,c){if(!Pt(n))return n;if(this._missing){var l=this._missing.apply(null,[t,e,r,o]);if(Ct(l))return l}else 0;if(this._formatFallbackMessages){var h=Lt.apply(void 0,o);return this._render(e,c,h.params,e)}return e},ge.prototype._isFallbackRoot=function(t){return!t&&!Pt(this._root)&&this._fallbackRoot},ge.prototype._isSilentFallbackWarn=function(t){return this._silentFallbackWarn instanceof RegExp?this._silentFallbackWarn.test(t):this._silentFallbackWarn},ge.prototype._isSilentFallback=function(t,e){return this._isSilentFallbackWarn(e)&&(this._isFallbackRoot()||t!==this.fallbackLocale)},ge.prototype._isSilentTranslationWarn=function(t){return this._silentTranslationWarn instanceof RegExp?this._silentTranslationWarn.test(t):this._silentTranslationWarn},ge.prototype._interpolate=function(t,e,n,r,o,c,l){if(!e)return null;var h,d=this._path.getPathValue(e,n);if(Dt(d)||kt(d))return d;if(Pt(d)){if(!kt(e))return null;if(!Ct(h=e[n])&&!jt(h))return null}else{if(!Ct(d)&&!jt(d))return null;h=d}return Ct(h)&&(h.indexOf("@:")>=0||h.indexOf("@.")>=0)&&(h=this._link(t,e,h,r,"raw",c,l)),this._render(h,o,c,n)},ge.prototype._link=function(t,e,n,r,o,c,l){var h=n,d=h.match(pe);for(var f in d)if(d.hasOwnProperty(f)){var link=d[f],m=link.match(de),v=m[0],y=m[1],_=link.replace(v,"").replace(fe,"");if(Rt(l,_))return h;l.push(_);var x=this._interpolate(t,e,_,r,"raw"===o?"string":o,"raw"===o?void 0:c,l);if(this._isFallbackRoot(x)){if(!this._root)throw Error("unexpected error");var w=this._root.$i18n;x=w._translate(w._getMessages(),w.locale,w.fallbackLocale,_,r,o,c)}x=this._warnDefault(t,_,x,r,Dt(c)?c:[c],o),this._modifiers.hasOwnProperty(y)?x=this._modifiers[y](x):me.hasOwnProperty(y)&&(x=me[y](x)),l.pop(),h=x?h.replace(link,x):h}return h},ge.prototype._createMessageContext=function(t){var e=Dt(t)?t:[],n=Ot(t)?t:{};return{list:function(t){return e[t]},named:function(t){return n[t]}}},ge.prototype._render=function(t,e,n,path){if(jt(t))return t(this._createMessageContext(n));var r=this._formatter.interpolate(t,n,path);return r||(r=ve.interpolate(t,n,path)),"string"!==e||Ct(r)?r:r.join("")},ge.prototype._appendItemToChain=function(t,e,n){var r=!1;return Rt(t,e)||(r=!0,e&&(r="!"!==e[e.length-1],e=e.replace(/!/g,""),t.push(e),n&&n[e]&&(r=n[e]))),r},ge.prototype._appendLocaleToChain=function(t,e,n){var r,o=e.split("-");do{var c=o.join("-");r=this._appendItemToChain(t,c,n),o.splice(-1,1)}while(o.length&&!0===r);return r},ge.prototype._appendBlockToChain=function(t,e,n){for(var r=!0,i=0;i<e.length&&"boolean"==typeof r;i++){var o=e[i];Ct(o)&&(r=this._appendLocaleToChain(t,o,n))}return r},ge.prototype._getLocaleChain=function(t,e){if(""===t)return[];this._localeChainCache||(this._localeChainCache={});var n=this._localeChainCache[t];if(!n){e||(e=this.fallbackLocale),n=[];for(var r,o=[t];Dt(o);)o=this._appendBlockToChain(n,o,e);(o=Ct(r=Dt(e)?e:Ot(e)?e.default?e.default:null:e)?[r]:r)&&this._appendBlockToChain(n,o,null),this._localeChainCache[t]=n}return n},ge.prototype._translate=function(t,e,n,r,o,c,l){for(var h,d=this._getLocaleChain(e,n),i=0;i<d.length;i++){var f=d[i];if(!Pt(h=this._interpolate(f,t[f],r,o,c,l,[r])))return h}return null},ge.prototype._t=function(t,e,n,r){for(var o,c=[],l=arguments.length-4;l-- >0;)c[l]=arguments[l+4];if(!t)return"";var h=Lt.apply(void 0,c);this._escapeParameterHtml&&(h.params=Vt(h.params));var d=h.locale||e,f=this._translate(n,d,this.fallbackLocale,t,r,"string",h.params);if(this._isFallbackRoot(f)){if(!this._root)throw Error("unexpected error");return(o=this._root).$t.apply(o,[t].concat(c))}return f=this._warnDefault(d,t,f,r,c,"string"),this._postTranslation&&null!=f&&(f=this._postTranslation(f,t)),f},ge.prototype.t=function(t){for(var e,n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];return(e=this)._t.apply(e,[t,this.locale,this._getMessages(),null].concat(n))},ge.prototype._i=function(t,e,n,r,o){var c=this._translate(n,e,this.fallbackLocale,t,r,"raw",o);if(this._isFallbackRoot(c)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.i(t,e,o)}return this._warnDefault(e,t,c,r,[o],"raw")},ge.prototype.i=function(t,e,n){return t?(Ct(e)||(e=this.locale),this._i(t,e,this._getMessages(),null,n)):""},ge.prototype._tc=function(t,e,n,r,o){for(var c,l=[],h=arguments.length-5;h-- >0;)l[h]=arguments[h+5];if(!t)return"";void 0===o&&(o=1);var d={count:o,n:o},f=Lt.apply(void 0,l);return f.params=Object.assign(d,f.params),l=null===f.locale?[f.params]:[f.locale,f.params],this.fetchChoice((c=this)._t.apply(c,[t,e,n,r].concat(l)),o)},ge.prototype.fetchChoice=function(t,e){if(!t||!Ct(t))return null;var n=t.split("|");return n[e=this.getChoiceIndex(e,n.length)]?n[e].trim():t},ge.prototype.tc=function(t,e){for(var n,r=[],o=arguments.length-2;o-- >0;)r[o]=arguments[o+2];return(n=this)._tc.apply(n,[t,this.locale,this._getMessages(),null,e].concat(r))},ge.prototype._te=function(t,e,n){for(var r=[],o=arguments.length-3;o-- >0;)r[o]=arguments[o+3];var c=Lt.apply(void 0,r).locale||e;return this._exist(n[c],t)},ge.prototype.te=function(t,e){return this._te(t,this.locale,this._getMessages(),e)},ge.prototype.getLocaleMessage=function(t){return It(this._vm.messages[t]||{})},ge.prototype.setLocaleMessage=function(t,e){"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||this._checkLocaleMessage(t,this._warnHtmlInMessage,e),this._vm.$set(this._vm.messages,t,e)},ge.prototype.mergeLocaleMessage=function(t,e){"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||this._checkLocaleMessage(t,this._warnHtmlInMessage,e),this._vm.$set(this._vm.messages,t,Bt({},this._vm.messages[t]||{},e))},ge.prototype.getDateTimeFormat=function(t){return It(this._vm.dateTimeFormats[t]||{})},ge.prototype.setDateTimeFormat=function(t,e){this._vm.$set(this._vm.dateTimeFormats,t,e),this._clearDateTimeFormat(t,e)},ge.prototype.mergeDateTimeFormat=function(t,e){this._vm.$set(this._vm.dateTimeFormats,t,Bt(this._vm.dateTimeFormats[t]||{},e)),this._clearDateTimeFormat(t,e)},ge.prototype._clearDateTimeFormat=function(t,e){for(var n in e){var r=t+"__"+n;this._dateTimeFormatters.hasOwnProperty(r)&&delete this._dateTimeFormatters[r]}},ge.prototype._localizeDateTime=function(t,e,n,r,o){for(var c=e,l=r[c],h=this._getLocaleChain(e,n),i=0;i<h.length;i++){var d=h[i];if(c=d,!Pt(l=r[d])&&!Pt(l[o]))break}if(Pt(l)||Pt(l[o]))return null;var f=l[o],m=c+"__"+o,v=this._dateTimeFormatters[m];return v||(v=this._dateTimeFormatters[m]=new Intl.DateTimeFormat(c,f)),v.format(t)},ge.prototype._d=function(t,e,n){if(!n)return new Intl.DateTimeFormat(e).format(t);var r=this._localizeDateTime(t,e,this.fallbackLocale,this._getDateTimeFormats(),n);if(this._isFallbackRoot(r)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.d(t,n,e)}return r||""},ge.prototype.d=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];var r=this.locale,o=null;return 1===e.length?Ct(e[0])?o=e[0]:Ot(e[0])&&(e[0].locale&&(r=e[0].locale),e[0].key&&(o=e[0].key)):2===e.length&&(Ct(e[0])&&(o=e[0]),Ct(e[1])&&(r=e[1])),this._d(t,r,o)},ge.prototype.getNumberFormat=function(t){return It(this._vm.numberFormats[t]||{})},ge.prototype.setNumberFormat=function(t,e){this._vm.$set(this._vm.numberFormats,t,e),this._clearNumberFormat(t,e)},ge.prototype.mergeNumberFormat=function(t,e){this._vm.$set(this._vm.numberFormats,t,Bt(this._vm.numberFormats[t]||{},e)),this._clearNumberFormat(t,e)},ge.prototype._clearNumberFormat=function(t,e){for(var n in e){var r=t+"__"+n;this._numberFormatters.hasOwnProperty(r)&&delete this._numberFormatters[r]}},ge.prototype._getNumberFormatter=function(t,e,n,r,o,c){for(var l=e,h=r[l],d=this._getLocaleChain(e,n),i=0;i<d.length;i++){var f=d[i];if(l=f,!Pt(h=r[f])&&!Pt(h[o]))break}if(Pt(h)||Pt(h[o]))return null;var m,v=h[o];if(c)m=new Intl.NumberFormat(l,Object.assign({},v,c));else{var y=l+"__"+o;(m=this._numberFormatters[y])||(m=this._numberFormatters[y]=new Intl.NumberFormat(l,v))}return m},ge.prototype._n=function(t,e,n,r){if(!ge.availabilities.numberFormat)return"";if(!n)return(r?new Intl.NumberFormat(e,r):new Intl.NumberFormat(e)).format(t);var o=this._getNumberFormatter(t,e,this.fallbackLocale,this._getNumberFormats(),n,r),c=o&&o.format(t);if(this._isFallbackRoot(c)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.n(t,Object.assign({},{key:n,locale:e},r))}return c||""},ge.prototype.n=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];var r=this.locale,o=null,c=null;return 1===e.length?Ct(e[0])?o=e[0]:Ot(e[0])&&(e[0].locale&&(r=e[0].locale),e[0].key&&(o=e[0].key),c=Object.keys(e[0]).reduce((function(t,n){var r;return Rt(St,n)?Object.assign({},t,((r={})[n]=e[0][n],r)):t}),null)):2===e.length&&(Ct(e[0])&&(o=e[0]),Ct(e[1])&&(r=e[1])),this._n(t,r,o,c)},ge.prototype._ntp=function(t,e,n,r){if(!ge.availabilities.numberFormat)return[];if(!n)return(r?new Intl.NumberFormat(e,r):new Intl.NumberFormat(e)).formatToParts(t);var o=this._getNumberFormatter(t,e,this.fallbackLocale,this._getNumberFormats(),n,r),c=o&&o.formatToParts(t);if(this._isFallbackRoot(c)){if(!this._root)throw Error("unexpected error");return this._root.$i18n._ntp(t,e,n,r)}return c||[]},Object.defineProperties(ge.prototype,ye),Object.defineProperty(ge,"availabilities",{get:function(){if(!le){var t="undefined"!=typeof Intl;le={dateTimeFormat:t&&void 0!==Intl.DateTimeFormat,numberFormat:t&&void 0!==Intl.NumberFormat}}return le}}),ge.install=ee,ge.version="8.22.2";var _e=ge,be=(n(80),n(511),n(148),n(104),n(33)),xe=n(101),we=n(241),Ee=n.n(we);function Me(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function Se(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Me(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):Me(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function Te(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return De(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return De(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return c=t.done,t},e:function(t){l=!0,o=t},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function De(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var Oe=function(t,e){var n,r=[],o=Te(e.entries());try{var c=function(){var o=Object(N.a)(n.value,2),c=o[0],l=o[1],h=t.find((function(t){return t.toLowerCase()===l.toLowerCase()}));if(h)return r.push({code:h,score:1-c/e.length}),"break"};for(o.s();!(n=o.n()).done;){if("break"===c())break}}catch(t){o.e(t)}finally{o.f()}var l,h=Te(e.entries());try{for(h.s();!(l=h.n()).done;){var d=Object(N.a)(l.value,2),f=d[0],m=d[1];if(m.includes("-")){var v=m.split("-")[0].toLowerCase();if(t.includes(v)){r.push({code:v,score:.999-f/e.length});break}}}}catch(t){h.e(t)}finally{h.f()}return r.length>1&&r.sort((function(t,e){return t.score===e.score?e.code.length-t.code.length:e.score-t.score})),r.length?r[0].code:null},Ce=function(t,e){return"function"==typeof t?t(e):t},Ae=function(t,e,n){var r=n.localDomainKey,o=n.localeCodeKey,c=null;if(c=window.location.host){var l=t.find((function(t){return t[r]===c}));if(l)return l[o]}return null},ke=function(t,e){var n,r=e.useCookie,o=e.cookieKey,c=e.localeCodes;if(r&&(n=Ee.a.get(o),c.includes(n)))return n},Pe=function(t,e,n){var r=n.useCookie,o=n.cookieDomain,c=n.cookieKey,l=n.cookieSecure,h=n.cookieCrossOrigin;if(r){var d=new Date,f={expires:new Date(d.setDate(d.getDate()+365)),path:"/",sameSite:h?"none":"lax",secure:h||l};o&&(f.domain=o),Ee.a.set(c,t,f)}},je=function(t,e,n,r){t.registerModule(e.moduleName,{namespaced:!0,state:function(){return Se(Se(Se({},e.syncLocale?{locale:""}:{}),e.syncMessages?{messages:{}}:{}),e.syncRouteParams?{routeParams:{}}:{})},actions:Se(Se(Se({},e.syncLocale?{setLocale:function(t,e){(0,t.commit)("setLocale",e)}}:{}),e.syncMessages?{setMessages:function(t,e){(0,t.commit)("setMessages",e)}}:{}),e.syncRouteParams?{setRouteParams:function(t,e){(0,t.commit)("setRouteParams",e)}}:{}),mutations:Se(Se(Se({},e.syncLocale?{setLocale:function(t,e){t.locale=e}}:{}),e.syncMessages?{setMessages:function(t,e){t.messages=e}}:{}),e.syncRouteParams?{setRouteParams:function(t,e){t.routeParams=e}}:{}),getters:Se({},e.syncRouteParams?{localeRouteParams:function(t){var e=t.routeParams;return function(t){return e[t]||{}}}}:{})},{preserveState:!!t.state[e.moduleName]})},Le=function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(e){var n,r,o,c,l=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=l.length>1&&void 0!==l[1]?l[1]:null,r=l.length>2&&void 0!==l[2]?l[2]:null,o=l.length>3?l[3]:void 0,!(c=o.vuex)||!e){t.next=10;break}if(null===n||!c.syncLocale){t.next=7;break}return t.next=7,e.dispatch(c.moduleName+"/setLocale",n);case 7:if(null===r||!c.syncMessages){t.next=10;break}return t.next=10,e.dispatch(c.moduleName+"/setMessages",r);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();c.a.use(_e);var Ie,Re,Ne,Fe,Be,Ue,Ve,ze,He,Ge=K.m.alwaysRedirect,We=K.m.onlyOnRoot,qe=K.m.fallbackLocale,$e=(Ie=K.p,Re={routesNameSeparator:K.t,defaultLocaleRouteNameSuffix:K.l},Ne=Re.routesNameSeparator,Fe=Re.defaultLocaleRouteNameSuffix,Be="(".concat(Ie.join("|"),")"),Ue="(?:".concat(Ne).concat(Fe,")?"),Ve=new RegExp("".concat(Ne).concat(Be).concat(Ue,"$"),"i"),ze=new RegExp("^/".concat(Be,"/"),"i"),function(t){if(t.name){var e=t.name.match(Ve);if(e&&e.length>1)return e[1]}else if(t.path){var n=t.path.match(ze);if(n&&n.length>1)return n[1]}return null}),Qe=function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(e){var o,l,h,d,f,m,v,y,_,x,w,E,M,S,T,D,O,C,A,k,P,j,L;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.app,l=e.route,h=e.store,d=e.req,e.res,f=e.redirect,K.x&&h&&je(h,K.x,K.p,K.g),m=K.m.useCookie,v=K.m.cookieKey,y=K.m.cookieDomain,_=K.m.cookieSecure,x=K.m.cookieCrossOrigin,w=function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(r){var c,l,d,v,y,_,x,w,M=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=M.length>1&&void 0!==M[1]?M[1]:{},l=c.initialSetup,(d=void 0!==l&&l)||!o.i18n.differentDomains){t.next=3;break}return t.abrupt("return");case 3:if(r!==o.i18n.locale){t.next=5;break}return t.abrupt("return");case 5:if(v=o.i18n.locale,d||o.i18n.beforeLanguageSwitch(v,r),m&&o.i18n.setLocaleCookie(r),!K.o){t.next=15;break}if(y=n(513),_=y.loadLanguageAsync,!o.i18n.fallbackLocale||r===o.i18n.fallbackLocale){t.next=13;break}return t.next=13,_(e,o.i18n.fallbackLocale);case 13:return t.next=15,_(e,r);case 15:return o.i18n.locale=r,t.next=18,Le(h,r,o.i18n.getLocaleMessage(r),{vuex:K.x});case 18:x=e.route,w=E(x,r),d?o.i18n.__redirect=w:(o.i18n.onLanguageSwitched(v,r),w&&f(w));case 21:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),E=function(t,e){if(!e||o.i18n.differentDomains||K.u===K.h.NO_PREFIX)return"";if($e(t)===e&&(!We||e!==K.k||K.u!==K.h.PREFIX_AND_DEFAULT))return"";var n=o.switchLocalePath(e);return n||(n=o.localePath(t.fullPath,e)),n===t.fullPath?"":n},M=function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(n){var r,path,c,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("/"!==n.path||!K.s){t.next=5;break}return r=302,path=K.s,"string"!=typeof K.s&&(r=K.s.statusCode,path=K.s.path),t.abrupt("return",[r,"/".concat(path),!0]);case 5:if(!(c=o.i18n.__redirect)){t.next=9;break}return o.i18n.__redirect=null,t.abrupt("return",[302,c]);case 9:return o.i18n.__baseUrl=Ce(K.i,e),l=K.m&&S(n)||$e(n)||o.i18n.locale||o.i18n.defaultLocale||"",t.next=13,o.i18n.setLocale(l);case 13:return t.abrupt("return",[null,null]);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),S=function(t){if(We&&K.u!==K.h.NO_PREFIX&&"/"!==t.path)return!1;var e;m&&(e=o.i18n.getLocaleCookie())||("undefined"!=typeof navigator&&navigator.languages?e=Oe(K.p,navigator.languages):d&&void 0!==d.headers["accept-language"]&&(e=Oe(K.p,d.headers["accept-language"].split(",").map((function(t){return t.split(";")[0]})))));var n=e||qe;return!(!n||m&&!Ge&&o.i18n.getLocaleCookie()||n===o.i18n.locale)&&n},T=function(t){t.locales=K.q,t.defaultLocale=K.k,t.differentDomains=K.n,t.beforeLanguageSwitch=K.j,t.onLanguageSwitched=K.r,t.setLocaleCookie=function(t){return Pe(t,0,{useCookie:m,cookieDomain:y,cookieKey:v,cookieSecure:_,cookieCrossOrigin:x})},t.getLocaleCookie=function(){return ke(0,{useCookie:m,cookieKey:v,localeCodes:K.p})},t.setLocale=function(t){return w(t)},t.__baseUrl=o.i18n.__baseUrl},(D="function"==typeof K.w?Object(K.w)(e):Mt()(K.w)).componentInstanceCreatedListener=T,o.i18n=new _e(D),o.i18n.locale="",o.i18n.fallbackLocale=D.fallbackLocale||"",T(o.i18n),o.i18n.__baseUrl=Ce(K.i,e),o.i18n.__onNavigate=M,c.a.prototype.$nuxtI18nSeo=nt,h&&(h.$i18n=o.i18n,h.state.localeDomains&&o.i18n.locales.forEach((function(t){t.domain=h.state.localeDomains[t.code]}))),(O=K.m&&S(l))||(K.x&&K.x.syncLocale&&h&&""!==h.state[K.x.moduleName].locale?O=h.state[K.x.moduleName].locale:o.i18n.differentDomains?(C={localDomainKey:K.d,localeCodeKey:K.c},A=Ae(K.q,0,C),O=A):K.u!==K.h.NO_PREFIX?(k=$e(l),O=k):m&&(O=o.i18n.getLocaleCookie())),O||(O=o.i18n.defaultLocale||""),t.next=24,w(O,{initialSetup:!0});case 24:if(!K.b){t.next=32;break}return t.next=27,M(e.route);case 27:P=t.sent,j=Object(N.a)(P,2),j[0],(L=j[1])&&location.assign(L);case 32:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Xe=n(242),Ye=(n(515),n(516),n(2)),Ke=n(3),Je=n(319),Ze=n(47),tn=n(37),en=n(215),nn=n(9),rn=n(55);function on(t){return t<7}!function(t){t[t.loading=1]="loading",t[t.setVariables=2]="setVariables",t[t.fetchMore=3]="fetchMore",t[t.refetch=4]="refetch",t[t.poll=6]="poll",t[t.ready=7]="ready",t[t.error=8]="error"}(He||(He={}));var an=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ye.__extends)(e,t),e.prototype[en.default]=function(){return this},e.prototype["@@observable"]=function(){return this},e}(Ze.a);function sn(t){return Array.isArray(t)&&t.length>0}var un,cn=function(t){function e(n){var r,o,c=n.graphQLErrors,l=n.networkError,h=n.errorMessage,d=n.extraInfo,f=t.call(this,h)||this;return f.graphQLErrors=c||[],f.networkError=l||null,f.message=h||(o="",sn((r=f).graphQLErrors)&&r.graphQLErrors.forEach((function(t){var e=t?t.message:"Error message not found.";o+="GraphQL error: "+e+"\n"})),r.networkError&&(o+="Network error: "+r.networkError.message+"\n"),o=o.replace(/\n$/,"")),f.extraInfo=d,f.__proto__=e.prototype,f}return Object(Ye.__extends)(e,t),e}(Error);!function(t){t[t.normal=1]="normal",t[t.refetch=2]="refetch",t[t.poll=3]="poll"}(un||(un={}));var ln=function(t){function e(e){var n=e.queryManager,r=e.options,o=e.shouldSubscribe,c=void 0===o||o,l=t.call(this,(function(t){return l.onSubscribe(t)}))||this;l.observers=new Set,l.subscriptions=new Set,l.isTornDown=!1,l.options=r,l.variables=r.variables||{},l.queryId=n.generateQueryId(),l.shouldSubscribe=c;var h=Object(Ke.getOperationDefinition)(r.query);return l.queryName=h&&h.name&&h.name.value,l.queryManager=n,l}return Object(Ye.__extends)(e,t),e.prototype.result=function(){var t=this;return new Promise((function(e,n){var r={next:function(n){e(n),t.observers.delete(r),t.observers.size||t.queryManager.removeQuery(t.queryId),setTimeout((function(){o.unsubscribe()}),0)},error:n},o=t.subscribe(r)}))},e.prototype.currentResult=function(){var t=this.getCurrentResult();return void 0===t.data&&(t.data={}),t},e.prototype.getCurrentResult=function(){if(this.isTornDown){var t=this.lastResult;return{data:!this.lastError&&t&&t.data||void 0,error:this.lastError,loading:!1,networkStatus:He.error}}var e,n,r,o=this.queryManager.getCurrentQueryResult(this),data=o.data,c=o.partial,l=this.queryManager.queryStore.get(this.queryId),h=this.options.fetchPolicy,d="network-only"===h||"no-cache"===h;if(l){var f=l.networkStatus;if(n=l,void 0===(r=this.options.errorPolicy)&&(r="none"),n&&(n.networkError||"none"===r&&sn(n.graphQLErrors)))return{data:void 0,loading:!1,networkStatus:f,error:new cn({graphQLErrors:l.graphQLErrors,networkError:l.networkError})};l.variables&&(this.options.variables=Object(Ye.__assign)(Object(Ye.__assign)({},this.options.variables),l.variables),this.variables=this.options.variables),e={data:data,loading:on(f),networkStatus:f},l.graphQLErrors&&"all"===this.options.errorPolicy&&(e.errors=l.graphQLErrors)}else{var m=d||c&&"cache-only"!==h;e={data:data,loading:m,networkStatus:m?He.loading:He.ready}}return c||this.updateLastResult(Object(Ye.__assign)(Object(Ye.__assign)({},e),{stale:!1})),Object(Ye.__assign)(Object(Ye.__assign)({},e),{partial:c})},e.prototype.isDifferentFromLastResult=function(t){var e=this.lastResultSnapshot;return!(e&&t&&e.networkStatus===t.networkStatus&&e.stale===t.stale&&Object(Je.a)(e.data,t.data))},e.prototype.getLastResult=function(){return this.lastResult},e.prototype.getLastError=function(){return this.lastError},e.prototype.resetLastResults=function(){delete this.lastResult,delete this.lastResultSnapshot,delete this.lastError,this.isTornDown=!1},e.prototype.resetQueryStoreErrors=function(){var t=this.queryManager.queryStore.get(this.queryId);t&&(t.networkError=null,t.graphQLErrors=[])},e.prototype.refetch=function(t){var e=this.options.fetchPolicy;return"cache-only"===e?Promise.reject(new nn.a(1)):("no-cache"!==e&&"cache-and-network"!==e&&(e="network-only"),Object(Je.a)(this.variables,t)||(this.variables=Object(Ye.__assign)(Object(Ye.__assign)({},this.variables),t)),Object(Je.a)(this.options.variables,this.variables)||(this.options.variables=Object(Ye.__assign)(Object(Ye.__assign)({},this.options.variables),this.variables)),this.queryManager.fetchQuery(this.queryId,Object(Ye.__assign)(Object(Ye.__assign)({},this.options),{fetchPolicy:e}),un.refetch))},e.prototype.fetchMore=function(t){var e=this;Object(nn.b)(t.updateQuery,2);var n=Object(Ye.__assign)(Object(Ye.__assign)({},t.query?t:Object(Ye.__assign)(Object(Ye.__assign)(Object(Ye.__assign)({},this.options),t),{variables:Object(Ye.__assign)(Object(Ye.__assign)({},this.variables),t.variables)})),{fetchPolicy:"network-only"}),r=this.queryManager.generateQueryId();return this.queryManager.fetchQuery(r,n,un.normal,this.queryId).then((function(o){return e.updateQuery((function(e){return t.updateQuery(e,{fetchMoreResult:o.data,variables:n.variables})})),e.queryManager.stopQuery(r),o}),(function(t){throw e.queryManager.stopQuery(r),t}))},e.prototype.subscribeToMore=function(t){var e=this,n=this.queryManager.startGraphQLSubscription({query:t.document,variables:t.variables}).subscribe({next:function(n){var r=t.updateQuery;r&&e.updateQuery((function(t,e){var o=e.variables;return r(t,{subscriptionData:n,variables:o})}))},error:function(e){t.onError&&t.onError(e)}});return this.subscriptions.add(n),function(){e.subscriptions.delete(n)&&n.unsubscribe()}},e.prototype.setOptions=function(t){var e=this.options.fetchPolicy;this.options=Object(Ye.__assign)(Object(Ye.__assign)({},this.options),t),t.pollInterval?this.startPolling(t.pollInterval):0===t.pollInterval&&this.stopPolling();var n=t.fetchPolicy;return this.setVariables(this.options.variables,e!==n&&("cache-only"===e||"standby"===e||"network-only"===n),t.fetchResults)},e.prototype.setVariables=function(t,e,n){return void 0===e&&(e=!1),void 0===n&&(n=!0),this.isTornDown=!1,t=t||this.variables,!e&&Object(Je.a)(t,this.variables)?this.observers.size&&n?this.result():Promise.resolve():(this.variables=this.options.variables=t,this.observers.size?this.queryManager.fetchQuery(this.queryId,this.options):Promise.resolve())},e.prototype.updateQuery=function(t){var e=this.queryManager,n=e.getQueryWithPreviousResult(this.queryId),r=n.previousResult,o=n.variables,c=n.document,l=Object(Ke.tryFunctionOrLogError)((function(){return t(r,{variables:o})}));l&&(e.dataStore.markUpdateQueryResult(c,o,l),e.broadcastQueries())},e.prototype.stopPolling=function(){this.queryManager.stopPollingQuery(this.queryId),this.options.pollInterval=void 0},e.prototype.startPolling=function(t){dn(this),this.options.pollInterval=t,this.queryManager.startPollingQuery(this.options,this.queryId)},e.prototype.updateLastResult=function(t){var e=this.lastResult;return this.lastResult=t,this.lastResultSnapshot=this.queryManager.assumeImmutableResults?t:Object(Ke.cloneDeep)(t),e},e.prototype.onSubscribe=function(t){var e=this;try{var n=t._subscription._observer;n&&!n.error&&(n.error=hn)}catch(t){}var r=!this.observers.size;return this.observers.add(t),t.next&&this.lastResult&&t.next(this.lastResult),t.error&&this.lastError&&t.error(this.lastError),r&&this.setUpQuery(),function(){e.observers.delete(t)&&!e.observers.size&&e.tearDownQuery()}},e.prototype.setUpQuery=function(){var t=this,e=this.queryManager,n=this.queryId;this.shouldSubscribe&&e.addObservableQuery(n,this),this.options.pollInterval&&(dn(this),e.startPollingQuery(this.options,n));var r=function(e){t.updateLastResult(Object(Ye.__assign)(Object(Ye.__assign)({},t.lastResult),{errors:e.graphQLErrors,networkStatus:He.error,loading:!1})),pn(t.observers,"error",t.lastError=e)};e.observeQuery(n,this.options,{next:function(n){if(t.lastError||t.isDifferentFromLastResult(n)){var r=t.updateLastResult(n),o=t.options,c=o.query,l=o.variables,h=o.fetchPolicy;e.transform(c).hasClientExports?e.getLocalState().addExportedVariables(c,l).then((function(o){var l=t.variables;t.variables=t.options.variables=o,!n.loading&&r&&"cache-only"!==h&&e.transform(c).serverQuery&&!Object(Je.a)(l,o)?t.refetch():pn(t.observers,"next",n)})):pn(t.observers,"next",n)}},error:r}).catch(r)},e.prototype.tearDownQuery=function(){var t=this.queryManager;this.isTornDown=!0,t.stopPollingQuery(this.queryId),this.subscriptions.forEach((function(sub){return sub.unsubscribe()})),this.subscriptions.clear(),t.removeObservableQuery(this.queryId),t.stopQuery(this.queryId),this.observers.clear()},e}(an);function hn(t){}function pn(t,e,n){var r=[];t.forEach((function(t){return t[e]&&r.push(t)})),r.forEach((function(t){return t[e](n)}))}function dn(t){var e=t.options.fetchPolicy;Object(nn.b)("cache-first"!==e&&"cache-only"!==e,3)}var fn=function(){function t(){this.store={}}return t.prototype.getStore=function(){return this.store},t.prototype.get=function(t){return this.store[t]},t.prototype.initMutation=function(t,e,n){this.store[t]={mutation:e,variables:n||{},loading:!0,error:null}},t.prototype.markMutationError=function(t,e){var n=this.store[t];n&&(n.loading=!1,n.error=e)},t.prototype.markMutationResult=function(t){var e=this.store[t];e&&(e.loading=!1,e.error=null)},t.prototype.reset=function(){this.store={}},t}(),mn=function(){function t(){this.store={}}return t.prototype.getStore=function(){return this.store},t.prototype.get=function(t){return this.store[t]},t.prototype.initQuery=function(t){var e=this.store[t.queryId];Object(nn.b)(!e||e.document===t.document||Object(Je.a)(e.document,t.document),19);var n,r=!1,o=null;t.storePreviousVariables&&e&&e.networkStatus!==He.loading&&(Object(Je.a)(e.variables,t.variables)||(r=!0,o=e.variables)),n=r?He.setVariables:t.isPoll?He.poll:t.isRefetch?He.refetch:He.loading;var c=[];e&&e.graphQLErrors&&(c=e.graphQLErrors),this.store[t.queryId]={document:t.document,variables:t.variables,previousVariables:o,networkError:null,graphQLErrors:c,networkStatus:n,metadata:t.metadata},"string"==typeof t.fetchMoreForQueryId&&this.store[t.fetchMoreForQueryId]&&(this.store[t.fetchMoreForQueryId].networkStatus=He.fetchMore)},t.prototype.markQueryResult=function(t,e,n){this.store&&this.store[t]&&(this.store[t].networkError=null,this.store[t].graphQLErrors=sn(e.errors)?e.errors:[],this.store[t].previousVariables=null,this.store[t].networkStatus=He.ready,"string"==typeof n&&this.store[n]&&(this.store[n].networkStatus=He.ready))},t.prototype.markQueryError=function(t,e,n){this.store&&this.store[t]&&(this.store[t].networkError=e,this.store[t].networkStatus=He.error,"string"==typeof n&&this.markQueryResultClient(n,!0))},t.prototype.markQueryResultClient=function(t,e){var n=this.store&&this.store[t];n&&(n.networkError=null,n.previousVariables=null,e&&(n.networkStatus=He.ready))},t.prototype.stopQuery=function(t){delete this.store[t]},t.prototype.reset=function(t){var e=this;Object.keys(this.store).forEach((function(n){t.indexOf(n)<0?e.stopQuery(n):e.store[n].networkStatus=He.loading}))},t}();var vn=function(){function t(t){var e=t.cache,n=t.client,r=t.resolvers,o=t.fragmentMatcher;this.cache=e,n&&(this.client=n),r&&this.addResolvers(r),o&&this.setFragmentMatcher(o)}return t.prototype.addResolvers=function(t){var e=this;this.resolvers=this.resolvers||{},Array.isArray(t)?t.forEach((function(t){e.resolvers=Object(Ke.mergeDeep)(e.resolvers,t)})):this.resolvers=Object(Ke.mergeDeep)(this.resolvers,t)},t.prototype.setResolvers=function(t){this.resolvers={},this.addResolvers(t)},t.prototype.getResolvers=function(){return this.resolvers||{}},t.prototype.runResolvers=function(t){var e=t.document,n=t.remoteResult,r=t.context,o=t.variables,c=t.onlyRunForcedResolvers,l=void 0!==c&&c;return Object(Ye.__awaiter)(this,void 0,void 0,(function(){return Object(Ye.__generator)(this,(function(t){return e?[2,this.resolveDocument(e,n.data,r,o,this.fragmentMatcher,l).then((function(t){return Object(Ye.__assign)(Object(Ye.__assign)({},n),{data:t.result})}))]:[2,n]}))}))},t.prototype.setFragmentMatcher=function(t){this.fragmentMatcher=t},t.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},t.prototype.clientQuery=function(t){return Object(Ke.hasDirectives)(["client"],t)&&this.resolvers?t:null},t.prototype.serverQuery=function(t){return this.resolvers?Object(Ke.removeClientSetsFromDocument)(t):t},t.prototype.prepareContext=function(t){void 0===t&&(t={});var e=this.cache;return Object(Ye.__assign)(Object(Ye.__assign)({},t),{cache:e,getCacheKey:function(t){if(e.config)return e.config.dataIdFromObject(t);Object(nn.b)(!1,6)}})},t.prototype.addExportedVariables=function(t,e,n){return void 0===e&&(e={}),void 0===n&&(n={}),Object(Ye.__awaiter)(this,void 0,void 0,(function(){return Object(Ye.__generator)(this,(function(r){return t?[2,this.resolveDocument(t,this.buildRootValueFromCache(t,e)||{},this.prepareContext(n),e).then((function(data){return Object(Ye.__assign)(Object(Ye.__assign)({},e),data.exportedVariables)}))]:[2,Object(Ye.__assign)({},e)]}))}))},t.prototype.shouldForceResolvers=function(t){var e=!1;return Object(rn.b)(t,{Directive:{enter:function(t){if("client"===t.name.value&&t.arguments&&(e=t.arguments.some((function(t){return"always"===t.name.value&&"BooleanValue"===t.value.kind&&!0===t.value.value}))))return rn.a}}}),e},t.prototype.buildRootValueFromCache=function(t,e){return this.cache.diff({query:Object(Ke.buildQueryFromSelectionSet)(t),variables:e,returnPartialData:!0,optimistic:!1}).result},t.prototype.resolveDocument=function(t,e,n,r,o,c){return void 0===n&&(n={}),void 0===r&&(r={}),void 0===o&&(o=function(){return!0}),void 0===c&&(c=!1),Object(Ye.__awaiter)(this,void 0,void 0,(function(){var l,h,d,f,m,v,y,_,x;return Object(Ye.__generator)(this,(function(w){var E;return l=Object(Ke.getMainDefinition)(t),h=Object(Ke.getFragmentDefinitions)(t),d=Object(Ke.createFragmentMap)(h),f=l.operation,m=f?(E=f).charAt(0).toUpperCase()+E.slice(1):"Query",y=(v=this).cache,_=v.client,x={fragmentMap:d,context:Object(Ye.__assign)(Object(Ye.__assign)({},n),{cache:y,client:_}),variables:r,fragmentMatcher:o,defaultOperationType:m,exportedVariables:{},onlyRunForcedResolvers:c},[2,this.resolveSelectionSet(l.selectionSet,e,x).then((function(t){return{result:t,exportedVariables:x.exportedVariables}}))]}))}))},t.prototype.resolveSelectionSet=function(t,e,n){return Object(Ye.__awaiter)(this,void 0,void 0,(function(){var r,o,c,l,h,d=this;return Object(Ye.__generator)(this,(function(f){return r=n.fragmentMap,o=n.context,c=n.variables,l=[e],h=function(t){return Object(Ye.__awaiter)(d,void 0,void 0,(function(){var h,d;return Object(Ye.__generator)(this,(function(f){return Object(Ke.shouldInclude)(t,c)?Object(Ke.isField)(t)?[2,this.resolveField(t,e,n).then((function(e){var n;void 0!==e&&l.push(((n={})[Object(Ke.resultKeyNameFromField)(t)]=e,n))}))]:(Object(Ke.isInlineFragment)(t)?h=t:(h=r[t.name.value],Object(nn.b)(h,7)),h&&h.typeCondition&&(d=h.typeCondition.name.value,n.fragmentMatcher(e,d,o))?[2,this.resolveSelectionSet(h.selectionSet,e,n).then((function(t){l.push(t)}))]:[2]):[2]}))}))},[2,Promise.all(t.selections.map(h)).then((function(){return Object(Ke.mergeDeepArray)(l)}))]}))}))},t.prototype.resolveField=function(t,e,n){return Object(Ye.__awaiter)(this,void 0,void 0,(function(){var r,o,c,l,h,d,f,m,v,y=this;return Object(Ye.__generator)(this,(function(_){return r=n.variables,o=t.name.value,c=Object(Ke.resultKeyNameFromField)(t),l=o!==c,h=e[c]||e[o],d=Promise.resolve(h),n.onlyRunForcedResolvers&&!this.shouldForceResolvers(t)||(f=e.__typename||n.defaultOperationType,(m=this.resolvers&&this.resolvers[f])&&(v=m[l?o:c])&&(d=Promise.resolve(v(e,Object(Ke.argumentsObjectFromField)(t,r),n.context,{field:t,fragmentMap:n.fragmentMap})))),[2,d.then((function(e){return void 0===e&&(e=h),t.directives&&t.directives.forEach((function(t){"export"===t.name.value&&t.arguments&&t.arguments.forEach((function(t){"as"===t.name.value&&"StringValue"===t.value.kind&&(n.exportedVariables[t.value.value]=e)}))})),t.selectionSet?null==e?e:Array.isArray(e)?y.resolveSubSelectedArray(t,e,n):t.selectionSet?y.resolveSelectionSet(t.selectionSet,e,n):void 0:e}))]}))}))},t.prototype.resolveSubSelectedArray=function(t,e,n){var r=this;return Promise.all(e.map((function(e){return null===e?null:Array.isArray(e)?r.resolveSubSelectedArray(t,e,n):t.selectionSet?r.resolveSelectionSet(t.selectionSet,e,n):void 0})))},t}();function gn(t){var e=new Set,sub=null;return new an((function(n){return e.add(n),sub=sub||t.subscribe({next:function(t){e.forEach((function(e){return e.next&&e.next(t)}))},error:function(t){e.forEach((function(e){return e.error&&e.error(t)}))},complete:function(){e.forEach((function(t){return t.complete&&t.complete()}))}}),function(){e.delete(n)&&!e.size&&sub&&(sub.unsubscribe(),sub=null)}}))}var yn=Object.prototype.hasOwnProperty,_n=function(){function t(t){var link=t.link,e=t.queryDeduplication,n=void 0!==e&&e,r=t.store,o=t.onBroadcast,c=void 0===o?function(){}:o,l=t.ssrMode,h=void 0!==l&&l,d=t.clientAwareness,f=void 0===d?{}:d,m=t.localState,v=t.assumeImmutableResults;this.mutationStore=new fn,this.queryStore=new mn,this.clientAwareness={},this.idCounter=1,this.queries=new Map,this.fetchQueryRejectFns=new Map,this.transformCache=new(Ke.canUseWeakMap?WeakMap:Map),this.inFlightLinkObservables=new Map,this.pollingInfoByQueryId=new Map,this.link=link,this.queryDeduplication=n,this.dataStore=r,this.onBroadcast=c,this.clientAwareness=f,this.localState=m||new vn({cache:r.getCache()}),this.ssrMode=h,this.assumeImmutableResults=!!v}return t.prototype.stop=function(){var t=this;this.queries.forEach((function(e,n){t.stopQueryNoBroadcast(n)})),this.fetchQueryRejectFns.forEach((function(t){t(new nn.a(8))}))},t.prototype.mutate=function(t){var e=t.mutation,n=t.variables,r=t.optimisticResponse,o=t.updateQueries,c=t.refetchQueries,l=void 0===c?[]:c,h=t.awaitRefetchQueries,d=void 0!==h&&h,f=t.update,m=t.errorPolicy,v=void 0===m?"none":m,y=t.fetchPolicy,_=t.context,x=void 0===_?{}:_;return Object(Ye.__awaiter)(this,void 0,void 0,(function(){var t,c,h,m=this;return Object(Ye.__generator)(this,(function(_){switch(_.label){case 0:return Object(nn.b)(e,9),Object(nn.b)(!y||"no-cache"===y,10),t=this.generateQueryId(),e=this.transform(e).document,this.setQuery(t,(function(){return{document:e}})),n=this.getVariables(e,n),this.transform(e).hasClientExports?[4,this.localState.addExportedVariables(e,n,x)]:[3,2];case 1:n=_.sent(),_.label=2;case 2:return c=function(){var t={};return o&&m.queries.forEach((function(e,n){var r=e.observableQuery;if(r){var c=r.queryName;c&&yn.call(o,c)&&(t[n]={updater:o[c],query:m.queryStore.get(n)})}})),t},this.mutationStore.initMutation(t,e,n),this.dataStore.markMutationInit({mutationId:t,document:e,variables:n,updateQueries:c(),update:f,optimisticResponse:r}),this.broadcastQueries(),h=this,[2,new Promise((function(o,m){var _,w;h.getObservableFromLink(e,Object(Ye.__assign)(Object(Ye.__assign)({},x),{optimisticResponse:r}),n,!1).subscribe({next:function(r){Object(Ke.graphQLResultHasError)(r)&&"none"===v?w=new cn({graphQLErrors:r.errors}):(h.mutationStore.markMutationResult(t),"no-cache"!==y&&h.dataStore.markMutationResult({mutationId:t,result:r,document:e,variables:n,updateQueries:c(),update:f}),_=r)},error:function(e){h.mutationStore.markMutationError(t,e),h.dataStore.markMutationComplete({mutationId:t,optimisticResponse:r}),h.broadcastQueries(),h.setQuery(t,(function(){return{document:null}})),m(new cn({networkError:e}))},complete:function(){if(w&&h.mutationStore.markMutationError(t,w),h.dataStore.markMutationComplete({mutationId:t,optimisticResponse:r}),h.broadcastQueries(),w)m(w);else{"function"==typeof l&&(l=l(_));var e=[];sn(l)&&l.forEach((function(t){if("string"==typeof t)h.queries.forEach((function(n){var r=n.observableQuery;r&&r.queryName===t&&e.push(r.refetch())}));else{var n={query:t.query,variables:t.variables,fetchPolicy:"network-only"};t.context&&(n.context=t.context),e.push(h.query(n))}})),Promise.all(d?e:[]).then((function(){h.setQuery(t,(function(){return{document:null}})),"ignore"===v&&_&&Object(Ke.graphQLResultHasError)(_)&&delete _.errors,o(_)}))}}})}))]}}))}))},t.prototype.fetchQuery=function(t,e,n,r){return Object(Ye.__awaiter)(this,void 0,void 0,(function(){var o,c,l,h,d,f,m,v,y,_,x,w,E,M,S,T,D,O,C=this;return Object(Ye.__generator)(this,(function(A){switch(A.label){case 0:return o=e.metadata,c=void 0===o?null:o,l=e.fetchPolicy,h=void 0===l?"cache-first":l,d=e.context,f=void 0===d?{}:d,m=this.transform(e.query).document,v=this.getVariables(m,e.variables),this.transform(m).hasClientExports?[4,this.localState.addExportedVariables(m,v,f)]:[3,2];case 1:v=A.sent(),A.label=2;case 2:if(e=Object(Ye.__assign)(Object(Ye.__assign)({},e),{variables:v}),x=_="network-only"===h||"no-cache"===h,_||(w=this.dataStore.getCache().diff({query:m,variables:v,returnPartialData:!0,optimistic:!1}),E=w.complete,M=w.result,x=!E||"cache-and-network"===h,y=M),S=x&&"cache-only"!==h&&"standby"!==h,Object(Ke.hasDirectives)(["live"],m)&&(S=!0),T=this.idCounter++,D="no-cache"!==h?this.updateQueryWatch(t,m,e):void 0,this.setQuery(t,(function(){return{document:m,lastRequestId:T,invalidated:!0,cancel:D}})),this.invalidate(r),this.queryStore.initQuery({queryId:t,document:m,storePreviousVariables:S,variables:v,isPoll:n===un.poll,isRefetch:n===un.refetch,metadata:c,fetchMoreForQueryId:r}),this.broadcastQueries(),S){if(O=this.fetchRequest({requestId:T,queryId:t,document:m,options:e,fetchMoreForQueryId:r}).catch((function(e){throw e.hasOwnProperty("graphQLErrors")?e:(T>=C.getQuery(t).lastRequestId&&(C.queryStore.markQueryError(t,e,r),C.invalidate(t),C.invalidate(r),C.broadcastQueries()),new cn({networkError:e}))})),"cache-and-network"!==h)return[2,O];O.catch((function(){}))}return this.queryStore.markQueryResultClient(t,!S),this.invalidate(t),this.invalidate(r),this.transform(m).hasForcedResolvers?[2,this.localState.runResolvers({document:m,remoteResult:{data:y},context:f,variables:v,onlyRunForcedResolvers:!0}).then((function(n){return C.markQueryResult(t,n,e,r),C.broadcastQueries(),n}))]:(this.broadcastQueries(),[2,{data:y}])}}))}))},t.prototype.markQueryResult=function(t,e,n,r){var o=n.fetchPolicy,c=n.variables,l=n.errorPolicy;"no-cache"===o?this.setQuery(t,(function(){return{newData:{result:e.data,complete:!0}}})):this.dataStore.markQueryResult(e,this.getQuery(t).document,c,r,"ignore"===l||"all"===l)},t.prototype.queryListenerForObserver=function(t,e,n){var r=this;function o(t,e){if(n[t])try{n[t](e)}catch(t){}}return function(n,c){if(r.invalidate(t,!1),n){var l=r.getQuery(t),h=l.observableQuery,d=l.document,f=h?h.options.fetchPolicy:e.fetchPolicy;if("standby"!==f){var m=on(n.networkStatus),v=h&&h.getLastResult(),y=!(!v||v.networkStatus===n.networkStatus),_=e.returnPartialData||!c&&n.previousVariables||y&&e.notifyOnNetworkStatusChange||"cache-only"===f||"cache-and-network"===f;if(!m||_){var x=sn(n.graphQLErrors),w=h&&h.options.errorPolicy||e.errorPolicy||"none";if("none"===w&&x||n.networkError)return o("error",new cn({graphQLErrors:n.graphQLErrors,networkError:n.networkError}));try{var data=void 0,E=void 0;if(c)"no-cache"!==f&&"network-only"!==f&&r.setQuery(t,(function(){return{newData:null}})),data=c.result,E=!c.complete;else{var M=h&&h.getLastError(),S="none"!==w&&(M&&M.graphQLErrors)!==n.graphQLErrors;if(v&&v.data&&!S)data=v.data,E=!1;else{var T=r.dataStore.getCache().diff({query:d,variables:n.previousVariables||n.variables,returnPartialData:!0,optimistic:!0});data=T.result,E=!T.complete}}var D=E&&!(e.returnPartialData||"cache-only"===f),O={data:D?v&&v.data:data,loading:m,networkStatus:n.networkStatus,stale:D};"all"===w&&x&&(O.errors=n.graphQLErrors),o("next",O)}catch(t){o("error",new cn({networkError:t}))}}}}}},t.prototype.transform=function(t){var e=this.transformCache;if(!e.has(t)){var n=this.dataStore.getCache(),r=n.transformDocument(t),o=Object(Ke.removeConnectionDirectiveFromDocument)(n.transformForLink(r)),c=this.localState.clientQuery(r),l=this.localState.serverQuery(o),h={document:r,hasClientExports:Object(Ke.hasClientExports)(r),hasForcedResolvers:this.localState.shouldForceResolvers(r),clientQuery:c,serverQuery:l,defaultVars:Object(Ke.getDefaultValues)(Object(Ke.getOperationDefinition)(r))},d=function(t){t&&!e.has(t)&&e.set(t,h)};d(t),d(r),d(c),d(l)}return e.get(t)},t.prototype.getVariables=function(t,e){return Object(Ye.__assign)(Object(Ye.__assign)({},this.transform(t).defaultVars),e)},t.prototype.watchQuery=function(t,e){void 0===e&&(e=!0),Object(nn.b)("standby"!==t.fetchPolicy,11),t.variables=this.getVariables(t.query,t.variables),void 0===t.notifyOnNetworkStatusChange&&(t.notifyOnNetworkStatusChange=!1);var n=Object(Ye.__assign)({},t);return new ln({queryManager:this,options:n,shouldSubscribe:e})},t.prototype.query=function(t){var e=this;return Object(nn.b)(t.query,12),Object(nn.b)("Document"===t.query.kind,13),Object(nn.b)(!t.returnPartialData,14),Object(nn.b)(!t.pollInterval,15),new Promise((function(n,r){var o=e.watchQuery(t,!1);e.fetchQueryRejectFns.set("query:"+o.queryId,r),o.result().then(n,r).then((function(){return e.fetchQueryRejectFns.delete("query:"+o.queryId)}))}))},t.prototype.generateQueryId=function(){return String(this.idCounter++)},t.prototype.stopQueryInStore=function(t){this.stopQueryInStoreNoBroadcast(t),this.broadcastQueries()},t.prototype.stopQueryInStoreNoBroadcast=function(t){this.stopPollingQuery(t),this.queryStore.stopQuery(t),this.invalidate(t)},t.prototype.addQueryListener=function(t,e){this.setQuery(t,(function(t){return t.listeners.add(e),{invalidated:!1}}))},t.prototype.updateQueryWatch=function(t,e,n){var r=this,o=this.getQuery(t).cancel;o&&o();return this.dataStore.getCache().watch({query:e,variables:n.variables,optimistic:!0,previousResult:function(){var e=null,n=r.getQuery(t).observableQuery;if(n){var o=n.getLastResult();o&&(e=o.data)}return e},callback:function(e){r.setQuery(t,(function(){return{invalidated:!0,newData:e}}))}})},t.prototype.addObservableQuery=function(t,e){this.setQuery(t,(function(){return{observableQuery:e}}))},t.prototype.removeObservableQuery=function(t){var e=this.getQuery(t).cancel;this.setQuery(t,(function(){return{observableQuery:null}})),e&&e()},t.prototype.clearStore=function(){this.fetchQueryRejectFns.forEach((function(t){t(new nn.a(16))}));var t=[];return this.queries.forEach((function(e,n){e.observableQuery&&t.push(n)})),this.queryStore.reset(t),this.mutationStore.reset(),this.dataStore.reset()},t.prototype.resetStore=function(){var t=this;return this.clearStore().then((function(){return t.reFetchObservableQueries()}))},t.prototype.reFetchObservableQueries=function(t){var e=this;void 0===t&&(t=!1);var n=[];return this.queries.forEach((function(r,o){var c=r.observableQuery;if(c){var l=c.options.fetchPolicy;c.resetLastResults(),"cache-only"===l||!t&&"standby"===l||n.push(c.refetch()),e.setQuery(o,(function(){return{newData:null}})),e.invalidate(o)}})),this.broadcastQueries(),Promise.all(n)},t.prototype.observeQuery=function(t,e,n){return this.addQueryListener(t,this.queryListenerForObserver(t,e,n)),this.fetchQuery(t,e)},t.prototype.startQuery=function(t,e,n){return this.addQueryListener(t,n),this.fetchQuery(t,e).catch((function(){})),t},t.prototype.startGraphQLSubscription=function(t){var e=this,n=t.query,r=t.fetchPolicy,o=t.variables;n=this.transform(n).document,o=this.getVariables(n,o);var c=function(t){return e.getObservableFromLink(n,{},t,!1).map((function(o){if(r&&"no-cache"===r||(e.dataStore.markSubscriptionResult(o,n,t),e.broadcastQueries()),Object(Ke.graphQLResultHasError)(o))throw new cn({graphQLErrors:o.errors});return o}))};if(this.transform(n).hasClientExports){var l=this.localState.addExportedVariables(n,o).then(c);return new an((function(t){var sub=null;return l.then((function(e){return sub=e.subscribe(t)}),t.error),function(){return sub&&sub.unsubscribe()}}))}return c(o)},t.prototype.stopQuery=function(t){this.stopQueryNoBroadcast(t),this.broadcastQueries()},t.prototype.stopQueryNoBroadcast=function(t){this.stopQueryInStoreNoBroadcast(t),this.removeQuery(t)},t.prototype.removeQuery=function(t){this.fetchQueryRejectFns.delete("query:"+t),this.fetchQueryRejectFns.delete("fetchRequest:"+t),this.getQuery(t).subscriptions.forEach((function(t){return t.unsubscribe()})),this.queries.delete(t)},t.prototype.getCurrentQueryResult=function(t,e){void 0===e&&(e=!0);var n=t.options,r=n.variables,o=n.query,c=n.fetchPolicy,l=n.returnPartialData,h=t.getLastResult(),d=this.getQuery(t.queryId).newData;if(d&&d.complete)return{data:d.result,partial:!1};if("no-cache"===c||"network-only"===c)return{data:void 0,partial:!1};var f=this.dataStore.getCache().diff({query:o,variables:r,previousResult:h?h.data:void 0,returnPartialData:!0,optimistic:e}),m=f.result,v=f.complete;return{data:v||l?m:void 0,partial:!v}},t.prototype.getQueryWithPreviousResult=function(t){var e;if("string"==typeof t){var n=this.getQuery(t).observableQuery;Object(nn.b)(n,17),e=n}else e=t;var r=e.options,o=r.variables,c=r.query;return{previousResult:this.getCurrentQueryResult(e,!1).data,variables:o,document:c}},t.prototype.broadcastQueries=function(){var t=this;this.onBroadcast(),this.queries.forEach((function(e,n){e.invalidated&&e.listeners.forEach((function(r){r&&r(t.queryStore.get(n),e.newData)}))}))},t.prototype.getLocalState=function(){return this.localState},t.prototype.getObservableFromLink=function(t,e,n,r){var o,c=this;void 0===r&&(r=this.queryDeduplication);var l=this.transform(t).serverQuery;if(l){var h=this.inFlightLinkObservables,link=this.link,d={query:l,variables:n,operationName:Object(Ke.getOperationName)(l)||void 0,context:this.prepareContext(Object(Ye.__assign)(Object(Ye.__assign)({},e),{forceFetch:!r}))};if(e=d.context,r){var f=h.get(l)||new Map;h.set(l,f);var m=JSON.stringify(n);if(!(o=f.get(m))){f.set(m,o=gn(Object(tn.execute)(link,d)));var v=function(){f.delete(m),f.size||h.delete(l),y.unsubscribe()},y=o.subscribe({next:v,error:v,complete:v})}}else o=gn(Object(tn.execute)(link,d))}else o=an.of({data:{}}),e=this.prepareContext(e);var _=this.transform(t).clientQuery;return _&&(o=function(t,e){return new an((function(n){var r=n.next,o=n.error,c=n.complete,l=0,h=!1,d={next:function(t){++l,new Promise((function(n){n(e(t))})).then((function(t){--l,r&&r.call(n,t),h&&d.complete()}),(function(t){--l,o&&o.call(n,t)}))},error:function(t){o&&o.call(n,t)},complete:function(){h=!0,l||c&&c.call(n)}},sub=t.subscribe(d);return function(){return sub.unsubscribe()}}))}(o,(function(t){return c.localState.runResolvers({document:_,remoteResult:t,context:e,variables:n})}))),o},t.prototype.fetchRequest=function(t){var e,n,r=this,o=t.requestId,c=t.queryId,l=t.document,h=t.options,d=t.fetchMoreForQueryId,f=h.variables,m=h.errorPolicy,v=void 0===m?"none":m,y=h.fetchPolicy;return new Promise((function(t,m){var _=r.getObservableFromLink(l,h.context,f),x="fetchRequest:"+c;r.fetchQueryRejectFns.set(x,m);var w=function(){r.fetchQueryRejectFns.delete(x),r.setQuery(c,(function(t){t.subscriptions.delete(E)}))},E=_.map((function(t){if(o>=r.getQuery(c).lastRequestId&&(r.markQueryResult(c,t,h,d),r.queryStore.markQueryResult(c,t,d),r.invalidate(c),r.invalidate(d),r.broadcastQueries()),"none"===v&&sn(t.errors))return m(new cn({graphQLErrors:t.errors}));if("all"===v&&(n=t.errors),d||"no-cache"===y)e=t.data;else{var _=r.dataStore.getCache().diff({variables:f,query:l,optimistic:!1,returnPartialData:!0}),x=_.result;(_.complete||h.returnPartialData)&&(e=x)}})).subscribe({error:function(t){w(),m(t)},complete:function(){w(),t({data:e,errors:n,loading:!1,networkStatus:He.ready,stale:!1})}});r.setQuery(c,(function(t){t.subscriptions.add(E)}))}))},t.prototype.getQuery=function(t){return this.queries.get(t)||{listeners:new Set,invalidated:!1,document:null,newData:null,lastRequestId:1,observableQuery:null,subscriptions:new Set}},t.prototype.setQuery=function(t,e){var n=this.getQuery(t),r=Object(Ye.__assign)(Object(Ye.__assign)({},n),e(n));this.queries.set(t,r)},t.prototype.invalidate=function(t,e){void 0===e&&(e=!0),t&&this.setQuery(t,(function(){return{invalidated:e}}))},t.prototype.prepareContext=function(t){void 0===t&&(t={});var e=this.localState.prepareContext(t);return Object(Ye.__assign)(Object(Ye.__assign)({},e),{clientAwareness:this.clientAwareness})},t.prototype.checkInFlight=function(t){var e=this.queryStore.get(t);return e&&e.networkStatus!==He.ready&&e.networkStatus!==He.error},t.prototype.startPollingQuery=function(t,e,n){var r=this,o=t.pollInterval;if(Object(nn.b)(o,18),!this.ssrMode){var c=this.pollingInfoByQueryId.get(e);c||this.pollingInfoByQueryId.set(e,c={}),c.interval=o,c.options=Object(Ye.__assign)(Object(Ye.__assign)({},t),{fetchPolicy:"network-only"});var l=function(){var t=r.pollingInfoByQueryId.get(e);t&&(r.checkInFlight(e)?h():r.fetchQuery(e,t.options,un.poll).then(h,h))},h=function(){var t=r.pollingInfoByQueryId.get(e);t&&(clearTimeout(t.timeout),t.timeout=setTimeout(l,t.interval))};n&&this.addQueryListener(e,n),h()}return e},t.prototype.stopPollingQuery=function(t){this.pollingInfoByQueryId.delete(t)},t}(),bn=function(){function t(t){this.cache=t}return t.prototype.getCache=function(){return this.cache},t.prototype.markQueryResult=function(t,e,n,r,o){void 0===o&&(o=!1);var c=!Object(Ke.graphQLResultHasError)(t);o&&Object(Ke.graphQLResultHasError)(t)&&t.data&&(c=!0),!r&&c&&this.cache.write({result:t.data,dataId:"ROOT_QUERY",query:e,variables:n})},t.prototype.markSubscriptionResult=function(t,e,n){Object(Ke.graphQLResultHasError)(t)||this.cache.write({result:t.data,dataId:"ROOT_SUBSCRIPTION",query:e,variables:n})},t.prototype.markMutationInit=function(t){var e,n=this;t.optimisticResponse&&(e="function"==typeof t.optimisticResponse?t.optimisticResponse(t.variables):t.optimisticResponse,this.cache.recordOptimisticTransaction((function(r){var o=n.cache;n.cache=r;try{n.markMutationResult({mutationId:t.mutationId,result:{data:e},document:t.document,variables:t.variables,updateQueries:t.updateQueries,update:t.update})}finally{n.cache=o}}),t.mutationId))},t.prototype.markMutationResult=function(t){var e=this;if(!Object(Ke.graphQLResultHasError)(t.result)){var n=[{result:t.result.data,dataId:"ROOT_MUTATION",query:t.document,variables:t.variables}],r=t.updateQueries;r&&Object.keys(r).forEach((function(o){var c=r[o],l=c.query,h=c.updater,d=e.cache.diff({query:l.document,variables:l.variables,returnPartialData:!0,optimistic:!1}),f=d.result;if(d.complete){var m=Object(Ke.tryFunctionOrLogError)((function(){return h(f,{mutationResult:t.result,queryName:Object(Ke.getOperationName)(l.document)||void 0,queryVariables:l.variables})}));m&&n.push({result:m,dataId:"ROOT_QUERY",query:l.document,variables:l.variables})}})),this.cache.performTransaction((function(e){n.forEach((function(t){return e.write(t)}));var r=t.update;r&&Object(Ke.tryFunctionOrLogError)((function(){return r(e,t.result)}))}))}},t.prototype.markMutationComplete=function(t){var e=t.mutationId;t.optimisticResponse&&this.cache.removeOptimistic(e)},t.prototype.markUpdateQueryResult=function(t,e,n){this.cache.write({result:n,dataId:"ROOT_QUERY",variables:e,query:t})},t.prototype.reset=function(){return this.cache.reset()},t}(),xn=function(){function t(t){var e=this;this.defaultOptions={},this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var n=t.cache,r=t.ssrMode,o=void 0!==r&&r,c=t.ssrForceFetchDelay,l=void 0===c?0:c,h=t.connectToDevTools,d=t.queryDeduplication,f=void 0===d||d,m=t.defaultOptions,v=t.assumeImmutableResults,y=void 0!==v&&v,_=t.resolvers,x=t.typeDefs,w=t.fragmentMatcher,E=t.name,M=t.version,link=t.link;if(!link&&_&&(link=tn.ApolloLink.empty()),!link||!n)throw new nn.a(4);this.link=link,this.cache=n,this.store=new bn(n),this.disableNetworkFetches=o||l>0,this.queryDeduplication=f,this.defaultOptions=m||{},this.typeDefs=x,l&&setTimeout((function(){return e.disableNetworkFetches=!1}),l),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this);void 0!==h&&(h&&"undefined"!=typeof window)&&(window.__APOLLO_CLIENT__=this),this.version="2.6.10",this.localState=new vn({cache:n,client:this,resolvers:_,fragmentMatcher:w}),this.queryManager=new _n({link:this.link,store:this.store,queryDeduplication:f,ssrMode:o,clientAwareness:{name:E,version:M},localState:this.localState,assumeImmutableResults:y,onBroadcast:function(){e.devToolsHookCb&&e.devToolsHookCb({action:{},state:{queries:e.queryManager.queryStore.getStore(),mutations:e.queryManager.mutationStore.getStore()},dataWithOptimisticResults:e.cache.extract(!0)})}})}return t.prototype.stop=function(){this.queryManager.stop()},t.prototype.watchQuery=function(t){return this.defaultOptions.watchQuery&&(t=Object(Ye.__assign)(Object(Ye.__assign)({},this.defaultOptions.watchQuery),t)),!this.disableNetworkFetches||"network-only"!==t.fetchPolicy&&"cache-and-network"!==t.fetchPolicy||(t=Object(Ye.__assign)(Object(Ye.__assign)({},t),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(t)},t.prototype.query=function(t){return this.defaultOptions.query&&(t=Object(Ye.__assign)(Object(Ye.__assign)({},this.defaultOptions.query),t)),Object(nn.b)("cache-and-network"!==t.fetchPolicy,5),this.disableNetworkFetches&&"network-only"===t.fetchPolicy&&(t=Object(Ye.__assign)(Object(Ye.__assign)({},t),{fetchPolicy:"cache-first"})),this.queryManager.query(t)},t.prototype.mutate=function(t){return this.defaultOptions.mutate&&(t=Object(Ye.__assign)(Object(Ye.__assign)({},this.defaultOptions.mutate),t)),this.queryManager.mutate(t)},t.prototype.subscribe=function(t){return this.queryManager.startGraphQLSubscription(t)},t.prototype.readQuery=function(t,e){return void 0===e&&(e=!1),this.cache.readQuery(t,e)},t.prototype.readFragment=function(t,e){return void 0===e&&(e=!1),this.cache.readFragment(t,e)},t.prototype.writeQuery=function(t){var e=this.cache.writeQuery(t);return this.queryManager.broadcastQueries(),e},t.prototype.writeFragment=function(t){var e=this.cache.writeFragment(t);return this.queryManager.broadcastQueries(),e},t.prototype.writeData=function(t){var e=this.cache.writeData(t);return this.queryManager.broadcastQueries(),e},t.prototype.__actionHookForDevTools=function(t){this.devToolsHookCb=t},t.prototype.__requestRaw=function(t){return Object(tn.execute)(this.link,t)},t.prototype.initQueryManager=function(){return this.queryManager},t.prototype.resetStore=function(){var t=this;return Promise.resolve().then((function(){return t.queryManager.clearStore()})).then((function(){return Promise.all(t.resetStoreCallbacks.map((function(t){return t()})))})).then((function(){return t.reFetchObservableQueries()}))},t.prototype.clearStore=function(){var t=this;return Promise.resolve().then((function(){return t.queryManager.clearStore()})).then((function(){return Promise.all(t.clearStoreCallbacks.map((function(t){return t()})))}))},t.prototype.onResetStore=function(t){var e=this;return this.resetStoreCallbacks.push(t),function(){e.resetStoreCallbacks=e.resetStoreCallbacks.filter((function(e){return e!==t}))}},t.prototype.onClearStore=function(t){var e=this;return this.clearStoreCallbacks.push(t),function(){e.clearStoreCallbacks=e.clearStoreCallbacks.filter((function(e){return e!==t}))}},t.prototype.reFetchObservableQueries=function(t){return this.queryManager.reFetchObservableQueries(t)},t.prototype.extract=function(t){return this.cache.extract(t)},t.prototype.restore=function(t){return this.cache.restore(t)},t.prototype.addResolvers=function(t){this.localState.addResolvers(t)},t.prototype.setResolvers=function(t){this.localState.setResolvers(t)},t.prototype.getResolvers=function(){return this.localState.getResolvers()},t.prototype.setLocalStateFragmentMatcher=function(t){this.localState.setFragmentMatcher(t)},t}(),wn=n(378);function En(t){return{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:Mn(t)}]}}function Mn(t){if("number"==typeof t||"boolean"==typeof t||"string"==typeof t||null==t)return null;if(Array.isArray(t))return Mn(t[0]);var e=[];return Object.keys(t).forEach((function(n){var r={kind:"Field",name:{kind:"Name",value:n},selectionSet:Mn(t[n])||void 0};e.push(r)})),{kind:"SelectionSet",selections:e}}var Sn,Tn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:null,variableDefinitions:null,directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"__typename"},arguments:[],directives:[],selectionSet:null}]}}]},Dn=function(){function t(){}return t.prototype.transformDocument=function(t){return t},t.prototype.transformForLink=function(t){return t},t.prototype.readQuery=function(t,e){return void 0===e&&(e=!1),this.read({query:t.query,variables:t.variables,optimistic:e})},t.prototype.readFragment=function(t,e){return void 0===e&&(e=!1),this.read({query:Object(Ke.getFragmentQueryDocument)(t.fragment,t.fragmentName),variables:t.variables,rootId:t.id,optimistic:e})},t.prototype.writeQuery=function(t){this.write({dataId:"ROOT_QUERY",result:t.data,query:t.query,variables:t.variables})},t.prototype.writeFragment=function(t){this.write({dataId:t.id,result:t.data,variables:t.variables,query:Object(Ke.getFragmentQueryDocument)(t.fragment,t.fragmentName)})},t.prototype.writeData=function(t){var e,n,r=t.id,data=t.data;if(void 0!==r){var o=null;try{o=this.read({rootId:r,optimistic:!1,query:Tn})}catch(t){}var c=o&&o.__typename||"__ClientData",l=Object.assign({__typename:c},data);this.writeFragment({id:r,fragment:(e=l,n=c,{kind:"Document",definitions:[{kind:"FragmentDefinition",typeCondition:{kind:"NamedType",name:{kind:"Name",value:n||"__FakeType"}},name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:Mn(e)}]}),data:l})}else this.writeQuery({query:En(data),data:data})},t}();Sn||(Sn={});var On=null,Cn={},An=1,kn=Array,Pn=kn["@wry/context:Slot"]||function(){var t=function(){function t(){this.id=["slot",An++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return t.prototype.hasValue=function(){for(var t=On;t;t=t.parent)if(this.id in t.slots){var e=t.slots[this.id];if(e===Cn)break;return t!==On&&(On.slots[this.id]=e),!0}return On&&(On.slots[this.id]=Cn),!1},t.prototype.getValue=function(){if(this.hasValue())return On.slots[this.id]},t.prototype.withValue=function(t,e,n,r){var o,c=((o={__proto__:null})[this.id]=t,o),l=On;On={parent:l,slots:c};try{return e.apply(r,n)}finally{On=l}},t.bind=function(t){var e=On;return function(){var n=On;try{return On=e,t.apply(this,arguments)}finally{On=n}}},t.noContext=function(t,e,n){if(!On)return t.apply(n,e);var r=On;try{return On=null,t.apply(n,e)}finally{On=r}},t}();try{Object.defineProperty(kn,"@wry/context:Slot",{value:kn["@wry/context:Slot"]=t,enumerable:!1,writable:!1,configurable:!1})}finally{return t}}();Pn.bind,Pn.noContext;function jn(){}var Ln=function(){function t(t,e){void 0===t&&(t=1/0),void 0===e&&(e=jn),this.max=t,this.dispose=e,this.map=new Map,this.newest=null,this.oldest=null}return t.prototype.has=function(t){return this.map.has(t)},t.prototype.get=function(t){var e=this.getEntry(t);return e&&e.value},t.prototype.getEntry=function(t){var e=this.map.get(t);if(e&&e!==this.newest){var n=e.older,r=e.newer;r&&(r.older=n),n&&(n.newer=r),e.older=this.newest,e.older.newer=e,e.newer=null,this.newest=e,e===this.oldest&&(this.oldest=r)}return e},t.prototype.set=function(t,e){var n=this.getEntry(t);return n?n.value=e:(n={key:t,value:e,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.map.set(t,n),n.value)},t.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},t.prototype.delete=function(t){var e=this.map.get(t);return!!e&&(e===this.newest&&(this.newest=e.older),e===this.oldest&&(this.oldest=e.newer),e.newer&&(e.newer.older=e.older),e.older&&(e.older.newer=e.newer),this.map.delete(t),this.dispose(e.value,t),!0)},t}(),In=new Pn,Rn=[],Nn=[];function Fn(t,e){if(!t)throw new Error(e||"assertion failure")}function Bn(t){switch(t.length){case 0:throw new Error("unknown value");case 1:return t[0];case 2:throw t[1]}}var Un=function(){function t(e,n){this.fn=e,this.args=n,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],++t.count}return t.prototype.recompute=function(){if(Fn(!this.recomputing,"already recomputing"),function(t){var e=In.getValue();if(e)return t.parents.add(e),e.childValues.has(t)||e.childValues.set(t,[]),zn(t)?Wn(e,t):qn(e,t),e}(this)||!Qn(this))return zn(this)?function(t){var e=Xn(t);In.withValue(t,Vn,[t]),function(t){if("function"==typeof t.subscribe)try{Kn(t),t.unsubscribe=t.subscribe.apply(null,t.args)}catch(e){return t.setDirty(),!1}return!0}(t)&&function(t){if(t.dirty=!1,zn(t))return;Gn(t)}(t);return e.forEach(Qn),Bn(t.value)}(this):Bn(this.value)},t.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,Hn(this),Kn(this))},t.prototype.dispose=function(){var t=this;Xn(this).forEach(Qn),Kn(this),this.parents.forEach((function(e){e.setDirty(),Yn(e,t)}))},t.count=0,t}();function Vn(t){t.recomputing=!0,t.value.length=0;try{t.value[0]=t.fn.apply(null,t.args)}catch(e){t.value[1]=e}t.recomputing=!1}function zn(t){return t.dirty||!(!t.dirtyChildren||!t.dirtyChildren.size)}function Hn(t){t.parents.forEach((function(e){return Wn(e,t)}))}function Gn(t){t.parents.forEach((function(e){return qn(e,t)}))}function Wn(t,e){if(Fn(t.childValues.has(e)),Fn(zn(e)),t.dirtyChildren){if(t.dirtyChildren.has(e))return}else t.dirtyChildren=Nn.pop()||new Set;t.dirtyChildren.add(e),Hn(t)}function qn(t,e){Fn(t.childValues.has(e)),Fn(!zn(e));var a,b,n,r=t.childValues.get(e);0===r.length?t.childValues.set(e,e.value.slice(0)):(a=r,b=e.value,(n=a.length)>0&&n===b.length&&a[n-1]===b[n-1]||t.setDirty()),$n(t,e),zn(t)||Gn(t)}function $n(t,e){var n=t.dirtyChildren;n&&(n.delete(e),0===n.size&&(Nn.length<100&&Nn.push(n),t.dirtyChildren=null))}function Qn(t){return 0===t.parents.size&&"function"==typeof t.reportOrphan&&!0===t.reportOrphan()}function Xn(t){var e=Rn;return t.childValues.size>0&&(e=[],t.childValues.forEach((function(n,r){Yn(t,r),e.push(r)}))),Fn(null===t.dirtyChildren),e}function Yn(t,e){e.parents.delete(t),t.childValues.delete(e),$n(t,e)}function Kn(t){var e=t.unsubscribe;"function"==typeof e&&(t.unsubscribe=void 0,e())}var Jn=function(){function t(t){this.weakness=t}return t.prototype.lookup=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.lookupArray(t)},t.prototype.lookupArray=function(t){var e=this;return t.forEach((function(t){return e=e.getChildTrie(t)})),e.data||(e.data=Object.create(null))},t.prototype.getChildTrie=function(e){var map=this.weakness&&function(t){switch(typeof t){case"object":if(null===t)break;case"function":return!0}return!1}(e)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),n=map.get(e);return n||map.set(e,n=new t(this.weakness)),n},t}();var Zn=new Jn("function"==typeof WeakMap);function er(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Zn.lookupArray(t)}var nr=new Set;function rr(t,e){void 0===e&&(e=Object.create(null));var n=new Ln(e.max||Math.pow(2,16),(function(t){return t.dispose()})),r=!!e.disposable,o=e.makeCacheKey||er;function c(){if(!r||In.hasValue()){var c=o.apply(null,arguments);if(void 0===c)return t.apply(null,arguments);var l=Array.prototype.slice.call(arguments),h=n.get(c);h?h.args=l:(h=new Un(t,l),n.set(c,h),h.subscribe=e.subscribe,r&&(h.reportOrphan=function(){return n.delete(c)}));var d=h.recompute();return n.set(c,h),nr.add(n),In.hasValue()||(nr.forEach((function(t){return t.clean()})),nr.clear()),r?void 0:d}}return c.dirty=function(){var t=o.apply(null,arguments),e=void 0!==t&&n.get(t);e&&e.setDirty()},c}var ir=!1;function or(){var t=!ir;return Object(Ke.isTest)()||(ir=!0),t}var ar=function(){function t(){}return t.prototype.ensureReady=function(){return Promise.resolve()},t.prototype.canBypassInit=function(){return!0},t.prototype.match=function(t,e,n){var r=n.store.get(t.id),o="ROOT_QUERY"===t.id;if(!r)return o;var c=r.__typename,l=void 0===c?o&&"Query":c;return l&&l===e||(or(),"heuristic")},t}(),sr=(function(){function t(t){t&&t.introspectionQueryResultData?(this.possibleTypesMap=this.parseIntrospectionResult(t.introspectionQueryResultData),this.isReady=!0):this.isReady=!1,this.match=this.match.bind(this)}t.prototype.match=function(t,e,n){Object(nn.b)(this.isReady,1);var r=n.store.get(t.id),o="ROOT_QUERY"===t.id;if(!r)return o;var c=r.__typename,l=void 0===c?o&&"Query":c;if(Object(nn.b)(l,2),l===e)return!0;var h=this.possibleTypesMap[e];return!!(l&&h&&h.indexOf(l)>-1)},t.prototype.parseIntrospectionResult=function(t){var e={};return t.__schema.types.forEach((function(t){"UNION"!==t.kind&&"INTERFACE"!==t.kind||(e[t.name]=t.possibleTypes.map((function(t){return t.name})))})),e}}(),Object.prototype.hasOwnProperty),ur=function(){function t(data){var t=this;void 0===data&&(data=Object.create(null)),this.data=data,this.depend=rr((function(e){return t.data[e]}),{disposable:!0,makeCacheKey:function(t){return t}})}return t.prototype.toObject=function(){return this.data},t.prototype.get=function(t){return this.depend(t),this.data[t]},t.prototype.set=function(t,e){e!==this.data[t]&&(this.data[t]=e,this.depend.dirty(t))},t.prototype.delete=function(t){sr.call(this.data,t)&&(delete this.data[t],this.depend.dirty(t))},t.prototype.clear=function(){this.replace(null)},t.prototype.replace=function(t){var e=this;t?(Object.keys(t).forEach((function(n){e.set(n,t[n])})),Object.keys(this.data).forEach((function(n){sr.call(t,n)||e.delete(n)}))):Object.keys(this.data).forEach((function(t){e.delete(t)}))},t}();function cr(t){return new ur(t)}var lr=function(){function t(t){var e=this,n=void 0===t?{}:t,r=n.cacheKeyRoot,o=void 0===r?new Jn(Ke.canUseWeakMap):r,c=n.freezeResults,l=void 0!==c&&c,h=this.executeStoreQuery,d=this.executeSelectionSet,f=this.executeSubSelectedArray;this.freezeResults=l,this.executeStoreQuery=rr((function(t){return h.call(e,t)}),{makeCacheKey:function(t){var e=t.query,n=t.rootValue,r=t.contextValue,c=t.variableValues,l=t.fragmentMatcher;if(r.store instanceof ur)return o.lookup(r.store,e,l,JSON.stringify(c),n.id)}}),this.executeSelectionSet=rr((function(t){return d.call(e,t)}),{makeCacheKey:function(t){var e=t.selectionSet,n=t.rootValue,r=t.execContext;if(r.contextValue.store instanceof ur)return o.lookup(r.contextValue.store,e,r.fragmentMatcher,JSON.stringify(r.variableValues),n.id)}}),this.executeSubSelectedArray=rr((function(t){return f.call(e,t)}),{makeCacheKey:function(t){var e=t.field,n=t.array,r=t.execContext;if(r.contextValue.store instanceof ur)return o.lookup(r.contextValue.store,e,n,JSON.stringify(r.variableValues))}})}return t.prototype.readQueryFromStore=function(t){return this.diffQueryAgainstStore(Object(Ye.__assign)(Object(Ye.__assign)({},t),{returnPartialData:!1})).result},t.prototype.diffQueryAgainstStore=function(t){var e=t.store,n=t.query,r=t.variables,o=t.previousResult,c=t.returnPartialData,l=void 0===c||c,h=t.rootId,d=void 0===h?"ROOT_QUERY":h,f=t.fragmentMatcherFunction,m=t.config,v=Object(Ke.getQueryDefinition)(n);r=Object(Ke.assign)({},Object(Ke.getDefaultValues)(v),r);var y={store:e,dataIdFromObject:m&&m.dataIdFromObject,cacheRedirects:m&&m.cacheRedirects||{}},_=this.executeStoreQuery({query:n,rootValue:{type:"id",id:d,generated:!0,typename:"Query"},contextValue:y,variableValues:r,fragmentMatcher:f}),x=_.missing&&_.missing.length>0;return x&&!l&&_.missing.forEach((function(t){if(!t.tolerable)throw new nn.a(8)})),o&&Object(Je.a)(o,_.result)&&(_.result=o),{result:_.result,complete:!x}},t.prototype.executeStoreQuery=function(t){var e=t.query,n=t.rootValue,r=t.contextValue,o=t.variableValues,c=t.fragmentMatcher,l=void 0===c?dr:c,h=Object(Ke.getMainDefinition)(e),d=Object(Ke.getFragmentDefinitions)(e),f={query:e,fragmentMap:Object(Ke.createFragmentMap)(d),contextValue:r,variableValues:o,fragmentMatcher:l};return this.executeSelectionSet({selectionSet:h.selectionSet,rootValue:n,execContext:f})},t.prototype.executeSelectionSet=function(t){var e=this,n=t.selectionSet,r=t.rootValue,o=t.execContext,c=o.fragmentMap,l=o.contextValue,h=o.variableValues,d={result:null},f=[],object=l.store.get(r.id),m=object&&object.__typename||"ROOT_QUERY"===r.id&&"Query"||void 0;function v(t){var e;return t.missing&&(d.missing=d.missing||[],(e=d.missing).push.apply(e,t.missing)),t.result}return n.selections.forEach((function(t){var n;if(Object(Ke.shouldInclude)(t,h))if(Object(Ke.isField)(t)){var d=v(e.executeField(object,m,t,o));void 0!==d&&f.push(((n={})[Object(Ke.resultKeyNameFromField)(t)]=d,n))}else{var y=void 0;if(Object(Ke.isInlineFragment)(t))y=t;else if(!(y=c[t.name.value]))throw new nn.a(9);var _=y.typeCondition&&y.typeCondition.name.value,x=!_||o.fragmentMatcher(r,_,l);if(x){var w=e.executeSelectionSet({selectionSet:y.selectionSet,rootValue:r,execContext:o});"heuristic"===x&&w.missing&&(w=Object(Ye.__assign)(Object(Ye.__assign)({},w),{missing:w.missing.map((function(t){return Object(Ye.__assign)(Object(Ye.__assign)({},t),{tolerable:!0})}))})),f.push(v(w))}}})),d.result=Object(Ke.mergeDeepArray)(f),this.freezeResults,d},t.prototype.executeField=function(object,t,e,n){var r=n.variableValues,o=n.contextValue,c=function(object,t,e,n,r,o){o.resultKey;var c=o.directives,l=e;(n||c)&&(l=Object(Ke.getStoreKeyName)(l,n,c));var h=void 0;if(object&&void 0===(h=object[l])&&r.cacheRedirects&&"string"==typeof t){var d=r.cacheRedirects[t];if(d){var f=d[e];f&&(h=f(object,n,{getCacheKey:function(t){var e=r.dataIdFromObject(t);return e&&Object(Ke.toIdValue)({id:e,typename:t.__typename})}}))}}if(void 0===h)return{result:h,missing:[{object:object,fieldName:l,tolerable:!1}]};Object(Ke.isJsonValue)(h)&&(h=h.json);return{result:h}}(object,t,e.name.value,Object(Ke.argumentsObjectFromField)(e,r),o,{resultKey:Object(Ke.resultKeyNameFromField)(e),directives:Object(Ke.getDirectiveInfoFromField)(e,r)});return Array.isArray(c.result)?this.combineExecResults(c,this.executeSubSelectedArray({field:e,array:c.result,execContext:n})):e.selectionSet?null==c.result?c:this.combineExecResults(c,this.executeSelectionSet({selectionSet:e.selectionSet,rootValue:c.result,execContext:n})):(pr(e,c.result),this.freezeResults,c)},t.prototype.combineExecResults=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e.forEach((function(e){e.missing&&(t=t||[]).push.apply(t,e.missing)})),{result:e.pop().result,missing:t}},t.prototype.executeSubSelectedArray=function(t){var e,n=this,r=t.field,o=t.array,c=t.execContext;function l(t){return t.missing&&(e=e||[]).push.apply(e,t.missing),t.result}return o=o.map((function(t){return null===t?null:Array.isArray(t)?l(n.executeSubSelectedArray({field:r,array:t,execContext:c})):r.selectionSet?l(n.executeSelectionSet({selectionSet:r.selectionSet,rootValue:t,execContext:c})):(pr(r,t),t)})),this.freezeResults,{result:o,missing:e}},t}();function pr(t,e){if(!t.selectionSet&&Object(Ke.isIdValue)(e))throw new nn.a(10)}function dr(){return!0}var fr=function(){function t(data){void 0===data&&(data=Object.create(null)),this.data=data}return t.prototype.toObject=function(){return this.data},t.prototype.get=function(t){return this.data[t]},t.prototype.set=function(t,e){this.data[t]=e},t.prototype.delete=function(t){this.data[t]=void 0},t.prototype.clear=function(){this.data=Object.create(null)},t.prototype.replace=function(t){this.data=t||Object.create(null)},t}();var mr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="WriteError",e}return Object(Ye.__extends)(e,t),e}(Error);var vr=function(){function t(){}return t.prototype.writeQueryToStore=function(t){var e=t.query,n=t.result,r=t.store,o=void 0===r?cr():r,c=t.variables,l=t.dataIdFromObject,h=t.fragmentMatcherFunction;return this.writeResultToStore({dataId:"ROOT_QUERY",result:n,document:e,store:o,variables:c,dataIdFromObject:l,fragmentMatcherFunction:h})},t.prototype.writeResultToStore=function(t){var e=t.dataId,n=t.result,r=t.document,o=t.store,c=void 0===o?cr():o,l=t.variables,h=t.dataIdFromObject,d=t.fragmentMatcherFunction,f=Object(Ke.getOperationDefinition)(r);try{return this.writeSelectionSetToStore({result:n,dataId:e,selectionSet:f.selectionSet,context:{store:c,processedData:{},variables:Object(Ke.assign)({},Object(Ke.getDefaultValues)(f),l),dataIdFromObject:h,fragmentMap:Object(Ke.createFragmentMap)(Object(Ke.getFragmentDefinitions)(r)),fragmentMatcherFunction:d}})}catch(t){throw function(t,e){var n=new mr("Error writing result to store for query:\n "+JSON.stringify(e));return n.message+="\n"+t.message,n.stack=t.stack,n}(t,r)}},t.prototype.writeSelectionSetToStore=function(t){var e=this,n=t.result,r=t.dataId,o=t.selectionSet,c=t.context,l=c.variables,h=c.store,d=c.fragmentMap;return o.selections.forEach((function(t){var o;if(Object(Ke.shouldInclude)(t,l))if(Object(Ke.isField)(t)){var h=Object(Ke.resultKeyNameFromField)(t),f=n[h];if(void 0!==f)e.writeFieldToStore({dataId:r,value:f,field:t,context:c});else{var m=!1,v=!1;t.directives&&t.directives.length&&(m=t.directives.some((function(t){return t.name&&"defer"===t.name.value})),v=t.directives.some((function(t){return t.name&&"client"===t.name.value}))),!m&&!v&&c.fragmentMatcherFunction}}else{var y=void 0;Object(Ke.isInlineFragment)(t)?y=t:(y=(d||{})[t.name.value],Object(nn.b)(y,3));var _=!0;if(c.fragmentMatcherFunction&&y.typeCondition){var x=r||"self",w=Object(Ke.toIdValue)({id:x,typename:void 0}),E={store:new fr((o={},o[x]=n,o)),cacheRedirects:{}},M=c.fragmentMatcherFunction(w,y.typeCondition.name.value,E);Object(Ke.isProduction)(),_=!!M}_&&e.writeSelectionSetToStore({result:n,selectionSet:y.selectionSet,dataId:r,context:c})}})),h},t.prototype.writeFieldToStore=function(t){var e,n,r,o=t.field,c=t.value,l=t.dataId,h=t.context,d=h.variables,f=h.dataIdFromObject,m=h.store,v=Object(Ke.storeKeyNameFromField)(o,d);if(o.selectionSet&&null!==c)if(Array.isArray(c)){var y=l+"."+v;n=this.processArrayValue(c,y,o.selectionSet,h)}else{var _=l+"."+v,x=!0;if(gr(_)||(_="$"+_),f){var w=f(c);Object(nn.b)(!w||!gr(w),4),(w||"number"==typeof w&&0===w)&&(_=w,x=!1)}yr(_,o,h.processedData)||this.writeSelectionSetToStore({dataId:_,result:c,selectionSet:o.selectionSet,context:h});var E=c.__typename;n=Object(Ke.toIdValue)({id:_,typename:E},x);var M=(r=m.get(l))&&r[v];if(M!==n&&Object(Ke.isIdValue)(M)){var S=void 0!==M.typename,T=void 0!==E,D=S&&T&&M.typename!==E;Object(nn.b)(!x||M.generated||D,5),Object(nn.b)(!S||T,6),M.generated&&(D?x||m.delete(M.id):function t(e,n,r){if(e===n)return!1;var o=r.get(e),c=r.get(n),l=!1;Object.keys(o).forEach((function(e){var n=o[e],h=c[e];Object(Ke.isIdValue)(n)&&gr(n.id)&&Object(Ke.isIdValue)(h)&&!Object(Je.a)(n,h)&&t(n.id,h.id,r)&&(l=!0)})),r.delete(e);var h=Object(Ye.__assign)(Object(Ye.__assign)({},o),c);if(Object(Je.a)(h,c))return l;return r.set(n,h),!0}(M.id,n.id,m))}}else n=null!=c&&"object"==typeof c?{type:"json",json:c}:c;(r=m.get(l))&&Object(Je.a)(n,r[v])||m.set(l,Object(Ye.__assign)(Object(Ye.__assign)({},r),((e={})[v]=n,e)))},t.prototype.processArrayValue=function(t,e,n,r){var o=this;return t.map((function(t,c){if(null===t)return null;var l=e+"."+c;if(Array.isArray(t))return o.processArrayValue(t,l,n,r);var h=!0;if(r.dataIdFromObject){var d=r.dataIdFromObject(t);d&&(l=d,h=!1)}return yr(l,n,r.processedData)||o.writeSelectionSetToStore({dataId:l,result:t,selectionSet:n,context:r}),Object(Ke.toIdValue)({id:l,typename:t.__typename},h)}))},t}();function gr(t){return"$"===t[0]}function yr(t,e,n){if(!n)return!1;if(n[t]){if(n[t].indexOf(e)>=0)return!0;n[t].push(e)}else n[t]=[e];return!1}var _r={fragmentMatcher:new ar,dataIdFromObject:function(t){if(t.__typename){if(void 0!==t.id)return t.__typename+":"+t.id;if(void 0!==t._id)return t.__typename+":"+t._id}return null},addTypename:!0,resultCaching:!0,freezeResults:!1};var xr=Object.prototype.hasOwnProperty,wr=function(t){function e(e,n,r){var o=t.call(this,Object.create(null))||this;return o.optimisticId=e,o.parent=n,o.transaction=r,o}return Object(Ye.__extends)(e,t),e.prototype.toObject=function(){return Object(Ye.__assign)(Object(Ye.__assign)({},this.parent.toObject()),this.data)},e.prototype.get=function(t){return xr.call(this.data,t)?this.data[t]:this.parent.get(t)},e}(fr),Er=function(t){function e(e){void 0===e&&(e={});var n=t.call(this)||this;n.watches=new Set,n.typenameDocumentCache=new Map,n.cacheKeyRoot=new Jn(Ke.canUseWeakMap),n.silenceBroadcast=!1,n.config=Object(Ye.__assign)(Object(Ye.__assign)({},_r),e),n.config.customResolvers&&(n.config.cacheRedirects=n.config.customResolvers),n.config.cacheResolvers&&(n.config.cacheRedirects=n.config.cacheResolvers),n.addTypename=!!n.config.addTypename,n.data=n.config.resultCaching?new ur:new fr,n.optimisticData=n.data,n.storeWriter=new vr,n.storeReader=new lr({cacheKeyRoot:n.cacheKeyRoot,freezeResults:e.freezeResults});var r=n,o=r.maybeBroadcastWatch;return n.maybeBroadcastWatch=rr((function(t){return o.call(n,t)}),{makeCacheKey:function(t){if(!t.optimistic&&!t.previousResult)return r.data instanceof ur?r.cacheKeyRoot.lookup(t.query,JSON.stringify(t.variables)):void 0}}),n}return Object(Ye.__extends)(e,t),e.prototype.restore=function(data){return data&&this.data.replace(data),this},e.prototype.extract=function(t){return void 0===t&&(t=!1),(t?this.optimisticData:this.data).toObject()},e.prototype.read=function(t){if("string"==typeof t.rootId&&void 0===this.data.get(t.rootId))return null;var e=this.config.fragmentMatcher,n=e&&e.match;return this.storeReader.readQueryFromStore({store:t.optimistic?this.optimisticData:this.data,query:this.transformDocument(t.query),variables:t.variables,rootId:t.rootId,fragmentMatcherFunction:n,previousResult:t.previousResult,config:this.config})||null},e.prototype.write=function(t){var e=this.config.fragmentMatcher,n=e&&e.match;this.storeWriter.writeResultToStore({dataId:t.dataId,result:t.result,variables:t.variables,document:this.transformDocument(t.query),store:this.data,dataIdFromObject:this.config.dataIdFromObject,fragmentMatcherFunction:n}),this.broadcastWatches()},e.prototype.diff=function(t){var e=this.config.fragmentMatcher,n=e&&e.match;return this.storeReader.diffQueryAgainstStore({store:t.optimistic?this.optimisticData:this.data,query:this.transformDocument(t.query),variables:t.variables,returnPartialData:t.returnPartialData,previousResult:t.previousResult,fragmentMatcherFunction:n,config:this.config})},e.prototype.watch=function(t){var e=this;return this.watches.add(t),function(){e.watches.delete(t)}},e.prototype.evict=function(t){throw new nn.a(7)},e.prototype.reset=function(){return this.data.clear(),this.broadcastWatches(),Promise.resolve()},e.prototype.removeOptimistic=function(t){for(var e=[],n=0,r=this.optimisticData;r instanceof wr;)r.optimisticId===t?++n:e.push(r),r=r.parent;if(n>0){for(this.optimisticData=r;e.length>0;){var o=e.pop();this.performTransaction(o.transaction,o.optimisticId)}this.broadcastWatches()}},e.prototype.performTransaction=function(t,e){var data=this.data,n=this.silenceBroadcast;this.silenceBroadcast=!0,"string"==typeof e&&(this.data=this.optimisticData=new wr(e,this.optimisticData,t));try{t(this)}finally{this.silenceBroadcast=n,this.data=data}this.broadcastWatches()},e.prototype.recordOptimisticTransaction=function(t,e){return this.performTransaction(t,e)},e.prototype.transformDocument=function(t){if(this.addTypename){var e=this.typenameDocumentCache.get(t);return e||(e=Object(Ke.addTypenameToDocument)(t),this.typenameDocumentCache.set(t,e),this.typenameDocumentCache.set(e,e)),e}return t},e.prototype.broadcastWatches=function(){var t=this;this.silenceBroadcast||this.watches.forEach((function(e){return t.maybeBroadcastWatch(e)}))},e.prototype.maybeBroadcastWatch=function(t){t.callback(this.diff({query:t.query,variables:t.variables,previousResult:t.previousResult&&t.previousResult(),optimistic:t.optimistic}))},e}(Dn),Mr=n(131),Sr=n(216),Tr=n.n(Sr),Dr=function(t){function e(e){var n=t.call(this)||this;return e instanceof Mr.SubscriptionClient?n.subscriptionClient=e:n.subscriptionClient=new Mr.SubscriptionClient(e.uri,e.options,e.webSocketImpl),n}return Object(Ye.__extends)(e,t),e.prototype.request=function(t){return this.subscriptionClient.request(t)},e}(tn.ApolloLink),Or=n(125),Cr=n(525),Ar={generateHash:function(t){return Cr().update(Object(Or.print)(t)).digest("hex")},disable:function(t){var e=t.graphQLErrors,n=t.operation;if(e&&e.some((function(t){return"PersistedQueryNotSupported"===t.message})))return!0;var r=n.getContext().response;return!(!r||!r.status||400!==r.status&&500!==r.status)},useGETForHashedQueries:!1};function kr(t){return"OperationDefinition"===t.kind&&"mutation"===t.operation}var Pr=Object.prototype.hasOwnProperty,jr="function"==typeof Symbol?Symbol.for("__createPersistedQueryLink_hashes"):"__createPersistedQueryLink_hashes",Lr=0,Ir=function(t){void 0===t&&(t={});var e=Object.assign({},Ar,t),n=e.generateHash,r=e.disable,o=e.useGETForHashedQueries,c=!0,l="forLink"+Lr++;function h(t){if(!t||"object"!=typeof t)return n(t);Pr.call(t,jr)||Object.defineProperty(t,jr,{value:Object.create(null),enumerable:!1});var e=t[jr];return Pr.call(e,l)?e[l]:e[l]=n(t)}return new tn.ApolloLink((function(t,e){if(!e)throw new Error("PersistedQueryLink cannot be the last link in the chain.");var n,l=t.query;if(c)try{t.extensions.persistedQuery={version:1,sha256Hash:h(l)}}catch(t){n=t}return new Ze.a((function(l){if(!n){var h,d,f=!1,m=!1,v=function(n,o){var l=n.response,v=n.networkError;if(!f&&(l&&l.errors||v)){f=!0;var _={response:l,networkError:v,operation:t,graphQLErrors:l?l.errors:void 0};if(c=!r(_),l&&l.errors&&l.errors.some((function(t){return"PersistedQueryNotFound"===t.message}))||!c)return h&&h.unsubscribe(),t.setContext({http:{includeQuery:!0,includeExtensions:c}}),m&&t.setContext({fetchOptions:d}),void(h=e(t).subscribe(y))}o()},y={next:function(t){v({response:t},(function(){return l.next(t)}))},error:function(t){v({networkError:t},(function(){return l.error(t)}))},complete:l.complete.bind(l)};return t.setContext({http:{includeQuery:!c,includeExtensions:c}}),o&&c&&function(t){return!t.query.definitions.some(kr)}(t)&&(t.setContext((function(t){var e=t.fetchOptions,n=void 0===e?{}:e;return d=n,{fetchOptions:Object.assign({},n,{method:"GET"})}})),m=!0),h=e(t).subscribe(y),function(){h&&h.unsubscribe()}}l.error(n)}))}))};var Rr=n(377),Nr={test:function(t){return"client"===t.name.value},remove:!0},Fr=new Map;var Br,Ur=(Br=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},function(t,b){function e(){this.constructor=t}Br(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}),Vr=Rr.graphql,zr=function(t){void 0===t&&(t={resolvers:{},defaults:{}});var e=t.defaults,n=t.cache,r=t.typeDefs,o=t.fragmentMatcher;return n&&e&&n.writeData({data:e}),new(function(c){function l(){return null!==c&&c.apply(this,arguments)||this}return Ur(l,c),l.prototype.writeDefaults=function(){n&&e&&n.writeData({data:e})},l.prototype.request=function(n,c){if(void 0===c&&(c=function(){return Ze.a.of({data:{}})}),r){var l=function(t){return(Array.isArray(t)?t:[t]).map((function(t){return"string"==typeof t?t:Object(Or.print)(t)})).map((function(t){return t.trim()})).join("\n")}(r);n.setContext((function(t){var e=t.schemas;return{schemas:(void 0===e?[]:e).concat([{definition:l,directives:"directive @client on FIELD"}])}}))}if(!Object(Ke.hasDirectives)(["client"],n.query))return c(n);var h,d="function"==typeof t.resolvers?t.resolvers():t.resolvers,f=function(t){var e=Fr.get(t);if(e)return e;Object(Ke.checkDocument)(t);var n=Object(Ke.removeDirectivesFromDocument)([Nr],t);return Fr.set(t,n),n}(n.query),m=n.query,v=(h=(Object(Ke.getMainDefinition)(m)||{}).operation).charAt(0).toUpperCase()+h.slice(1)||"Query",y=function(t,n,r,o,c){void 0===n&&(n={});var l=c.resultKey,h=n[l],f=n[t],m=l!==t;if(void 0!==h||void 0!==f)return h||f;var y=d[n.__typename||v];if(y){var _=y[t];if(_)return _(n,r,o,c)}return(m?h:f)||(e||{})[t]};f&&(n.query=f);var _=f&&c?c(n):Ze.a.of({data:{}});return new Ze.a((function(t){var e=!1,r=!1;_.subscribe({next:function(c){var data=c.data,l=c.errors,h=t.error.bind(t),d=n.getContext();r=!0,Vr(y,m,data,d,n.variables,{fragmentMatcher:o}).then((function(n){t.next({data:n,errors:l}),e&&t.complete(),r=!1})).catch(h)},error:t.error.bind(t),complete:function(){r||t.complete(),e=!0}})}))},l}(tn.ApolloLink))};function Hr(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function Gr(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Hr(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):Hr(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function Wr(t){var e,n,o,c,l=t.clientId,h=void 0===l?"defaultClient":l,d=t.httpEndpoint,f=t.wsEndpoint,m=void 0===f?null:f,v=t.tokenName,y=void 0===v?"apollo-token":v,_=t.persisting,x=void 0!==_&&_,w=t.ssr,E=void 0!==w&&w,M=t.websocketsOnly,S=void 0!==M&&M,T=t.link,link=void 0===T?null:T,D=t.preAuthLinks,O=void 0===D?[]:D,C=t.defaultHttpLink,A=void 0===C||C,k=t.httpLinkOptions,P=void 0===k?{}:k,j=t.cache,L=void 0===j?null:j,I=t.inMemoryCacheOptions,R=void 0===I?{}:I,N=t.apollo,F=void 0===N?{}:N,B=t.clientState,U=void 0===B?null:B,V=t.getAuth,z=void 0===V?$r:V,H=t.typeDefs,G=void 0===H?void 0:H,W=t.resolvers,$=void 0===W?void 0:W,Q=t.onCacheInit,X=void 0===Q?void 0:Q,Y=S&&!E&&m;if(L||(L=new Er(R)),!Y){var K=Object(wn.createUploadLink)(Gr({uri:d},P));link?A&&(link=Object(tn.from)([link,K])):link=K,c=function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(e,n){var r,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.headers,t.next=3,z(y);case 3:return o=t.sent,c=o?{Authorization:o}:{},t.abrupt("return",{headers:Gr(Gr({},r),c)});case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),link=(n=new tn.ApolloLink((function(t,e){var n=Object(Ye.__rest)(t,[]);return new Ze.a((function(r){var o;return Promise.resolve(n).then((function(e){return c(e,t.getContext())})).then(t.setContext).then((function(){o=e(t).subscribe({next:r.next.bind(r),error:r.error.bind(r),complete:r.complete.bind(r)})})).catch(r.error.bind(r)),function(){o&&o.unsubscribe()}}))}))).concat(link),O.length&&(link=Object(tn.from)(O).concat(n))}if(!E){if("undefined"!=typeof window){var J=window.__APOLLO_STATE__;J&&J[h]&&L.restore(J[h])}if(!Y){var Z={};"object"===Object(be.a)(x)&&null!=x&&(Z=x,x=!0),!0===x&&(link=Ir(Z).concat(link))}if(m){e=new Mr.SubscriptionClient(m,{reconnect:!0,connectionParams:function(){var t=z(y);return t?{Authorization:t,headers:{Authorization:t}}:{}}});var tt=new Dr(e);link=Y?link?link.concat(tt):tt:Object(tn.split)((function(t){var e=t.query,n=Object(Ke.getMainDefinition)(e),r=n.kind,o=n.operation;return"OperationDefinition"===r&&"subscription"===o}),tt,link)}}U&&(console.warn("clientState is deprecated, see https://vue-cli-plugin-apollo.netlify.com/guide/client-state.html"),o=zr(Gr({cache:L},U)),link=Object(tn.from)([o,link]));var et=new xn(Gr(Gr({link:link,cache:L},E?{ssrMode:!0}:{ssrForceFetchDelay:100,connectToDevTools:!1}),{},{typeDefs:G,resolvers:$},F));return o&&et.onResetStore(o.writeDefaults),X&&(X(L),et.onResetStore((function(){return X(L)}))),{apolloClient:et,wsClient:e,stateLink:o}}function qr(t){var e=Object.assign({},t.operations);t.close(!0),t.connect(),Object.keys(e).forEach((function(n){t.sendMessage(n,Tr.a.GQL_START,e[n].options)}))}function $r(t){if("undefined"!=typeof window){var e=window.localStorage.getItem(t);return e?"Bearer ".concat(e):""}}function Qr(t,e){void 0===e&&(e={});var n=function(t){if(t&&"j"===t[0]&&":"===t[1])return t.substr(2);return t}(t);if(function(t,e){return void 0===e&&(e=!t||"{"!==t[0]&&"["!==t[0]&&'"'!==t[0]),!e}(n,e.doNotParse))try{return JSON.parse(n)}catch(t){}return t}var Xr=function(){return(Xr=Object.assign||function(t){for(var s,i=1,e=arguments.length;i<e;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},Yr=function(){function t(t,e){var n=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=function(t,e){return"string"==typeof t?xe.parse(t,e):"object"==typeof t&&null!==t?t:{}}(t,e),new Promise((function(){n.HAS_DOCUMENT_COOKIE="object"==typeof document&&"string"==typeof document.cookie})).catch((function(){}))}return t.prototype._updateBrowserValues=function(t){this.HAS_DOCUMENT_COOKIE&&(this.cookies=xe.parse(document.cookie,t))},t.prototype._emitChange=function(t){for(var i=0;i<this.changeListeners.length;++i)this.changeListeners[i](t)},t.prototype.get=function(t,e,n){return void 0===e&&(e={}),this._updateBrowserValues(n),Qr(this.cookies[t],e)},t.prototype.getAll=function(t,e){void 0===t&&(t={}),this._updateBrowserValues(e);var n={};for(var r in this.cookies)n[r]=Qr(this.cookies[r],t);return n},t.prototype.set=function(t,e,n){var r;"object"==typeof e&&(e=JSON.stringify(e)),this.cookies=Xr(Xr({},this.cookies),((r={})[t]=e,r)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=xe.serialize(t,e,n)),this._emitChange({name:t,value:e,options:n})},t.prototype.remove=function(t,e){var n=e=Xr(Xr({},e),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=Xr({},this.cookies),delete this.cookies[t],this.HAS_DOCUMENT_COOKIE&&(document.cookie=xe.serialize(t,"",n)),this._emitChange({name:t,value:void 0,options:e})},t.prototype.addChangeListener=function(t){this.changeListeners.push(t)},t.prototype.removeChangeListener=function(t){var e=this.changeListeners.indexOf(t);e>=0&&this.changeListeners.splice(e,1)},t}();function Kr(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}c.a.use(Xe.a);var Jr=function(t,e){var c,l={clients:{}},h=t.app,d=(t.beforeNuxtRender,t.req),f={expires:7,path:"/",secure:!1},m=new Yr(d&&d.headers.cookie);"default"in(c=n(535))&&(c=c.default);(c=c(t)).validateToken||(c.validateToken=function(){return!0});var v=c.cache?c.cache:new Er(c.inMemoryCacheOptions?c.inMemoryCacheOptions:void 0);v.restore(window.__NUXT__&&window.__NUXT__.apollo?window.__NUXT__.apollo.defaultClient:null),c.getAuth||(c.getAuth=function(){var t=m.get("apollo-token");return t&&c.validateToken(t)?"Bearer "+t:""}),c.browserHttpEndpoint&&(c.httpEndpoint=c.browserHttpEndpoint),c.ssr=!1,c.cache=v,c.tokenName="apollo-token";var y=Wr(function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Kr(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):Kr(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},c));y.apolloClient.wsClient=y.wsClient,l.defaultClient=y.apolloClient;var _,x,w=Object.assign(l,{errorHandler:function(t){console.log("%cError","background: red; color: white; padding: 2px 4px; border-radius: 3px; font-weight: bold;",t.message)}}),E=new Xe.a(w);h.apolloProvider=E,e("apolloHelpers",{onLogin:(x=Object(r.a)(regeneratorRuntime.mark((function t(e){var n,r,o,c=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=c.length>1&&void 0!==c[1]?c[1]:E.defaultClient,r=c.length>2&&void 0!==c[2]?c[2]:f,o=c.length>3&&void 0!==c[3]&&c[3],"number"==typeof r&&(r={expires:r}),"number"==typeof r.expires&&(r.expires=new Date(Date.now()+864e5*r.expires)),e?m.set("apollo-token",e,r):m.remove("apollo-token",r),n.wsClient&&qr(n.wsClient),o){t.next=16;break}return t.prev=8,t.next=11,n.resetStore();case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(8),console.log("%cError on cache reset (setToken)","color: orange;",t.t0.message);case 16:case"end":return t.stop()}}),t,null,[[8,13]])}))),function(t){return x.apply(this,arguments)}),onLogout:(_=Object(r.a)(regeneratorRuntime.mark((function t(){var e,n,r=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r.length>0&&void 0!==r[0]?r[0]:E.defaultClient,n=r.length>1&&void 0!==r[1]&&r[1],m.remove("apollo-token",f),e.wsClient&&qr(e.wsClient),n){t.next=13;break}return t.prev=5,t.next=8,e.resetStore();case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(5),console.log("%cError on cache reset (logout)","color: orange;",t.t0.message);case 13:case"end":return t.stop()}}),t,null,[[5,10]])}))),function(){return _.apply(this,arguments)}),getToken:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"apollo-token";return m.get(t)}})},Zr=n(243);function ti(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function ei(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ti(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):ti(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}c.a.component(d.a.name,d.a),c.a.component(m.a.name,ei(ei({},m.a),{},{render:function(t,e){return m.a._warned||(m.a._warned=!0,console.warn("<no-ssr> has been deprecated and will be removed in Nuxt 3, please use <client-only> instead")),m.a.render(t,e)}})),c.a.component(k.name,k),c.a.component("NChild",k),c.a.component(F.name,F),Object.defineProperty(c.a.prototype,"$nuxt",{get:function(){return this.$root.$options.$nuxt},configurable:!0}),c.a.use(l.a,{keyName:"head",attribute:"data-n-head",ssrAttribute:"data-n-head-ssr",tagIDKeyName:"hid"});var ni={name:"page",mode:"out-in",appear:!1,appearClass:"appear",appearActiveClass:"appear-active",appearToClass:"appear-to"};function ri(t){return ii.apply(this,arguments)}function ii(){return(ii=Object(r.a)(regeneratorRuntime.mark((function t(e){var n,r,o,l,h,path,d,f=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d=function(t,e){if(!t)throw new Error("inject(key, value) has no key provided");if(void 0===e)throw new Error("inject('".concat(t,"', value) has no value provided"));o[t="$"+t]=e,o.context[t]||(o.context[t]=e);var n="__nuxt_"+t+"_installed__";c.a[n]||(c.a[n]=!0,c.a.use((function(){Object.prototype.hasOwnProperty.call(c.a.prototype,t)||Object.defineProperty(c.a.prototype,t,{get:function(){return this.$root.$options[t]}})})))},n=f.length>1&&void 0!==f[1]?f[1]:{},t.next=4,A();case 4:return r=t.sent,o=ei({head:{title:"",meta:[{charset:"utf-8"},{name:"viewport",content:"height=device-height, width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"},{hid:"description",name:"description",content:""},{name:"msapplication-TileColor",content:"#1d1d2f"},{name:"theme-color",content:"#1d1d2f"}],link:[{rel:"stylesheet",href:"https://use.typekit.net/vff3dsu.css"},{rel:"apple-touch-icon",sizes:"180x180",href:"/favicon/apple-touch-icon.png"},{rel:"icon",type:"image/png",sizes:"32x32",href:"/favicon/favicon-32x32.png"},{rel:"icon",type:"image/png",sizes:"16x16",href:"/favicon/favicon-16x16.png"},{rel:"manifest",href:"/favicon/site.webmanifest"},{rel:"mask-icon",href:"/favicon/safari-pinned-tab.svg",color:"#1d1d2f"}],style:[],script:[]},router:r,nuxt:{defaultTransition:ni,transitions:[ni],setTransitions:function(t){return Array.isArray(t)||(t=[t]),t=t.map((function(t){return t=t?"string"==typeof t?Object.assign({},ni,{name:t}):Object.assign({},ni,t):ni})),this.$options.nuxt.transitions=t,t},err:null,dateErr:null,error:function(t){t=t||null,o.context._errored=Boolean(t),t=t?Object(y.o)(t):null;var n=o.nuxt;return this&&(n=this.nuxt||this.$options.nuxt),n.dateErr=Date.now(),n.err=t,e&&(e.nuxt.error=t),t}}},$),l=e?e.next:function(t){return o.router.push(t)},e?h=r.resolve(e.url).route:(path=Object(y.f)(r.options.base,r.options.mode),h=r.resolve(path).route),t.next=10,Object(y.s)(o,{route:h,next:l,error:o.nuxt.error.bind(o),payload:e?e.payload:void 0,req:e?e.req:void 0,res:e?e.res:void 0,beforeRenderFns:e?e.beforeRenderFns:void 0,ssrContext:e});case 10:d("config",n),o.context.enablePreview=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o.previewData=Object.assign({},t),d("preview",t)},t.next=15;break;case 15:t.next=18;break;case 18:return t.next=21,wt(o.context);case 21:if("function"!=typeof Qe){t.next=24;break}return t.next=24,Qe(o.context,d);case 24:return t.next=27,Jr(o.context,d);case 27:if("function"!=typeof Zr.a){t.next=30;break}return t.next=30,Object(Zr.a)(o.context,d);case 30:o.context.enablePreview=function(){console.warn("You cannot call enablePreview() outside a plugin.")},t.next=34;break;case 34:return t.abrupt("return",{app:o,router:r});case 35:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},87:function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return l}));var r=n(65);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(input){var t;try{void 0===(t=JSON.parse(input))&&(t=input),"true"===t&&(t=!0),"false"===t&&(t=!1),parseFloat(t)===t&&"object"!==o(t)&&(t=parseFloat(t))}catch(e){t=input}return t}var l="object"===("undefined"==typeof self?"undefined":o(self))&&self.self===self&&self||"object"===(void 0===t?"undefined":o(t))&&t.global===t&&t||void 0,h=function(){try{if("undefined"==typeof localStorage||"undefined"==typeof JSON)return!1;localStorage.setItem("_t_","1"),localStorage.removeItem("_t_")}catch(t){return!1}return!0}(),d=Object(r.b)();function f(t){return{cookie:c(Object(r.a)(t)),localStorage:c(localStorage.getItem(t)),global:l[t]||null}}function m(t){return"string"==typeof t?t:t.storage}function v(t){return h&&(!t||"localStorage"===t)}function y(t){return d&&(!t||"cookie"===t)}var _={getItem:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)return null;var n=m(e);if("all"===n)return f(t);if(v(n)){var o=localStorage.getItem(t);if(o||"localStorage"===n)return c(o)}if(y(n)){var h=Object(r.a)(t);if(h||"cookie"===n)return c(h)}return l[t]||null},setItem:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t||!e)return!1;var o=m(n),h=JSON.stringify(e);if(v(o)){var d=c(localStorage.getItem(t));return localStorage.setItem(t,h),{value:e,oldValue:d,location:"localStorage"}}if(y(o)){var f=c(Object(r.a)(t));return Object(r.d)(t,h),{value:e,oldValue:f,location:"cookie"}}var _=l[t];return l[t]=e,{value:e,oldValue:_,location:"global"}},removeItem:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)return!1;var n=m(e);return v(n)?(localStorage.removeItem(t),"localStorage"):y(n)?(Object(r.c)(t),"cookie"):(l[t]=void 0,"global")}};e.a=_}).call(this,n(44))},9:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return h}));var r=n(2),o=Object.setPrototypeOf,c=void 0===o?function(t,e){return t.__proto__=e,t}:o,l=function(t){function e(n){void 0===n&&(n="Invariant Violation");var r=t.call(this,"number"==typeof n?"Invariant Violation: "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return r.framesToPop=1,r.name="Invariant Violation",c(r,e.prototype),r}return Object(r.__extends)(e,t),e}(Error);function h(t,e){if(!t)throw new l(e)}function d(t){return function(){return console[t].apply(console,arguments)}}!function(t){t.warn=d("warn"),t.error=d("error")}(h||(h={}));var f={env:{}};if("object"==typeof t)f=t;else try{Function("stub","process = stub")(f)}catch(t){}}).call(this,n(182))}}]);